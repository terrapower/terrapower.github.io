

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta property="og:title" content="7. Reports in ARMI" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/developer/reports.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="ARMI provides the ability to make a variety of plots and tables describing the state of the reactor. Also, with ARMI’s variety of plugins, some plots/analysis could be plugin dependent. If you have..." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  <meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>7. Reports in ARMI &mdash; ARMI 0.2.4 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="../_static/assets/jsonview.bundle.js"></script>
        <script src="../_static/assets/jsonview_loader.js"></script>
        <script src="../_static/sphinx-needs/libs/html/datatables.min.js"></script>
        <script src="../_static/sphinx-needs/libs/html/datatables_loader.js"></script>
        <script src="../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8. Standards and Practices for Coding" href="standards_and_practices.html" />
    <link rel="prev" title="6. Profiling ARMI" href="profiling.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >
          

          
            <a href="../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.2.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="guide.html">1. Framework Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="making_armi_based_apps.html">2. Making ARMI-based Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="entrypoints.html">3. Entry Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="documenting.html">4. Documenting ARMI</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_coding.html">5. Parallel Code in ARMI</a></li>
<li class="toctree-l2"><a class="reference internal" href="profiling.html">6. Profiling ARMI</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7. Reports in ARMI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-hook-getreportcontents">7.1. The Hook: getReportContents()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-is-reportcontent">7.2. What is ReportContent?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sections">7.3. Sections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tables">7.4. Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#images">7.5. Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timeseries">7.6. TimeSeries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#html-elements">7.7. HTML Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#summary">7.8. Summary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="standards_and_practices.html">8. Standards and Practices for Coding</a></li>
<li class="toctree-l2"><a class="reference internal" href="tooling.html">9. Tooling and Infrastructure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements/index.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../.apidocs/modules.html">API Docs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Developer Docs</a> &raquo;</li>
        
      <li><span class="section-number">7. </span>Reports in ARMI</li>
    
    
  <li class="wy-breadcrumbs-aside">
    
      
    
  </li>

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="reports-in-armi">
<h1><span class="section-number">7. </span>Reports in ARMI<a class="headerlink" href="#reports-in-armi" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The resulting report itself is an HTML page with table of contents on the left.</p>
</div>
<p>ARMI provides the ability to make a variety of plots and tables describing the state of the reactor.
Also, with ARMI’s variety of plugins, some plots/analysis could be plugin dependent. If you have certain plugins installed, some new
different plots may be available or more pertinent to the report.</p>
<p>From this understanding, a plugin hook is created called getReportContents(), which allows for this ability to get special contents
from a specific plugin.</p>
<p>Currently it is implemented in the bookkeeping and neutronics plugin.</p>
<div class="section" id="the-hook-getreportcontents">
<h2><span class="section-number">7.1. </span>The Hook: getReportContents()<a class="headerlink" href="#the-hook-getreportcontents" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>getReportContents takes in 5 arguments (r, cs, report, stage, blueprint)</p>
</div></blockquote>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">r</span></code></p></td>
<td><p>a Reactor</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cs</span></code></p></td>
<td><p>Case Settings</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">stage</span></code></p></td>
<td><p>the stage of the report you are collecting for Begin/BOL, Standard, End/EOL</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">blueprint</span></code></p></td>
<td><p>a blueprint for a reactor, and since not always provided, content is dependent on whether it has the value of None</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">report</span></code></p></td>
<td><p>a ReportContent object. This is really where all report content is stored and the cornerstone of the workings of reports</p></td>
</tr>
</tbody>
</table>
<p>ReportContent, at its core, is a transient represention of the report itself (until it is fully collected and converted to an html page), so in the call to getReportContents() additions are made to this object.
Generally, you would want to break up the added contents into stages within the function getReportContents() as so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">stage</span> <span class="o">==</span> <span class="n">ReportStage</span><span class="o">.</span><span class="n">Begin</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">newReportUtils</span><span class="o">.</span><span class="n">createGeneralReportContent</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">report</span><span class="p">,</span> <span class="n">blueprint</span><span class="p">,</span> <span class="n">stage</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">if</span> <span class="n">blueprint</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">newReportUtils</span><span class="o">.</span><span class="n">blueprintContent</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">cs</span><span class="p">,</span> <span class="n">report</span><span class="p">,</span> <span class="n">blueprint</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">elif</span> <span class="n">stage</span> <span class="o">==</span> <span class="n">ReportStage</span><span class="o">.</span><span class="n">End</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">newReportUtils</span><span class="o">.</span><span class="n">getEndOfLifeContent</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">report</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">return</span>
</pre></div>
</div>
<p>In this way, Begin things are general and not time dependent and if <code class="docutils literal notranslate"><span class="pre">blueprint</span></code> is available additional contents are made.
Things like <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> (Graphs) would want to be accessed at every stage that getReportContents() is called (so they can add a point for every time),
so one can imagine the functionality of the below to allow for <code class="docutils literal notranslate"><span class="pre">Standard</span></code> additions.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">stage</span> <span class="o">==</span> <span class="n">ReportStage</span><span class="o">.</span><span class="n">Standard</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">neutronicsPlotting</span><span class="p">(</span><span class="n">reports</span><span class="p">,</span> <span class="n">etc</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>ReportContent acts as a dicionary of <code class="docutils literal notranslate"><span class="pre">Section</span></code>’s behind the scenes and the further description of these objects will be found in the following topics.</p>
</div>
<div class="section" id="what-is-reportcontent">
<h2><span class="section-number">7.2. </span>What is ReportContent?<a class="headerlink" href="#what-is-reportcontent" title="Permalink to this headline">¶</a></h2>
<p>At the start of any report creation, creation of the ReportContent object is key.
ReportContent when created, needs the name of the reactor for the title of the report.</p>
<p>To do so, one could do the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">ReportContent</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p>The resulting use of this content to generate the title on the html page:</p>
<div class="figure align-center">
<img alt="../_images/titleReportContent.png" src="../_images/titleReportContent.png" />
</div>
<p><code class="docutils literal notranslate"><span class="pre">ReportContent</span></code> itself has a dicionary (<code class="docutils literal notranslate"><span class="pre">.sections</span></code>), and so functionality inherent to dictionaries also exists for <code class="docutils literal notranslate"><span class="pre">ReportContent</span></code>.</p>
<p>Instead of having to directly access the dictionary working behind the scenes through <code class="docutils literal notranslate"><span class="pre">report.sections[&quot;Design&quot;]</span></code>, one can instead just
directly call <code class="docutils literal notranslate"><span class="pre">report[&quot;Design&quot;]</span></code>, since <code class="docutils literal notranslate"><span class="pre">__get__()</span></code> has been implemented.</p>
<p>A major component of the ReportContent class is the function to <code class="docutils literal notranslate"><span class="pre">writeReports()</span></code>. This converts our dictionary/Section/Table/TimeSeries content into an html page for viewing.</p>
<p>Overall, the important functionality examples for <code class="docutils literal notranslate"><span class="pre">ReportContent</span></code> additions are summarized below.</p>
</div>
<div class="section" id="sections">
<h2><span class="section-number">7.3. </span>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h2>
<p>The first level of <code class="docutils literal notranslate"><span class="pre">ReportContent</span></code>’s is made up of <code class="docutils literal notranslate"><span class="pre">Section</span></code>’s. <code class="docutils literal notranslate"><span class="pre">Section</span></code>’s have a <code class="docutils literal notranslate"><span class="pre">title</span></code>, and themselves a dictionary of contents (<code class="docutils literal notranslate"><span class="pre">.childContents</span></code>),
but again the ability to just directly access a sections children like <code class="docutils literal notranslate"><span class="pre">report[Comprehensive][Setting]</span></code> exists, as long as the section already exists,
(if not, a key error persists, and so it is safer to do <code class="docutils literal notranslate"><span class="pre">report[Comprehensive].get(Setting,</span> <span class="pre">Table(...)))</span></code>, where <code class="docutils literal notranslate"><span class="pre">Table</span></code> would be the default.</p>
<p>Sections can be made of other Sections, Tables, Images, TimeSeries, or Htmltree Elements (for the purpose of directly writing prose).</p>
<p>Each time a Section is written, it’s title will be a heading above the enclosed content and it will have a reference in the html page tied to this heading.</p>
<p>Again, the ability to add different plugins content to the same section exists.</p>
<p>The following demonstrates how to add elements to the same Section through a call to <code class="docutils literal notranslate"><span class="pre">addChildElement(item,</span> <span class="pre">heading)</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">report</span><span class="p">[</span><span class="s2">&quot;Design&quot;</span><span class="p">][</span><span class="s2">&quot;Block Diagrams&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">addChildElement</span><span class="p">(</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;Diagram of </span><span class="si">{}</span><span class="s2"> Block at Cold Temperature&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">bDesign</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
                    <span class="p">),</span>
                    <span class="n">fileName</span><span class="p">,</span>
                    <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bDesign</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()),</span>
                <span class="p">),</span>
                <span class="n">bDesign</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span><span class="p">(),</span>
            <span class="p">)</span>
</pre></div>
</div>
<p>It is also possible to do the following through dictionary access for the same result</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">report</span><span class="p">[</span><span class="s2">&quot;Design&quot;</span><span class="p">][</span><span class="s2">&quot;Block Diagrams&quot;</span><span class="p">][</span><span class="n">bDesign</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()](</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;Diagram of </span><span class="si">{}</span><span class="s2"> Block at Cold Temperature&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">bDesign</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
                <span class="p">),</span>
                <span class="n">fileName</span><span class="p">,</span>
                <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bDesign</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()),</span>
            <span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="tables">
<h2><span class="section-number">7.4. </span>Tables<a class="headerlink" href="#tables" title="Permalink to this headline">¶</a></h2>
<p>Making sure a <code class="docutils literal notranslate"><span class="pre">Table</span></code> isn’t already created is important. Due to the repeated call to <code class="docutils literal notranslate"><span class="pre">getReportContents()</span></code> at different cycles/nodes of the
reactor life cycle, some sections may have already been called before, and we want to be careful about not overwriting a <code class="docutils literal notranslate"><span class="pre">Table</span></code>/<code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>.
(most <code class="docutils literal notranslate"><span class="pre">Image</span></code>’s may only be called at a single time and not dependent on multiple plugins, so those cases have less to worry about at this time)</p>
<p>A general workflow to combat the issue of potentially overwriting the table is to ensure that it exists in a get or default type call.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">get()</span></code> function implemented in Section works perfectly for this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">currentTable</span> <span class="o">=</span> <span class="n">report</span><span class="p">[</span><span class="s2">&quot;Comprehensive&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Settings&quot;</span><span class="p">,</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;Settings Table&quot;</span><span class="p">,</span> <span class="s2">&quot;General Overview))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If Comprehensive is not created as a Section yet, it will be (based on how the inner workings of __get__ defined within ReportContents works)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and Settings will be a table added to Comprehensive.</span>
</pre></div>
</div>
<p>Now, once you have the current table, you may add a row to it with <code class="docutils literal notranslate"><span class="pre">addRow()</span></code></p>
<p>An example of this in action in two distinct plugins (Neutronics and Bookkeeping) below is meant to outline the ability to add to the
same table from different plugins.</p>
<p>Suppose in Bookkeeping a <code class="docutils literal notranslate"><span class="pre">Table</span></code> is accessed with the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">section</span> <span class="o">=</span> <span class="n">report</span><span class="p">[</span><span class="n">COMPREHENSIVE_REPORT</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tableList</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">SETTINGS</span><span class="p">,</span> <span class="n">newReports</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s2">&quot;Settings&quot;</span><span class="p">,</span> <span class="s2">&quot;General overview of the run&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tableList</span><span class="o">.</span><span class="n">addRow</span><span class="p">([</span><span class="s2">&quot;outputFileExtension&quot;</span><span class="p">,</span> <span class="n">cs</span><span class="p">[</span><span class="s2">&quot;outputFileExtension&quot;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tableList</span><span class="o">.</span><span class="n">addRow</span><span class="p">([</span><span class="s2">&quot;Total Core Power&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%8.5E</span><span class="s2"> MWt&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cs</span><span class="p">[</span><span class="s2">&quot;power&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mf">1.0e6</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">cs</span><span class="p">[</span><span class="s2">&quot;cycleLengths&quot;</span><span class="p">]:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tableList</span><span class="o">.</span><span class="n">addRow</span><span class="p">([</span><span class="s2">&quot;Cycle Length&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%8.5f</span><span class="s2"> days&quot;</span> <span class="o">%</span> <span class="n">cs</span><span class="p">[</span><span class="s2">&quot;cycleLength&quot;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tableList</span><span class="o">.</span><span class="n">addRow</span><span class="p">([</span><span class="s2">&quot;BU Groups&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">cs</span><span class="p">[</span><span class="s2">&quot;buGroups&quot;</span><span class="p">])])</span>
</pre></div>
</div>
<p>Similarily that same <code class="docutils literal notranslate"><span class="pre">Table</span></code> is accessed within Neutronics for additional settings additions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">section</span> <span class="o">=</span> <span class="n">report</span><span class="p">[</span><span class="n">newReportUtils</span><span class="o">.</span><span class="n">COMPREHENSIVE_REPORT</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">newReportUtils</span><span class="o">.</span><span class="n">SETTINGS</span><span class="p">,</span> <span class="n">newReports</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s2">&quot;Settings&quot;</span><span class="p">,</span> <span class="s2">&quot;Overview of the Run&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;boundaries&quot;</span><span class="p">,</span> <span class="s2">&quot;neutronicsKernel&quot;</span><span class="p">,</span> <span class="s2">&quot;neutronicsType&quot;</span><span class="p">,</span> <span class="s2">&quot;fpModel&quot;</span><span class="p">]:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">table</span><span class="o">.</span><span class="n">addRow</span><span class="p">([</span><span class="n">key</span><span class="p">,</span> <span class="n">cs</span><span class="p">[</span><span class="n">key</span><span class="p">]])</span>
</pre></div>
</div>
<p>The result (with some additional Bookkeeping additions) is outlined in this image</p>
<div class="figure align-center">
<img alt="../_images/differentPluginsSameTable.png" src="../_images/differentPluginsSameTable.png" />
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a Table is only having additions made within one plugin and never accessed again (only happens at BOL or EOL),the opportunity to do the following exists:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">report</span><span class="p">[</span><span class="n">COMPREHENSIVE_REPORT</span><span class="p">][</span><span class="n">ASSEMBLY_AREA</span><span class="p">]</span> <span class="o">=</span> <span class="n">newReports</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s2">&quot;Assembly Area Fractions (of First Fuel Block)&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Component&quot;</span><span class="p">,</span> <span class="s2">&quot;Area (cm&lt;sup&gt;2&lt;/sup&gt;)&quot;</span><span class="p">,</span> <span class="s2">&quot;Fraction&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="p">)</span>
</pre></div>
</div>
<p>This is because there is no worry for Table overwrite if a Table is only accessed in one plugin and not time dependent.
So, something like Assembly Area Fractions, or other general Design things that you would want to insert from beginning of
reactor life.</p>
<p>The general layout of this corresponding to the html output is</p>
<div class="figure align-center">
<img alt="../_images/tableLayoutExample.png" src="../_images/tableLayoutExample.png" />
</div>
</div>
</div>
<div class="section" id="images">
<h2><span class="section-number">7.5. </span>Images<a class="headerlink" href="#images" title="Permalink to this headline">¶</a></h2>
<p>Images may generally be things to add at stage = Beg, or stage = End. (For example, a core map at BOL would be inserted at stage = Beg)
Images require a <code class="docutils literal notranslate"><span class="pre">caption</span></code> and a <code class="docutils literal notranslate"><span class="pre">filename</span></code> and have an optional <code class="docutils literal notranslate"><span class="pre">title</span></code> argument. (They would also have a call to another function before hand to create the image file (for example))</p>
<p>The <code class="docutils literal notranslate"><span class="pre">title</span></code> on an <code class="docutils literal notranslate"><span class="pre">Image</span></code> is defaulted to None. This is a decision to deal with some images where maybe it is best to group them together, but overdoing it if
each were to be given a title. Title in general has the sole purpose of giving this image a position within the table of contents one the left of the html
page. Without <code class="docutils literal notranslate"><span class="pre">title</span></code>, it will not have a +/- sign for additional drop down reference. If you want to specify an image, give it a caption and mention its name.</p>
<p>There are two examples of additions of images within sections worth mentioning.</p>
<p>Here is an example for adding Assembly Designs Images (where images are grouped but don’t have distinct titles, and no direct access, Title is defaulted to None)</p>
<div class="figure align-center">
<img alt="../_images/AssemblySectionExample.png" src="../_images/AssemblySectionExample.png" />
</div>
<p>Here is an example for Block Images (in which table of content access was wanted, so <code class="docutils literal notranslate"><span class="pre">title</span></code> was given)</p>
<div class="figure align-center">
<img alt="../_images/blockDiagramExample.png" src="../_images/blockDiagramExample.png" />
</div>
<p>In this case, Block Diagrams is the Section Title, and it is expandable, for easy viewing of distinct blocks.</p>
</div>
<div class="section" id="timeseries">
<h2><span class="section-number">7.6. </span>TimeSeries<a class="headerlink" href="#timeseries" title="Permalink to this headline">¶</a></h2>
<p>This is where information for later graphing is collected. The TimeSeries contains many elements. A <code class="docutils literal notranslate"><span class="pre">title</span></code> a <code class="docutils literal notranslate"><span class="pre">rname</span></code> (reactor name), <code class="docutils literal notranslate"><span class="pre">labels</span></code> list, <code class="docutils literal notranslate"><span class="pre">yaxis</span></code> title, and <code class="docutils literal notranslate"><span class="pre">filename</span></code>.</p>
<p>Like <code class="docutils literal notranslate"><span class="pre">Table</span></code>, these objects need to have a check on whether they already exist. In this case, you could just check and create the object when <code class="docutils literal notranslate"><span class="pre">stage</span></code> is set to Begin (and then when <code class="docutils literal notranslate"><span class="pre">stage</span></code> is Standard always know it exists to add content to),
but for good measure, you may also just check if the Plot already exists in the Section, and if not, add it.</p>
<dl>
<dt>Here is code for adding to a K-effective plot::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Make K-Effective Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;k-effective&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">neutronicsSection</span> <span class="o">=</span> <span class="n">report</span><span class="p">[</span><span class="n">reportConstants</span><span class="o">.</span><span class="n">NEUTRONICS_SECTION</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">reportConstants</span><span class="o">.</span><span class="n">KEFF_PLOT</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">neutronicsSection</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">report</span><span class="p">[</span><span class="n">reportConstants</span><span class="o">.</span><span class="n">NEUTRONICS_SECTION</span><span class="p">][</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">reportConstants</span><span class="o">.</span><span class="n">KEFF_PLOT</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="p">]</span> <span class="o">=</span> <span class="n">newReports</span><span class="o">.</span><span class="n">TimeSeries</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;Plot of K-Effective&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">r</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">labels</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;K-eff value&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;keff.&quot;</span> <span class="o">+</span> <span class="n">cs</span><span class="p">[</span><span class="s2">&quot;outputFileExtension&quot;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="c1"># To create the keff section and start populating it&#39;s points...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span><span class="p">[</span><span class="n">reportConstants</span><span class="o">.</span><span class="n">NEUTRONICS_SECTION</span><span class="p">][</span><span class="n">reportConstants</span><span class="o">.</span><span class="n">KEFF_PLOT</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
<span class="go">    labels[0], r.p.time, r.core.p.keff, r.core.p.keffUnc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p>Here, only one label exists, so we only add one line for <code class="docutils literal notranslate"><span class="pre">label[0]</span></code>. There are further examples of this in the docstring of <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> for information on adding multiple lines.
In summary, to add multiple lines (say, for different assembly types on a Peak DPA plot), the label would be the assembly type and the data would be the dpa at the time for that type.
The <code class="docutils literal notranslate"><span class="pre">uncertainty</span></code> value –&gt; which in general denotes an error bar on the graph—&gt; would be None or 0, for each point if there is no uncertainty.</p>
</div>
<div class="section" id="html-elements">
<h2><span class="section-number">7.7. </span>HTML Elements<a class="headerlink" href="#html-elements" title="Permalink to this headline">¶</a></h2>
<p>One may also want to add just plain prose. To do this, Sections also allow for the addition of htmltree elements so you can add paragraphs,
divs, etc, as outlined in htmltree. These parts however will not be titled unless wrapped within a Section, and similarily will not have a direct link
in the table of contents without a Section wrap as well (due to their inherent lack of title). However, thier addition may add beneficial information to reports in between Tables and Images that
could prove useful to the user and any readers.</p>
</div>
<div class="section" id="summary">
<h2><span class="section-number">7.8. </span>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ReportContent</span></code> is made up of many different types of elements (<code class="docutils literal notranslate"><span class="pre">Sections</span></code>, <code class="docutils literal notranslate"><span class="pre">Tables</span></code>, <code class="docutils literal notranslate"><span class="pre">Images</span></code>, <code class="docutils literal notranslate"><span class="pre">HtmlElements</span></code>, <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code>), that when
<code class="docutils literal notranslate"><span class="pre">writeReports()</span></code> is called on the <code class="docutils literal notranslate"><span class="pre">ReportContent</span></code> object, have the ability to be rendered through their <code class="docutils literal notranslate"><span class="pre">render()</span></code> method in order to be translated
to html for the resulting document. This document is saved in a new folder titled reportsOutputFiles.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="standards_and_practices.html" class="btn btn-neutral float-right" title="8. Standards and Practices for Coding" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="profiling.html" class="btn btn-neutral float-left" title="6. Profiling ARMI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2009-2022, TerraPower, LLC.
      <span class="lastupdated">
        Last updated on 2022-10-11.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>