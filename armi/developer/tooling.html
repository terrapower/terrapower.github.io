

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="9. Tooling and Infrastructure" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://terrapower.github.io/armi/developer/tooling.html" />
<meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
<meta property="og:description" content="Good Commit Messages: The ARMI project follows a few basic rules for “good” commit messages: The purpose of the message is to explain to the changes you made to a stranger 5 years from now., Keep y..." />
<meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
<meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
<meta name="description" content="Good Commit Messages: The ARMI project follows a few basic rules for “good” commit messages: The purpose of the message is to explain to the changes you made to a stranger 5 years from now., Keep y..." />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>9. Tooling and Infrastructure &mdash; ARMI 0.6.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme_fixes.css?v=2b77b304" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=e5fbc548" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-data-viewer/jsonview.bundle.css?v=f6ef2277" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/libs/html/datatables.min.css?v=4b4fd840" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/needstable.css?v=5e1b6797" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_links.css?v=2150a916" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_toggle.css?v=5c6620df" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_style.css?v=678fb11e" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_core.css?v=f5b60a78" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/modern.css?v=803738c0" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-test-results/common.css?v=9ec2c1d5" />

  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8fa8b3e9"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="../_static/sphinx-data-viewer/jsonview.bundle.js?v=18cd53c5"></script>
      <script src="../_static/sphinx-data-viewer/jsonview_loader.js?v=f7ff7e7d"></script>
      <script src="../_static/sphinx-needs/libs/html/datatables.min.js?v=8a4aee21"></script>
      <script src="../_static/sphinx-needs/libs/html/datatables_loader.js?v=a2cae175"></script>
      <script src="../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js?v=dca66431"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Gallery" href="../gallery/index.html" />
    <link rel="prev" title="8. Standards and Practices for Coding" href="standards_and_practices.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >

          
          
          <a href="../index.html" class="icon icon-home">
            ARMI
              <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="guide.html">1. Framework Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="making_armi_based_apps.html">2. Making ARMI-based Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="entrypoints.html">3. Entry Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="documenting.html">4. Documenting ARMI</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_coding.html">5. Parallel Code in ARMI</a></li>
<li class="toctree-l2"><a class="reference internal" href="profiling.html">6. Profiling ARMI</a></li>
<li class="toctree-l2"><a class="reference internal" href="first_time_contributors.html">7. First Time Contributors Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="standards_and_practices.html">8. Standards and Practices for Coding</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">9. Tooling and Infrastructure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#good-commit-messages">9.1. Good Commit Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#good-pull-requests">9.2. Good Pull Requests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#one-idea-one-pr">9.2.1. One Idea = One PR</a></li>
<li class="toctree-l4"><a class="reference internal" href="#don-t-open-until-it-is-ready">9.2.2. Don’t open until it is ready</a></li>
<li class="toctree-l4"><a class="reference internal" href="#test-it">9.2.3. Test It</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-it">9.2.4. Document It</a></li>
<li class="toctree-l4"><a class="reference internal" href="#watch-for-requirements">9.2.5. Watch for Requirements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#packaging-and-dependency-management">9.3. Packaging and dependency management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyproject-toml">9.3.1. pyproject.toml</a></li>
<li class="toctree-l4"><a class="reference internal" href="#third-party-licensing">9.3.2. Third-Party Licensing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#releasing-a-new-version-of-armi">9.4. Releasing a New Version of ARMI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#logging-with-runlog">9.5. Logging with runLog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#blocking-duplicate-logs">9.5.1. Blocking Duplicate Logs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-level-logging">9.5.2. Module-Level Logging</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qa_docs/index.html">QA Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../.apidocs/modules.html">API Docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #233C5B" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Developer Docs</a></li>
      <li class="breadcrumb-item active"><span class="section-number">9. </span>Tooling and Infrastructure</li>
  <li class="wy-breadcrumbs-aside">
    
      
    
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tooling-and-infrastructure">
<span id="armi-tooling"></span><h1><span class="section-number">9. </span>Tooling and Infrastructure<a class="headerlink" href="#tooling-and-infrastructure" title="Link to this heading"></a></h1>
<section id="good-commit-messages">
<h2><span class="section-number">9.1. </span>Good Commit Messages<a class="headerlink" href="#good-commit-messages" title="Link to this heading"></a></h2>
<p>The ARMI project follows a few basic rules for “good” commit messages:</p>
<ul class="simple">
<li><p>The purpose of the message is to explain to the changes you made to a stranger 5 years from now.</p></li>
<li><p>Keep your writing short and to the point.</p></li>
<li><p>The first line of each commit must be shorter than 50 characters.</p></li>
<li><p>Commit messages should be active voice, present tense.</p></li>
<li><p>Multi-line comments are allowed, but make sure the second line of the commit is blank:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Adding</span> <span class="n">this</span> <span class="n">commit</span> <span class="k">for</span> <span class="n">REASONS</span><span class="o">.</span>

<span class="n">Here</span> <span class="ow">is</span> <span class="n">some</span> <span class="nb">super</span> <span class="n">important</span> <span class="n">extra</span> <span class="n">info</span><span class="o">.</span>
<span class="n">Oh</span><span class="p">,</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">so</span> <span class="n">much</span> <span class="n">extra</span> <span class="n">info</span><span class="o">.</span>
<span class="n">This</span> <span class="n">section</span>
<span class="o">*</span> <span class="ow">is</span>
<span class="o">*</span> <span class="n">totally</span>
<span class="o">*</span> <span class="n">optional</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="good-pull-requests">
<h2><span class="section-number">9.2. </span>Good Pull Requests<a class="headerlink" href="#good-pull-requests" title="Link to this heading"></a></h2>
<p>A good commit is like a sentence; it expresses one complete thought. In that context, a good Pull
Request (PR) is like a paragraph; it contains a few sentences that contain one larger thought. A
good PR is <em>not</em> a chapter or an entire book! It should not contain multiple independent ideas.</p>
<section id="one-idea-one-pr">
<h3><span class="section-number">9.2.1. </span>One Idea = One PR<a class="headerlink" href="#one-idea-one-pr" title="Link to this heading"></a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you <em>can</em> break a PR into smaller PRs, containing unrelated changes, please do.</p>
</div>
<p>It is a discourtesy to your reviewers to make them review a PR with multiple, unrelated changes. It
forces them to look at every line of diff in your PR and figure out which change it belongs to. They
are busy people, and it will save them time and effort if your PR only has one main idea. If your
PRs are smaller, you will notice a great increase in the quality of the reviews you get.</p>
</section>
<section id="don-t-open-until-it-is-ready">
<h3><span class="section-number">9.2.2. </span>Don’t open until it is ready<a class="headerlink" href="#don-t-open-until-it-is-ready" title="Link to this heading"></a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Wait until your PR is complete to open it.</p>
</div>
<p>Your PR isn’t complete when the code works, it is complete when the code is polished and all the
tests are written and working. The idea here is: as soon as you open a PR, people will start
spending their time looking at it. And their time is valuable. Even though GitHub allows you to
<a class="reference external" href="https://github.blog/2019-02-14-introducing-draft-pull-requests/">open a Draft PR</a>, this is not
the default option in ARMI. It should not be your workflow to open a Draft PR by default. We prefer
to keep the PR list as short as possible. A good rule of thumb is: don’t open a PR until you think
it is ready for final review.</p>
</section>
<section id="test-it">
<h3><span class="section-number">9.2.3. </span>Test It<a class="headerlink" href="#test-it" title="Link to this heading"></a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If a PR doesn’t have any changes to testing, it probably isn’t complete.</p>
</div>
<p>Unless a PR is just documentation or linting, it almost certainly needs testing to be complete. For
example:</p>
<ul class="simple">
<li><p>If a PR adds new code, that code needs new tests to prove it is working.</p></li>
<li><p>If a PR changes existing code, there needs to be test changes to prove the code still works.</p></li>
<li><p>If a PR fixes a bug, there needs to be a test to prove the bug is fixed.</p></li>
</ul>
<p>If the changes in the PR are worth the time to make, they are worth the time to test. Help your
reviewer by proving your code works.</p>
</section>
<section id="document-it">
<h3><span class="section-number">9.2.4. </span>Document It<a class="headerlink" href="#document-it" title="Link to this heading"></a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If it isn’t documented, it doesn’t exist.</p>
</div>
<p>We auto-document the API, so don’t worry about that. But when it comes to documentation, write it
for somebody who is new to the code base 3 years from now, who needs to understand it in nitty-
gritty detail to fix a bug without you. Think about variable names, comments, and docstrings. Also
consider (if you are making a major change) that you might be making something in the docs out-of-
date.</p>
</section>
<section id="watch-for-requirements">
<h3><span class="section-number">9.2.5. </span>Watch for Requirements<a class="headerlink" href="#watch-for-requirements" title="Link to this heading"></a></h3>
<p>When you are touching code in ARMI, watch out for the docstrings in the methods, classes, or
modules you are editing. These docstrings might have bread crumbs that link back to requirements.
Such breadcrumbs will look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">.. test: This is a requirement test breadcrumb.</span>

<span class="sd">.. impl: This is an requirement implementation breadcrumb.</span>

<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>If you touch any code that has such a docstring, even at the top of the file, you are going to be
responsible for not breaking that code/functionality. And you will be required to explicitly call
out that you touch such a code in your PR.</p>
<p>Your PR reviewer will take an extra look at any PR that touches a requirement test or implementation.
And you will need to add a special note in your PR description, under a field called “One-line Impact on Requirements”. This note can be as long as it needs to be, but can only be on one line.</p>
</section>
</section>
<section id="packaging-and-dependency-management">
<h2><span class="section-number">9.3. </span>Packaging and dependency management<a class="headerlink" href="#packaging-and-dependency-management" title="Link to this heading"></a></h2>
<p>There are many ways to manage and package a Python project. We try to centralize as much of this as possible in a <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>, following existing conventions. In particular, we follow <a class="reference external" href="https://packaging.python.org/en/latest/">the official Python packaging guidance</a>.</p>
<section id="pyproject-toml">
<h3><span class="section-number">9.3.1. </span>pyproject.toml<a class="headerlink" href="#pyproject-toml" title="Link to this heading"></a></h3>
<p>As much as possible, the ARMI team will try to centralize our installation and build systems through
the top-level <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file. The only exception will be our documentation, which has much
customization done through the Sphinx <code class="docutils literal notranslate"><span class="pre">doc/conf.py</span></code> file.</p>
<p>The packages listed in the <code class="docutils literal notranslate"><span class="pre">install_requires</span></code> argument to <code class="docutils literal notranslate"><span class="pre">setup()</span></code> are meant to express, as
abstractly as possible, the packages that need to be installed <strong>somehow</strong> for the package to work.
In addition, <code class="docutils literal notranslate"><span class="pre">extras_require</span></code> are used to specify other packages that are not strictly required,
but if installed enable extra functionality, like unit testing or building documentation.</p>
</section>
<section id="third-party-licensing">
<h3><span class="section-number">9.3.2. </span>Third-Party Licensing<a class="headerlink" href="#third-party-licensing" title="Link to this heading"></a></h3>
<p>Be careful when including any dependency in ARMI (say in the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file) not to include
anything with a license that supersedes our Apache license. For instance, any third-party Python
library included in ARMI with a GPL license will make the whole project fall under the GPL license.
But a lot of potential users of ARMI will want to keep some of their work private, so we can’t allow
any GPL tools.</p>
<p>For that reason, it is generally considered best-practice in the ARMI ecosystem to only use third-
party Python libraries that have MIT or BSD licenses.</p>
</section>
</section>
<section id="releasing-a-new-version-of-armi">
<h2><span class="section-number">9.4. </span>Releasing a New Version of ARMI<a class="headerlink" href="#releasing-a-new-version-of-armi" title="Link to this heading"></a></h2>
<p>We use the common <code class="docutils literal notranslate"><span class="pre">major.minor.bump</span></code> version scheme where a version string might look like
<code class="docutils literal notranslate"><span class="pre">0.1.7</span></code>, <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code>, or <code class="docutils literal notranslate"><span class="pre">12.3.123</span></code>. Each number has a specific meaning:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">major</span></code> - Revved for DOE/NRC-sanctioned release or at the end of a long development cycle.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">minor</span></code> - Revved when we decide the code or our API has reached a stable point.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bump</span></code> - Revved every time we modify the API, and any other time we want.</p></li>
</ul>
<p><strong>NOTE</strong>: Changes to documentation or testing probably do not deserve a version bump.</p>
<p><strong>Any change to a major or minor version is considered a release.</strong></p>
<p>Only a core member of the ARMI team may release a new version, or add a tag of any kind to the
repository. The rule is <em>the only tags in the ARMI repo are for official versions</em>. If you want to
release a version of ARMI, you will need admin privileges to multiple TerraPower repos on GitHub.</p>
<p>Every release should follow this process:</p>
<ol class="arabic">
<li><p>Ensure all unit tests pass and the documentation is building correctly.</p></li>
<li><p>Bump the <code class="docutils literal notranslate"><span class="pre">version</span></code> string in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>.</p></li>
<li><p>Now that the release is done, just hard-copy the SCR information into the last releases RST file, so we don’t keep regenerating it: <code class="docutils literal notranslate"><span class="pre">doc/qa_docs/scr/last.release.rst</span></code>.</p></li>
<li><p>Tag the commit after it goes into the repo:</p>
<blockquote>
<div><ul class="simple">
<li><p>From this commit: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">-a</span> <span class="pre">1.0.0</span> <span class="pre">-m</span> <span class="pre">&quot;Release</span> <span class="pre">v1.0.0&quot;</span></code></p></li>
<li><p>Or from another commit: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">&lt;commit-hash&gt;</span> <span class="pre">1.0.0</span> <span class="pre">-m</span> <span class="pre">&quot;Release</span> <span class="pre">v1.0.0&quot;</span></code></p></li>
<li><p>Pushing to the repo: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">1.0.0</span></code></p></li>
<li><p><strong>NOTE</strong> - The ONLY tags in the ARMI repo are for official version releases.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Also add the release notes on <a class="reference external" href="https://github.com/terrapower/armi/releases">the GitHub UI</a>.</p></li>
<li><p>Follow the instructions <a class="reference external" href="https://github.com/terrapower/terrapower.github.io">here</a> to archive the new documentation.</p></li>
<li><p>Tell everyone!</p></li>
</ol>
</section>
<section id="logging-with-runlog">
<h2><span class="section-number">9.5. </span>Logging with runLog<a class="headerlink" href="#logging-with-runlog" title="Link to this heading"></a></h2>
<p>ARMI provides a logging tool, <code class="docutils literal notranslate"><span class="pre">runLog</span></code>, to be used in place of <code class="docutils literal notranslate"><span class="pre">print</span></code> for all logging during a
simulation. It is very easy to use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">armi</span><span class="w"> </span><span class="kn">import</span> <span class="n">runLog</span>

<span class="n">runLog</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;This will only be seen if you run in debug mode.&quot;</span><span class="p">)</span>
<span class="n">runLog</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Default log level.&quot;</span><span class="p">)</span>
<span class="n">runLog</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;The run will die, or the results are invalid.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Calling <code class="docutils literal notranslate"><span class="pre">runLog.error()</span></code> is not the same as calling Python’s <code class="docutils literal notranslate"><span class="pre">raise</span> <span class="pre">error</span></code>; a log statement
does not kill a run, or raise an error, it just puts some text in the log.</p>
</div>
<p>When an ARMI simulation is run, it will be run at a particular log level. All log messages that are
at or above that log level will be seen during the simulation and in the final log files. To control
the log level of an ARMI run, you use the setting <code class="docutils literal notranslate"><span class="pre">verbosity</span></code> in your settings file. You will
probably be running ARMI in a parallel mode, and if you want the child processes to have a different
log level than the main process, you can set <code class="docutils literal notranslate"><span class="pre">branchVerbosity</span></code> to the desired verbosity of all the
child processes.</p>
<p>For reference, here are the log levels that ARMI supports:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Level</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>When to Use</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>debug</p></td>
<td><p>10</p></td>
<td><p>This will only be seen if the simulation is run in debug mode.</p></td>
</tr>
<tr class="row-odd"><td><p>extra</p></td>
<td><p>15</p></td>
<td><p>More detailed than will normally be seen in a usual simulation.</p></td>
</tr>
<tr class="row-even"><td><p>info</p></td>
<td><p>20</p></td>
<td><p>Use only for things that important enough to be visible during every normal simulation.</p></td>
</tr>
<tr class="row-odd"><td><p>important</p></td>
<td><p>25</p></td>
<td><p>More important than the default log level, but not a problem or issue.</p></td>
</tr>
<tr class="row-even"><td><p>prompt</p></td>
<td><p>27</p></td>
<td><p>RESERVED for the ARMI CLI.</p></td>
</tr>
<tr class="row-odd"><td><p>warning</p></td>
<td><p>30</p></td>
<td><p>Use ONLY for issues that may or may not invalidate the simulation results.</p></td>
</tr>
<tr class="row-even"><td><p>error</p></td>
<td><p>40</p></td>
<td><p>Use ONLY for problems that halt the program or invalidate the simulation results.</p></td>
</tr>
<tr class="row-odd"><td><p>header</p></td>
<td><p>100</p></td>
<td><p>Use ONLY to define major sections in the log files.</p></td>
</tr>
</tbody>
</table>
<section id="blocking-duplicate-logs">
<h3><span class="section-number">9.5.1. </span>Blocking Duplicate Logs<a class="headerlink" href="#blocking-duplicate-logs" title="Link to this heading"></a></h3>
<p>Sometimes you want to add a log message, but based on program logic it might pop up in the final log
file multiple times, even thousands of times. And probably you do not want that. Happily, the
<code class="docutils literal notranslate"><span class="pre">runLog</span></code> tool provides a simple argument that will stop a single log line from being logged more
than once.</p>
<p>Here is a (silly) example of a heavily duplicate log message:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">runLog</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Something wicked this way comes.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>That log message gets printed 1,000 times, but we can ensure it is only printed once:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">runLog</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Something wicked this way comes.&quot;</span><span class="p">,</span> <span class="n">single</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Obviously, this will not be useful in every scenario. But it is a handy tool to clean up your log files.</p>
</section>
<section id="module-level-logging">
<h3><span class="section-number">9.5.2. </span>Module-Level Logging<a class="headerlink" href="#module-level-logging" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">runLog</span></code> tool also allows for you to log one module differently from the rest of the code
base. For instance, you could set the log level to “debug” in just one Python file, to help testing
during development.</p>
<p>That functionality is provided by what might look like a bare Python logging import, but is actually
calling the same underlying <code class="docutils literal notranslate"><span class="pre">armi</span></code> logging tooling:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="n">runLog</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
<p>In either case, you can then log using the same, easy interface:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">runLog</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Normal stuff.&#39;</span><span class="p">)</span>
<span class="n">runLog</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Oh no!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, you can change the logging level in the above scenario by doing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">runLog</span><span class="o">.</span><span class="n">setVerbosity</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">runLog</span><span class="o">.</span><span class="n">setVerbosity</span><span class="p">(</span><span class="s1">&#39;debug&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="standards_and_practices.html" class="btn btn-neutral float-left" title="8. Standards and Practices for Coding" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../gallery/index.html" class="btn btn-neutral float-right" title="Gallery" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2009-2025, TerraPower, LLC.
      <span class="lastupdated">Last updated on 2025-09-03.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>