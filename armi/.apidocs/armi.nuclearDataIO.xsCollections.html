

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="armi.nuclearDataIO.xsCollections module" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.nuclearDataIO.xsCollections.html" />
<meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
<meta property="og:description" content="Cross section collections contain cross sections for a single nuclide or region. Specifically, they are used as attributes of XSNuclide, which then are combined as a XSLibrary. These may represent ..." />
<meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
<meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
<meta name="description" content="Cross section collections contain cross sections for a single nuclide or region. Specifically, they are used as attributes of XSNuclide, which then are combined as a XSLibrary. These may represent ..." />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>armi.nuclearDataIO.xsCollections module &mdash; ARMI 0.6.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme_fixes.css?v=2b77b304" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=e5fbc548" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-data-viewer/jsonview.bundle.css?v=f6ef2277" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/libs/html/datatables.min.css?v=4b4fd840" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_links.css?v=2150a916" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_toggle.css?v=5c6620df" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_style.css?v=678fb11e" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_core.css?v=f5b60a78" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/needstable.css?v=5e1b6797" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/modern.css?v=803738c0" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-test-results/common.css?v=9ec2c1d5" />

  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=b8503983"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="../_static/sphinx-data-viewer/jsonview.bundle.js?v=18cd53c5"></script>
      <script src="../_static/sphinx-data-viewer/jsonview_loader.js?v=f7ff7e7d"></script>
      <script src="../_static/sphinx-needs/libs/html/datatables.min.js?v=8a4aee21"></script>
      <script src="../_static/sphinx-needs/libs/html/datatables_loader.js?v=a2cae175"></script>
      <script src="../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js?v=dca66431"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.nuclearDataIO.xsLibraries module" href="armi.nuclearDataIO.xsLibraries.html" />
    <link rel="prev" title="armi.nuclearDataIO.nuclearFileMetadata module" href="armi.nuclearDataIO.nuclearFileMetadata.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >

          
          
          <a href="../index.html" class="icon icon-home">
            ARMI
              <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qa_docs/index.html">QA Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.disableFutureConfigures"><code class="docutils literal notranslate"><span class="pre">disableFutureConfigures()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.isStableReleaseVersion"><code class="docutils literal notranslate"><span class="pre">isStableReleaseVersion()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.init"><code class="docutils literal notranslate"><span class="pre">init()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getDefaultPlugins"><code class="docutils literal notranslate"><span class="pre">getDefaultPlugins()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getDefaultPluginManager"><code class="docutils literal notranslate"><span class="pre">getDefaultPluginManager()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.isConfigured"><code class="docutils literal notranslate"><span class="pre">isConfigured()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getPluginManager"><code class="docutils literal notranslate"><span class="pre">getPluginManager()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getPluginManagerOrFail"><code class="docutils literal notranslate"><span class="pre">getPluginManagerOrFail()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getApp"><code class="docutils literal notranslate"><span class="pre">getApp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.configure"><code class="docutils literal notranslate"><span class="pre">configure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.applyAsyncioWindowsWorkaround"><code class="docutils literal notranslate"><span class="pre">applyAsyncioWindowsWorkaround()</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.migration.html">armi.migration package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.testing.html">armi.testing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.tests.html">armi.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #233C5B" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">armi</a></li>
          <li class="breadcrumb-item"><a href="armi.html">armi package</a></li>
          <li class="breadcrumb-item"><a href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
      <li class="breadcrumb-item active">armi.nuclearDataIO.xsCollections module</li>
  <li class="wy-breadcrumbs-aside">
    
      
    
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-armi.nuclearDataIO.xsCollections">
<span id="armi-nucleardataio-xscollections-module"></span><h1>armi.nuclearDataIO.xsCollections module<a class="headerlink" href="#module-armi.nuclearDataIO.xsCollections" title="Link to this heading"></a></h1>
<p>Cross section collections contain cross sections for a single nuclide or region.</p>
<p>Specifically, they are used as attributes of <a class="reference internal" href="armi.nuclearDataIO.xsNuclides.html#armi.nuclearDataIO.xsNuclides.XSNuclide" title="armi.nuclearDataIO.xsNuclides.XSNuclide"><code class="xref py py-class docutils literal notranslate"><span class="pre">XSNuclide</span></code></a>,
which then are combined as a <code class="xref py py-class docutils literal notranslate"><span class="pre">XSLibrary</span></code>.</p>
<p>These may represent microscopic or macroscopic neutron or photon cross sections. When they are
macroscopic, they generally represent a whole region with many nuclides, though this is not
required.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">armi.nuclearDataIO.xsCollection.XSCollection</span></code></dt><dd><p>object that gets created.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p># creating a MicroscopicXSCollection by loading one from ISOTXS.
microLib = armi.nuclearDataIO.ISOTXS(‘ISOTXS’)
micros = myLib.nuclides[‘U235AA’].micros</p>
<p># creating macroscopic XS:
mc = MacroscopicCrossSectionCreator()
macroCollection = mc.createMacrosFromMicros(microLib, block)
blocksWithMacros = mc.createMacrosOnBlocklist(microLib, blocks)</p>
<dl class="py class">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.XSCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.nuclearDataIO.xsCollections.</span></span><span class="sig-name descname"><span class="pre">XSCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#XSCollection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.XSCollection" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A cross section collection.</p>
<p>Construct a NuclideCollection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><em>object</em></a>) – The parent container, which may be a region, a nuclide, a block, etc.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.XSCollection.getDefaultXs">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getDefaultXs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numGroups</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#XSCollection.getDefaultXs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.XSCollection.getDefaultXs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.XSCollection.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#XSCollection.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.XSCollection.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.XSCollection.getAbsorptionXS">
<span class="sig-name descname"><span class="pre">getAbsorptionXS</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#XSCollection.getAbsorptionXS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.XSCollection.getAbsorptionXS" title="Link to this definition"></a></dt>
<dd><p>Return total absorption XS, which is the sum of capture + fission + others.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.XSCollection.getTotalScatterMatrix">
<span class="sig-name descname"><span class="pre">getTotalScatterMatrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#XSCollection.getTotalScatterMatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.XSCollection.getTotalScatterMatrix" title="Link to this definition"></a></dt>
<dd><p>Sum up scatter matrices to produce total scatter matrix.</p>
<p>Multiply reaction-based n2n scatter matrix by 2.0 to convert to production-based.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Not all lattice codes store (n,2n) matrices consistently. Some are
production-based and some are absorption-based. If you use an
absorption-based one, your scatter matrix will be off, generally
leading to about a percent error in your neutron balance.</p>
</div>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>The total scattering matrix is produced by summing the elastic, inelastic, and n2n scattering matrices. If a
specific scattering matrix does not exist for a composition (nuclide or region) then it is skipped and a
warning is displayed stating that the scattering reaction is not available and is not included in the total
scattering matrix.</p>
<p>Example: When producing macroscopic cross sections in MC2-3 the code internally merges the elastic and
inelastic scattering matrices into a single elastic scattering matrix.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.XSCollection.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#XSCollection.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.XSCollection.clear" title="Link to this definition"></a></dt>
<dd><p>Zero out all the cross sections; this is useful for creating dummy cross sections.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.XSCollection.collapseCrossSection">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collapseCrossSection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crossSection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#XSCollection.collapseCrossSection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.XSCollection.collapseCrossSection" title="Link to this definition"></a></dt>
<dd><p>Collapse a cross section into 1-group.</p>
<p>This is extremely useful for many analyses such as doing a shielding efficacy survey
or computing one-group reaction rates.</p>
<div class="math notranslate nohighlight">
\[\bar{\sigma} = \frac{\sum_g{\sigma_g \phi_g}}{\sum_g{\phi_g}}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>crossSection</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – Multigroup cross section values</p></li>
<li><p><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – energy group weights to apply (usually the multigroup flux)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>oneGroupXS</strong> – The one group cross section in the same units as the input cross section.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.XSCollection.compare">
<span class="sig-name descname"><span class="pre">compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relativeTolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nucName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#XSCollection.compare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.XSCollection.compare" title="Link to this definition"></a></dt>
<dd><p>Compare the cross sections between two XSCollections objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.XSCollection.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#XSCollection.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.XSCollection.merge" title="Link to this definition"></a></dt>
<dd><p>Merge the cross sections of two collections.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<ol class="arabic simple">
<li><p>This can only merge if one hasn’t been assigned at all, because it doesn’t try to figure out how to
account for overlapping cross sections.</p></li>
<li><p>Update the current library (self) with values from the other library if all attributes in the library except
ones in <cite>attributesToIgnore</cite> are None.</p></li>
<li><p>Libraries are already merged if all attributes in the other library are None (This is nothing to merge!).</p></li>
</ol>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.MacroscopicCrossSectionCreator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.nuclearDataIO.xsCollections.</span></span><span class="sig-name descname"><span class="pre">MacroscopicCrossSectionCreator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buildScatterMatrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimumNuclideDensity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#MacroscopicCrossSectionCreator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.MacroscopicCrossSectionCreator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Create macroscopic cross sections from micros and number density.</p>
<p>Object encapsulating all high-level methods related to the creation of macroscopic cross
sections.</p>
<dl class="py method">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.MacroscopicCrossSectionCreator.createMacrosOnBlocklist">
<span class="sig-name descname"><span class="pre">createMacrosOnBlocklist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">microLibrary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blockList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nucNames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">libType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'micros'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#MacroscopicCrossSectionCreator.createMacrosOnBlocklist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.MacroscopicCrossSectionCreator.createMacrosOnBlocklist" title="Link to this definition"></a></dt>
<dd><p>Create macroscopic cross sections for a list of blocks.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.MacroscopicCrossSectionCreator.createMacrosFromMicros">
<span class="sig-name descname"><span class="pre">createMacrosFromMicros</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">microLibrary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nucNames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">libType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'micros'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#MacroscopicCrossSectionCreator.createMacrosFromMicros"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.MacroscopicCrossSectionCreator.createMacrosFromMicros" title="Link to this definition"></a></dt>
<dd><p>Creates a macroscopic cross section set based on a microscopic XS library using a block object.</p>
<p>Micro libraries have lots of nuclides, but macros only have 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>microLibrary</strong> (<em>xsCollection.XSCollection</em>) – Input micros</p></li>
<li><p><strong>block</strong> (<em>Block</em>) – Object whose number densities should be used to generate macros</p></li>
<li><p><strong>nucNames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><em>optional</em>) – List of nuclides to include in the macros. Defaults to all in block.</p></li>
<li><p><strong>libType</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – The block attribute containing the desired microscopic XS for this block:
either “micros” for neutron XS or “gammaXS” for gamma XS.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>macros</strong> – A new XSCollection full of macroscopic cross sections</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xsCollection.XSCollection</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.computeBlockAverageChi">
<span class="sig-prename descclassname"><span class="pre">armi.nuclearDataIO.xsCollections.</span></span><span class="sig-name descname"><span class="pre">computeBlockAverageChi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isotxsLib</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#computeBlockAverageChi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.computeBlockAverageChi" title="Link to this definition"></a></dt>
<dd><p>Return the block average total chi vector based on isotope chi vectors.</p>
<p>This is defined by eq 3.4b in DIF3D manual <a class="reference internal" href="armi.nuclearDataIO.cccc.compxs.html#dif3d" id="id1"><span>[DIF3D]</span></a>, which corresponds to 1 in A.HMG4C card.</p>
<div class="math notranslate nohighlight">
\[\chi_g = \frac{\sum_{n} \chi_{g,n} N_n V \sum_{g'}(\nu_{g'}*\sigma_{f,g'})}{\sum_n N_n V \sum_{g'}(\nu_{g'}*\sigma_{f,g'} )}\]</div>
<p>To evaluate efficiently, assume that if <span class="math notranslate nohighlight">\(\chi_{g,n}=0\)</span>, there will be no contributions</p>
<p>Volume is not used b/c it is already homogenized in the block.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>b</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><em>object</em></a>) – Block object</p></li>
<li><p><strong>isotxsLib</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><em>object</em></a>) – ISOTXS library object</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This methodology is based on option 1 in the HMG4C utility (named total
fission source weighting).</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.computeNeutronEnergyDepositionConstants">
<span class="sig-prename descclassname"><span class="pre">armi.nuclearDataIO.xsCollections.</span></span><span class="sig-name descname"><span class="pre">computeNeutronEnergyDepositionConstants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numberDensities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">microSuffix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#computeNeutronEnergyDepositionConstants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.computeNeutronEnergyDepositionConstants" title="Link to this definition"></a></dt>
<dd><p>Compute the macroscopic neutron energy deposition group constants.</p>
<p>These group constants can be multiplied by the flux to obtain energy deposition rates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numberDensities</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – nucName keys, number density values (atoms/bn-cm) of all nuclides in the composite for which
the macroscopic group constants are computed. See composite <cite>getNuclideNumberDensities</cite> method.</p></li>
<li><p><strong>lib</strong> (<em>library object</em>) – Microscopic cross section library.</p></li>
<li><p><strong>microSuffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Microscopic library suffix (e.g. ‘AB’) for this composite.
See composite <cite>getMicroSuffix</cite> method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>energyDepositionConsts</strong> – Neutron energy deposition group constants. (J/cm)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>PMATRX documentation says units will be eV/s when multiplied by flux but it’s eV/s/cm^3.
(eV/s/cm^3 = eV-bn * 1/cm^2/s * 1/bn-cm.)</p>
<p>Converted here to obtain J/cm (eV-bn * 1/bn-cm * J / eV)</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.computeGammaEnergyDepositionConstants">
<span class="sig-prename descclassname"><span class="pre">armi.nuclearDataIO.xsCollections.</span></span><span class="sig-name descname"><span class="pre">computeGammaEnergyDepositionConstants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numberDensities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">microSuffix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#computeGammaEnergyDepositionConstants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.computeGammaEnergyDepositionConstants" title="Link to this definition"></a></dt>
<dd><p>Compute the macroscopic gamma energy deposition group constants.</p>
<p>These group constants can be multiplied by the flux to obtain energy deposition rates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numberDensities</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – nucName keys, number density values (atoms/bn-cm) of all nuclides in the composite for which
the macroscopic group constants are computed. See composite <cite>getNuclideNumberDensities</cite> method.</p></li>
<li><p><strong>lib</strong> (<em>library object</em>) – Microscopic cross section library.</p></li>
<li><p><strong>microSuffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Microscopic library suffix (e.g. ‘AB’) for this composite.
See composite <cite>getMicroSuffix</cite> method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>energyDepositionConsts</strong> – gamma energy deposition group constants. (J/cm)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>PMATRX documentation says units will be eV/s when multiplied by flux but it’s eV/s/cm^3.
(eV/s/cm^3 = eV-bn * 1/cm^2/s * 1/bn-cm.)</p>
<p>Convert here to obtain J/cm (eV-bn * 1/bn-cm * J / eV)</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.computeFissionEnergyGenerationConstants">
<span class="sig-prename descclassname"><span class="pre">armi.nuclearDataIO.xsCollections.</span></span><span class="sig-name descname"><span class="pre">computeFissionEnergyGenerationConstants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numberDensities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">microSuffix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#computeFissionEnergyGenerationConstants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.computeFissionEnergyGenerationConstants" title="Link to this definition"></a></dt>
<dd><p>Get the fission energy generation group constant of a block.</p>
<div class="math notranslate nohighlight">
\[E_{generation_fission} = \kappa_f \Sigma_f\]</div>
<p>Power comes from fission and capture reactions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numberDensities</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – nucName keys, number density values (atoms/bn-cm) of all nuclides in the composite for which
the macroscopic group constants are computed. See composite <cite>getNuclideNumberDensities</cite> method.</p></li>
<li><p><strong>lib</strong> (<em>library object</em>) – Microscopic cross section library.</p></li>
<li><p><strong>microSuffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Microscopic library suffix (e.g. ‘AB’) for this composite.
See composite <cite>getMicroSuffix</cite> method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fissionEnergyFactor</strong> – Fission energy generation group constants (in Joules/cm)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.computeCaptureEnergyGenerationConstants">
<span class="sig-prename descclassname"><span class="pre">armi.nuclearDataIO.xsCollections.</span></span><span class="sig-name descname"><span class="pre">computeCaptureEnergyGenerationConstants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numberDensities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">microSuffix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#computeCaptureEnergyGenerationConstants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.computeCaptureEnergyGenerationConstants" title="Link to this definition"></a></dt>
<dd><p>Get the energy generation group constant of a block.</p>
<div class="math notranslate nohighlight">
\[E_{generation capture} = \kappa_c \Sigma_c\]</div>
<p>Typically, one only cares about the flux* this XS (to find total power),
but the XS itself is required in some sensitivity studies.</p>
<p>Power comes from fission and capture reactions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numberDensities</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – nucName keys, number density values (atoms/bn-cm) of all nuclides in the composite for which
the macroscopic group constants are computed. See composite <cite>getNumberDensities</cite> method.</p></li>
<li><p><strong>lib</strong> (<em>library object</em>) – Microscopic cross section library.</p></li>
<li><p><strong>microSuffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Microscopic library suffix (e.g. ‘AB’) for this composite.
See composite <cite>getMicroSuffix</cite> method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>captureEnergyFactor</strong> – Capture energy generation group constants (in Joules/cm)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.nuclearDataIO.xsCollections.computeMacroscopicGroupConstants">
<span class="sig-prename descclassname"><span class="pre">armi.nuclearDataIO.xsCollections.</span></span><span class="sig-name descname"><span class="pre">computeMacroscopicGroupConstants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">constantName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numberDensities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">microSuffix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">libType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multConstant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multLib</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/nuclearDataIO/xsCollections.html#computeMacroscopicGroupConstants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.nuclearDataIO.xsCollections.computeMacroscopicGroupConstants" title="Link to this definition"></a></dt>
<dd><p>Compute any macroscopic group constants given number densities and a microscopic library.</p>
<div class="need_container docutils container" id="SNCB-733bb5fa">
<table class="need needs_grid_simple needs_layout_clean needs_style_none needs_type_impl docutils align-default" id="I_ARMI_NUCDATA_MACRO">
<tbody>
<tr class="need head row-odd"><td class="need head"><div class="needs_head line-block">
<div class="line"><span><span class="needs_type_name"><span class="needs_data">Implementation</span></span>: </span><strong><span><span class="needs_title"><span class="needs_data">Compute macroscopic cross sections from microscopic cross sections and number densities.</span></span></span></strong><span> <span class="needs-id"><a class="reference internal" href="#I_ARMI_NUCDATA_MACRO" title="I_ARMI_NUCDATA_MACRO">I_ARMI_NUCDATA_MACRO</a></span>  <span class="needs needs_collapse" id="target__show__meta"><span class="needs collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg></span><span class="needs visible collapse_is_hidden"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg></span></span> </span></div>
</div>
</td>
</tr>
<tr class="need meta row-even"><td class="need meta"><div class="needs_meta line-block">
<div class="line"><span><span><div class="line"><span class="needs_signature"><span class="needs_label">signature: </span><span class="needs_data">computeMacroscopicGroupConstants</span></span></div>
</span></span></div>
<div class="line"><span><div class="line">requirements: <span class="implements"><span><a class="reference internal" href="../qa_docs/srsd.html#R_ARMI_NUCDATA_MACRO" title="I_ARMI_NUCDATA_MACRO">R_ARMI_NUCDATA_MACRO</a></span></span></div>
</span></div>
</div>
</td>
</tr>
<tr class="need content row-odd"><td class="need content" colspan="1"><p>This function computes the macroscopic cross sections of a specified
reaction type from inputted microscopic cross sections and number
densities. The <code class="docutils literal notranslate"><span class="pre">constantName</span></code> parameter specifies what type of
reaction is requested. The <code class="docutils literal notranslate"><span class="pre">numberDensities</span></code> parameter is a dictionary
mapping the nuclide to its number density. The <code class="docutils literal notranslate"><span class="pre">lib</span></code> parameter is a library
object like <a class="reference internal" href="armi.nuclearDataIO.xsLibraries.html#armi.nuclearDataIO.xsLibraries.IsotxsLibrary" title="armi.nuclearDataIO.xsLibraries.IsotxsLibrary"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsotxsLibrary</span></code></a> or
<a class="reference internal" href="armi.nuclearDataIO.xsLibraries.html#armi.nuclearDataIO.xsLibraries.CompxsLibrary" title="armi.nuclearDataIO.xsLibraries.CompxsLibrary"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompxsLibrary</span></code></a> that holds the
microscopic cross-section data. The <code class="docutils literal notranslate"><span class="pre">microSuffix</span></code> parameter specifies
from which part of the library the microscopic cross sections are
gathered; this is typically gathered from a components
<code class="docutils literal notranslate"><span class="pre">getMicroSuffix</span></code> method like <a class="reference internal" href="armi.reactor.blocks.html#armi.reactor.blocks.Block.getMicroSuffix" title="armi.reactor.blocks.Block.getMicroSuffix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Block.getMicroSuffix</span></code></a>. <code class="docutils literal notranslate"><span class="pre">libType</span></code> is an optional
parameter specifying whether the reaction is for neutrons or gammas.
This function also has the optional parameters <code class="docutils literal notranslate"><span class="pre">multConstant</span></code> and
<code class="docutils literal notranslate"><span class="pre">multLib</span></code>, which allows another constant from the library, such as
neutrons per fission (nu) or energy per fission (kappa), to be
multiplied to the primary one. The macroscopic cross sections are then
computed as:</p>
<div class="math notranslate nohighlight">
\[\Sigma_{g} = \sum_{n} N_n \sigma_{n,g}\nu_n \quad g=1,...,G\]</div>
<p>where <span class="math notranslate nohighlight">\(n\)</span> is the isotope index, <span class="math notranslate nohighlight">\(g\)</span> is the energy group
index, <span class="math notranslate nohighlight">\(\sigma\)</span> is the microscopic cross section, and <span class="math notranslate nohighlight">\(\nu\)</span>
is the scalar multiplier. If the library (<code class="docutils literal notranslate"><span class="pre">lib</span></code>) with suffix
<code class="docutils literal notranslate"><span class="pre">microSuffix</span></code> is missing a cross section for the <code class="docutils literal notranslate"><span class="pre">constantName</span></code>
reaction for one or more of the nuclides in <code class="docutils literal notranslate"><span class="pre">numberDensities</span></code> an error
is raised; but if <code class="docutils literal notranslate"><span class="pre">multConstant</span></code> is missing that cross section, then
those nuclides are printed as a warning.</p>
</td>
</tr>
</tbody>
</table>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>constantName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Name of the reaction for which to obtain the group constants. This name should match a
cross section name or an attribute in the collection.</p></li>
<li><p><strong>numberDensities</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – nucName keys, number density values (atoms/bn-cm) of all nuclides in the composite for which
the macroscopic group constants are computed. See composite <cite>getNuclideNumberDensities</cite> method.</p></li>
<li><p><strong>lib</strong> (<em>library object</em>) – Microscopic cross section library.</p></li>
<li><p><strong>microSuffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Microscopic library suffix (e.g. ‘AB’) for this composite.
See composite <cite>getMicroSuffix</cite> method.</p></li>
<li><p><strong>libType</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – The block attribute containing the desired microscopic XS for this block:
either “micros” for neutron XS or “gammaXS” for gamma XS.</p></li>
<li><p><strong>multConstant</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Name of constant by which the group constants will be multiplied. This name should match a
cross section name or an attribute in the collection.</p></li>
<li><p><strong>multLib</strong> (<em>library object</em><em>, </em><em>optional</em>) – Microscopic cross section nuclide library to obtain the multiplier from.
If None, same library as base cross section is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>macroGroupConstant</strong> – Macroscopic group constants for the requested reaction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="armi.nuclearDataIO.nuclearFileMetadata.html" class="btn btn-neutral float-left" title="armi.nuclearDataIO.nuclearFileMetadata module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="armi.nuclearDataIO.xsLibraries.html" class="btn btn-neutral float-right" title="armi.nuclearDataIO.xsLibraries module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2009-2026, TerraPower, LLC.
      <span class="lastupdated">Last updated on 2026-01-14.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>