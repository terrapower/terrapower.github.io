

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta property="og:title" content="armi.utils.flags module" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.utils.flags.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="A Flag class, similar to enum.Flag. This is an alternate implementation of the standard-library enum.Flag class. We use this to implement armi.reactor.flags.Flags. We used to use the standard-libra..." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  <meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>armi.utils.flags module &mdash; ARMI 0.2.5 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="../_static/assets/jsonview.bundle.js"></script>
        <script src="../_static/assets/jsonview_loader.js"></script>
        <script src="../_static/sphinx-needs/libs/html/datatables.min.js"></script>
        <script src="../_static/sphinx-needs/libs/html/datatables_loader.js"></script>
        <script src="../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.utils.gridEditor module" href="armi.utils.gridEditor.html" />
    <link rel="prev" title="armi.utils.dynamicImporter module" href="armi.utils.dynamicImporter.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >
          

          
            <a href="../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements/index.html">Requirements</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.tests.html">armi.tests package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.utils.html">armi.utils package</a> &raquo;</li>
        
      <li>armi.utils.flags module</li>
    
    
  <li class="wy-breadcrumbs-aside">
    
      
    
  </li>

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.utils.flags">
<span id="armi-utils-flags-module"></span><h1>armi.utils.flags module<a class="headerlink" href="#module-armi.utils.flags" title="Permalink to this headline">¶</a></h1>
<p>A Flag class, similar to <code class="docutils literal notranslate"><span class="pre">enum.Flag</span></code>.</p>
<p>This is an alternate implementation of the standard-library <code class="docutils literal notranslate"><span class="pre">enum.Flag</span></code> class. We use
this to implement <a class="reference internal" href="armi.reactor.flags.html#armi.reactor.flags.Flags" title="armi.reactor.flags.Flags"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.flags.Flags</span></code></a>. We used to use the
standard-library implementation, but that became limiting when we wanted to make it
possible for plugins to define their own flags; the standard implementation does not
support extension. We also considered the <code class="docutils literal notranslate"><span class="pre">aenum</span></code> package, which permits extension of
<code class="docutils literal notranslate"><span class="pre">Enum</span></code> classes, but unfortunately does not support extension of <code class="docutils literal notranslate"><span class="pre">Flags</span></code>. So, we had to
make our own. This is a much simplified version of what comes with <code class="docutils literal notranslate"><span class="pre">aenum</span></code>, but still
provides most of the safety and functionality.</p>
<p>There is an <a class="reference external" href="https://bitbucket.org/stoneleaf/aenum/issues/27/">issue</a> on the <code class="docutils literal notranslate"><span class="pre">aenum</span></code>
bitbucket site to track <code class="docutils literal notranslate"><span class="pre">Flag</span></code> extension.</p>
<dl class="py class">
<dt class="sig sig-object py" id="armi.utils.flags.auto">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.utils.flags.</span></span><span class="sig-name descname"><span class="pre">auto</span></span><a class="reference internal" href="../_modules/armi/utils/flags.html#auto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.utils.flags.auto" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Empty class for requesting a lazily-evaluated automatic field value.</p>
<p>This can be used to automatically provision a value for a field, when the specific
value does not matter.</p>
<p>In the future, it would be nice to support some arithmetic for these so that
automatically-derived combinations of other automatically defined fields can be
specified as well.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.utils.flags.Flag">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.utils.flags.</span></span><span class="sig-name descname"><span class="pre">Flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils/flags.html#Flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.utils.flags.Flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A collection of bitwise flags.</p>
<p>This is intended to emulate <code class="docutils literal notranslate"><span class="pre">enum.Flag</span></code>, except with the possibility of extension
after the class has been defined. Most docs for <code class="docutils literal notranslate"><span class="pre">enum.Flag</span></code> should be relevant here,
but there are sure to be occasional differences.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Python features arbitrary-width integers, allowing one to represent an
practically unlimited number of fields. <em>However</em>, including more flags than can
be represented in the system-native integer types may lead to strange behavior
when interfacing with non-pure Python code. For instance, exceeding 64 fields
makes the underlying value not trivially-storable in an HDF5 file. In such
circumstances, the <code class="docutils literal notranslate"><span class="pre">from_bytes()</span></code> and <code class="docutils literal notranslate"><span class="pre">to_bytes()</span></code> methods are available to
represent a Flag’s values in smaller chunks.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="armi.utils.flags.Flag.width">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">width</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils/flags.html#Flag.width"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.utils.flags.Flag.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of bytes needed to store all of the flags on this class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.utils.flags.Flag.fields">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fields</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils/flags.html#Flag.fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.utils.flags.Flag.fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary containing a mapping from field name to integer value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.utils.flags.Flag.sortedFields">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sortedFields</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils/flags.html#Flag.sortedFields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.utils.flags.Flag.sortedFields" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all field names, sorted by increasing integer value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.utils.flags.Flag.extend">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#armi.utils.flags.auto" title="armi.utils.flags.auto"><span class="pre">armi.utils.flags.auto</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils/flags.html#Flag.extend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.utils.flags.Flag.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend the Flags object with new fields.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This alters the class that it is called upon! Existing instances should see
the new data, since classes are mutable.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><em>dict</em></a>) – A dictionary containing field names as keys, and their desired values, or
an instance of <code class="docutils literal notranslate"><span class="pre">auto</span></code> as values.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyFlags</span><span class="p">(</span><span class="n">Flags</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">FOO</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">BAR</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">BAZ</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MyFlags</span><span class="o">.</span><span class="n">extend</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;SUPER&quot;</span><span class="p">:</span> <span class="n">auto</span><span class="p">()</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">MyFlags</span><span class="o">.</span><span class="n">SUPER</span><span class="p">)</span>
<span class="go">&lt;MyFlags.SUPER: 8&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.utils.flags.Flag.to_bytes">
<span class="sig-name descname"><span class="pre">to_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">byteorder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'little'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils/flags.html#Flag.to_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.utils.flags.Flag.to_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a byte stream representing the flag.</p>
<p>This is useful when storing Flags in a data type of limited size. Python ints
can be of arbitrary size, while most other systems can only represent integers
of 32 or 64 bits. For compatibiliy, this function allows to convert the flags to
a sequence of single-byte elements.</p>
<p>Note that this uses snake_case to mimic the method on the Python-native int
type.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.utils.flags.Flag.from_bytes">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">byteorder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'little'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils/flags.html#Flag.from_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.utils.flags.Flag.from_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Flags instance given a byte stream.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="armi.utils.gridEditor.html" class="btn btn-neutral float-right" title="armi.utils.gridEditor module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="armi.utils.dynamicImporter.html" class="btn btn-neutral float-left" title="armi.utils.dynamicImporter module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2009-2023, TerraPower, LLC.
      <span class="lastupdated">
        Last updated on 2023-01-16.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>