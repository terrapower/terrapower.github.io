<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="armi.reactor.converters.uniformMesh module" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.reactor.converters.uniformMesh.html" />
<meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
<meta property="og:description" content="Converts reactor with arbitrary axial meshing (e.g. multiple assemblies with different axial meshes) to one with a global uniform axial mesh. Useful for preparing inputs for physics codes that requ..." />
<meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
<meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
<meta name="description" content="Converts reactor with arbitrary axial meshing (e.g. multiple assemblies with different axial meshes) to one with a global uniform axial mesh. Useful for preparing inputs for physics codes that requ..." />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>armi.reactor.converters.uniformMesh module &mdash; ARMI 0.4.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme_fixes.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.reactor.grids package" href="armi.reactor.grids.html" />
    <link rel="prev" title="armi.reactor.converters.pinTypeBlockConverters module" href="armi.reactor.converters.pinTypeBlockConverters.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >

          
          
          <a href="../index.html" class="icon icon-home">
            ARMI
              <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.4.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.disableFutureConfigures"><code class="docutils literal notranslate"><span class="pre">disableFutureConfigures()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.isStableReleaseVersion"><code class="docutils literal notranslate"><span class="pre">isStableReleaseVersion()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.init"><code class="docutils literal notranslate"><span class="pre">init()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getDefaultPlugins"><code class="docutils literal notranslate"><span class="pre">getDefaultPlugins()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getDefaultPluginManager"><code class="docutils literal notranslate"><span class="pre">getDefaultPluginManager()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.isConfigured"><code class="docutils literal notranslate"><span class="pre">isConfigured()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getPluginManager"><code class="docutils literal notranslate"><span class="pre">getPluginManager()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getPluginManagerOrFail"><code class="docutils literal notranslate"><span class="pre">getPluginManagerOrFail()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getApp"><code class="docutils literal notranslate"><span class="pre">getApp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.configure"><code class="docutils literal notranslate"><span class="pre">configure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.applyAsyncioWindowsWorkaround"><code class="docutils literal notranslate"><span class="pre">applyAsyncioWindowsWorkaround()</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.migration.html">armi.migration package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.tests.html">armi.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #233C5B" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">armi</a></li>
          <li class="breadcrumb-item"><a href="armi.html">armi package</a></li>
          <li class="breadcrumb-item"><a href="armi.reactor.html">armi.reactor package</a></li>
          <li class="breadcrumb-item"><a href="armi.reactor.converters.html">armi.reactor.converters package</a></li>
      <li class="breadcrumb-item active">armi.reactor.converters.uniformMesh module</li>
  <li class="wy-breadcrumbs-aside">
    
      
    
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-armi.reactor.converters.uniformMesh">
<span id="armi-reactor-converters-uniformmesh-module"></span><h1>armi.reactor.converters.uniformMesh module<a class="headerlink" href="#module-armi.reactor.converters.uniformMesh" title="Permalink to this heading"></a></h1>
<p>Converts reactor with arbitrary axial meshing (e.g. multiple assemblies with different
axial meshes) to one with a global uniform axial mesh.</p>
<p>Useful for preparing inputs for physics codes that require structured meshes
from a more flexible ARMI reactor mesh.</p>
<p>This is implemented generically but includes a concrete subclass for
neutronics-specific parameters. This is used for build input files
for codes like DIF3D which require axially uniform meshes.</p>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Build an average reactor with aligned axial meshes from a reactor with arbitrarily
unaligned axial meshes in a way that conserves nuclide mass</p></li>
<li><p>Translate state information computed on the uniform mesh back to the unaligned mesh.</p></li>
<li><p>For neutronics cases, all neutronics-related block params should be translated, as
well as the multigroup real and adjoint flux.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This procedure can cause numerical diffusion in some cases. For example,
if a control rod tip block has a large coolant block below it, things like peak
absorption rate can get lost into it. We recalculate some but not all
reaction rates in the re-mapping process based on a flux remapping. To avoid this,
finer meshes will help. Always perform mesh sensitivity studies to ensure appropriate
convergence for your needs.</p>
</div>
<p class="rubric">Examples</p>
<p>converter = uniformMesh.NeutronicsUniformMeshConverter()
converter.convert(reactor)
uniformReactor = converter.convReactor
# do calcs, then:
converter.applyStateToOriginal()</p>
<p>The mesh mapping happens as described in the figure:</p>
<figure class="align-default">
<img alt="../_images/axial_homogenization.png" src="../_images/axial_homogenization.png" />
</figure>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.converterFactory">
<span class="sig-prename descclassname"><span class="pre">armi.reactor.converters.uniformMesh.</span></span><span class="sig-name descname"><span class="pre">converterFactory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">globalFluxOptions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#converterFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.converterFactory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.converters.uniformMesh.</span></span><span class="sig-name descname"><span class="pre">UniformMeshGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimumMeshSize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGenerator" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class generates a common axial mesh to for the uniform mesh converter to use. The
generation algorithm starts with the simple <code class="docutils literal notranslate"><span class="pre">average1DWithinTolerance</span></code> utility function
to compute a representative “average” of the assembly meshes in the reactor. It then modifies
that mesh to more faithfully represent important material boundaries of fuel and control
absorber material.</p>
<p>The decusping feature is controlled with the case setting <code class="docutils literal notranslate"><span class="pre">uniformMeshMinimumSize</span></code>. If no
value is provided for this setting, the uniform mesh generator will skip the decusping step
and just provide the result of <code class="docutils literal notranslate"><span class="pre">_computeAverageAxialMesh</span></code>.</p>
<p>Initialize an object to generate an appropriate common axial mesh to use for uniform mesh conversion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<a class="reference internal" href="armi.reactor.reactors.html#armi.reactor.reactors.Reactor" title="armi.reactor.reactors.Reactor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reactor</span></code></a> object.) – Reactor for which a common mesh is generated</p></li>
<li><p><strong>minimumMeshSize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Minimum allowed separation between axial mesh points in cm
If no minimum mesh size is provided, no “decusping” is performed</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGenerator.generateCommonMesh">
<span class="sig-name descname"><span class="pre">generateCommonMesh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGenerator.generateCommonMesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGenerator.generateCommonMesh" title="Permalink to this definition"></a></dt>
<dd><p>Generate a common axial mesh to use.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Attempts to reduce the effect of fuel and control rod absorber smearing
(“cusping” effect) by keeping important material boundaries in the common mesh.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.converters.uniformMesh.</span></span><span class="sig-name descname"><span class="pre">UniformMeshGeometryConverter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.reactor.converters.geometryConverters.html#armi.reactor.converters.geometryConverters.GeometryConverter" title="armi.reactor.converters.geometryConverters.GeometryConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeometryConverter</span></code></a></p>
<p>This geometry converter can be used to change the axial mesh structure of the
reactor core.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>There are several staticmethods available on this class that allow for:</p>
<blockquote>
<div><ul class="simple">
<li><p>Creation of a new reactor without applying a new uniform axial mesh. See:
<cite>&lt;UniformMeshGeometryConverter.initNewReactor&gt;</cite></p></li>
<li><p>Creation of a new assembly with a new axial mesh applied. See:
<cite>&lt;UniformMeshGeometryConverter.makeAssemWithUniformMesh&gt;</cite></p></li>
<li><p>Resetting the parameter state of an assembly back to the defaults for the
provided block parameters. See:
<cite>&lt;UniformMeshGeometryConverter.clearStateOnAssemblies&gt;</cite></p></li>
<li><p>Mapping number densities and block parameters between one assembly to
another. See: <cite>&lt;UniformMeshGeometryConverter.setAssemblyStateFromOverlaps&gt;</cite></p></li>
</ul>
</div></blockquote>
<p>This class is meant to be extended for specific physics calculations that require a
uniform mesh. The child types of this class should define custom
<cite>reactorParamsToMap</cite> and <cite>blockParamsToMap</cite> attributes, and the
<cite>_setParamsToUpdate</cite> method to specify the precise parameters that need to be
mapped in each direction between the non-uniform and uniform mesh assemblies. The
definitions should avoid mapping block parameters in both directions because the
mapping process will cause numerical diffusion. The behavior of
<cite>setAssemblyStateFromOverlaps</cite> is dependent on the direction in which the mapping
is being applied to prevent the numerical diffusion problem.</p>
<ul class="simple">
<li><p>“in” is used when mapping parameters into the uniform assembly
from the non-uniform assembly.</p></li>
<li><p>“out” is used when mapping parameters from the uniform assembly back
to the non-uniform assembly.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If a parameter is calculated by a physics solver while the reactor is in its
converted (uniform mesh) state, that parameter <em>must</em> be included in the list
of <cite>reactorParamNames</cite> or <cite>blockParamNames</cite> to be mapped back to the non-uniform
reactor; otherwise, it will be lost. These lists are defined through the
<cite>_setParamsToUpdate</cite> method, which uses the <cite>reactorParamMappingCategories</cite> and
<cite>blockParamMappingCategories</cite> attributes and applies custom logic to create a list of
parameters to be mapped in each direction.</p>
</div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.reactorParamMappingCategories">
<span class="sig-name descname"><span class="pre">reactorParamMappingCategories</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'in':</span> <span class="pre">[],</span> <span class="pre">'out':</span> <span class="pre">[]}</span></em><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.reactorParamMappingCategories" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.blockParamMappingCategories">
<span class="sig-name descname"><span class="pre">blockParamMappingCategories</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'in':</span> <span class="pre">[],</span> <span class="pre">'out':</span> <span class="pre">[]}</span></em><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.blockParamMappingCategories" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.convert">
<span class="sig-name descname"><span class="pre">convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.convert" title="Permalink to this definition"></a></dt>
<dd><p>Create a new reactor core with a uniform mesh.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.initNewReactor">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">initNewReactor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourceReactor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.initNewReactor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.initNewReactor" title="Permalink to this definition"></a></dt>
<dd><p>Build a new, yet empty, reactor with the same settings as sourceReactor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sourceReactor</strong> (<a class="reference internal" href="armi.reactor.reactors.html#armi.reactor.reactors.Reactor" title="armi.reactor.reactors.Reactor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reactor</span></code></a> object.) – original reactor to be copied</p></li>
<li><p><strong>cs</strong> (<em>Setting</em>) – Complete settings object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.applyStateToOriginal">
<span class="sig-name descname"><span class="pre">applyStateToOriginal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.applyStateToOriginal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.applyStateToOriginal" title="Permalink to this definition"></a></dt>
<dd><p>Apply the state of the converted reactor back to the original reactor,
mapping number densities and block parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.makeAssemWithUniformMesh">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">makeAssemWithUniformMesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourceAssem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newMesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paramMapper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapNumberDensities</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includePinCoordinates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.makeAssemWithUniformMesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.makeAssemWithUniformMesh" title="Permalink to this definition"></a></dt>
<dd><p>Build new assembly based on a source assembly but apply the uniform mesh.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This creates a new assembly based on the provided source assembly, applies
a new uniform mesh and then maps number densities and block-level parameters
to the new assembly from the source assembly.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sourceAssem</strong> (<cite>Assembly &lt;armi.reactor.assemblies.Assembly&gt;</cite> object) – Assembly that is used to map number densities and block-level parameters to
a new mesh structure.</p></li>
<li><p><strong>newMesh</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>]</em>) – A list of the new axial mesh coordinates of the blocks. Note that these mesh
coordinates are in cm and should represent the top axial mesh coordinates of
the new blocks.</p></li>
<li><p><strong>paramMapper</strong> (<a class="reference internal" href="#armi.reactor.converters.uniformMesh.ParamMapper" title="armi.reactor.converters.uniformMesh.ParamMapper"><em>ParamMapper</em></a>) – Object that contains list of parameters to be mapped and has methods for mapping</p></li>
<li><p><strong>mapNumberDensities</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, number densities will be mapped from the source assembly to the new assembly.
This is True by default, but this can be set to False to only map block-level parameters if
the names are provided in <cite>blockParamNames</cite>. It can be useful to set this to False in circumstances
where the <code class="docutils literal notranslate"><span class="pre">setNumberDensitiesFromOverlaps</span></code> does not conserve mass and for some edge cases.
This can show up in specific instances with moving meshes (i.e., control rods) in some applications.
In those cases, the mapping of number densities can be treated independent of this more general
implementation.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.setAssemblyStateFromOverlaps" title="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.setAssemblyStateFromOverlaps"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setAssemblyStateFromOverlaps</span></code></a></dt><dd><p>This can be used to reverse the number density and parameter mappings between two assemblies.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.setAssemblyStateFromOverlaps">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setAssemblyStateFromOverlaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourceAssembly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destinationAssembly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paramMapper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapNumberDensities</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calcReactionRates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.setAssemblyStateFromOverlaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.setAssemblyStateFromOverlaps" title="Permalink to this definition"></a></dt>
<dd><p>Set state data (i.e., number densities and block-level parameters) on a assembly based on a source
assembly with a different axial mesh.</p>
<p>This solves an averaging equation from the source to the destination.</p>
<div class="math notranslate nohighlight">
\[&lt;P&gt; = \frac{\int_{z_1}^{z_2} P(z) dz}{\int_{z_1}^{z_2} dz}\]</div>
<p>which can be solved piecewise for z-coordinates along the source blocks.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<ul class="simple">
<li><p>If the parameter is volume integrated (e.g., flux, linear power)
then calculate the fractional contribution from the source block.</p></li>
<li><p>If the parameter is not volume integrated (e.g., volumetric reaction rate)
then calculate the fraction contribution on the destination block.
This smears the parameter over the destination block.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sourceAssembly</strong> (<em>Assembly</em>) – assem that has the state</p></li>
<li><p><strong>destinationAssembly</strong> (<em>Assembly</em>) – assem that has is getting the state from sourceAssembly</p></li>
<li><p><strong>paramMapper</strong> (<a class="reference internal" href="#armi.reactor.converters.uniformMesh.ParamMapper" title="armi.reactor.converters.uniformMesh.ParamMapper"><em>ParamMapper</em></a>) – Object that contains list of parameters to be mapped and has methods for mapping</p></li>
<li><p><strong>mapNumberDensities</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, number densities will be mapped from the source assembly to the destination assembly.
This is True by default, but this can be set to False to only map block-level parameters if
the names are provided in <cite>blockParamNames</cite>. It can be useful to set this to False in circumstances
where the <code class="docutils literal notranslate"><span class="pre">setNumberDensitiesFromOverlaps</span></code> does not conserve mass and for some edge cases.
This can show up in specific instances with moving meshes (i.e., control rods) in some applications.
In those cases, the mapping of number densities can be treated independent of this more general
implementation.</p></li>
<li><p><strong>calcReactionRates</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the neutron reaction rates will be calculated on each block within the destination
assembly. Note that this will skip the reaction rate calculations for a block if it does
not contain a valid multi-group flux.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.reactor.converters.uniformMesh.setNumberDensitiesFromOverlaps" title="armi.reactor.converters.uniformMesh.setNumberDensitiesFromOverlaps"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setNumberDensitiesFromOverlaps</span></code></a></dt><dd><p>does this but does smarter caching for number densities.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.clearStateOnAssemblies">
<span class="sig-name descname"><span class="pre">clearStateOnAssemblies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blockParamNames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.clearStateOnAssemblies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.clearStateOnAssemblies" title="Permalink to this definition"></a></dt>
<dd><p>Clears the parameter state of blocks for a list of assemblies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>assems</strong> (List[<cite>Assembly &lt;armi.reactor.assemblies.Assembly&gt;</cite>]) – List of assembly objects.</p></li>
<li><p><strong>blockParamNames</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – A list of block parameter names to clear on the given assemblies.</p></li>
<li><p><strong>cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – If True, the block parameters that were cleared are stored
and returned as a dictionary of <code class="docutils literal notranslate"><span class="pre">{b:</span> <span class="pre">{param1:</span> <span class="pre">val1,</span> <span class="pre">param2:</span> <span class="pre">val2},</span> <span class="pre">b2:</span> <span class="pre">{...},</span> <span class="pre">...}</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.plotConvertedReactor">
<span class="sig-name descname"><span class="pre">plotConvertedReactor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.plotConvertedReactor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.plotConvertedReactor" title="Permalink to this definition"></a></dt>
<dd><p>Generate a radial layout image of the converted reactor core.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.reset" title="Permalink to this definition"></a></dt>
<dd><p>Clear out stored attributes and reset the global assembly number.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.updateReactionRates">
<span class="sig-name descname"><span class="pre">updateReactionRates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#UniformMeshGeometryConverter.updateReactionRates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter.updateReactionRates" title="Permalink to this definition"></a></dt>
<dd><p>Update reaction rates on converted assemblies.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>In some cases, we may want to read flux into a converted reactor from a
pre-existing physics output instead of mapping it in from the pre-conversion
source reactor. This method can be called after reading that flux in to
calculate updated reaction rates derived from that flux.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.NeutronicsUniformMeshConverter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.converters.uniformMesh.</span></span><span class="sig-name descname"><span class="pre">NeutronicsUniformMeshConverter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calcReactionRates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#NeutronicsUniformMeshConverter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.NeutronicsUniformMeshConverter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter" title="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniformMeshGeometryConverter</span></code></a></p>
<p>A uniform mesh converter that specifically maps neutronics parameters.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This uniform mesh converter is intended for setting up an eigenvalue
(fission-source) neutronics solve. There are no block parameters that need
to be mapped in for a basic eigenvalue calculation, just number densities.
The results of the calculation are mapped out (i.e., back to the non-uniform
mesh). The results mapped out include things like flux, power, and reaction
rates.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If a parameter is calculated by a physics solver while the reactor is in its
converted (uniform mesh) state, that parameter <em>must</em> be included in the list
of <cite>reactorParamNames</cite> or <cite>blockParamNames</cite> to be mapped back to the non-uniform
reactor; otherwise, it will be lost. These lists are defined through the
<cite>_setParamsToUpdate</cite> method, which uses the <cite>reactorParamMappingCategories</cite> and
<cite>blockParamMappingCategories</cite> attributes and applies custom logic to create a list of
parameters to be mapped in each direction.</p>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cs</strong> (<em>obj</em><em>, </em><em>optional</em>) – Case settings object.</p></li>
<li><p><strong>calcReactionRates</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Set to True by default, but if set to False the reaction
rate calculation after the neutron flux is remapped will
not be calculated.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.NeutronicsUniformMeshConverter.reactorParamMappingCategories">
<span class="sig-name descname"><span class="pre">reactorParamMappingCategories</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'in':</span> <span class="pre">['neutronics'],</span> <span class="pre">'out':</span> <span class="pre">['neutronics']}</span></em><a class="headerlink" href="#armi.reactor.converters.uniformMesh.NeutronicsUniformMeshConverter.reactorParamMappingCategories" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.NeutronicsUniformMeshConverter.blockParamMappingCategories">
<span class="sig-name descname"><span class="pre">blockParamMappingCategories</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'in':</span> <span class="pre">[],</span> <span class="pre">'out':</span> <span class="pre">['detailedAxialExpansion',</span> <span class="pre">'multi-group</span> <span class="pre">quantities',</span> <span class="pre">'pinQuantities']}</span></em><a class="headerlink" href="#armi.reactor.converters.uniformMesh.NeutronicsUniformMeshConverter.blockParamMappingCategories" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.GammaUniformMeshConverter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.converters.uniformMesh.</span></span><span class="sig-name descname"><span class="pre">GammaUniformMeshConverter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#GammaUniformMeshConverter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.GammaUniformMeshConverter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter" title="armi.reactor.converters.uniformMesh.UniformMeshGeometryConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniformMeshGeometryConverter</span></code></a></p>
<p>A uniform mesh converter that specifically maps gamma parameters.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This uniform mesh converter is intended for setting up a fixed-source gamma transport solve.
Some block parameters from the neutronics solve, such as <cite>b.p.mgFlux</cite>, may need to be mapped
into the uniform mesh reactor so that the gamma source can be calculated by the ARMI plugin
performing gamma transport. Parameters that are updated with gamma transport results, such
as <cite>powerGenerated</cite>, <cite>powerNeutron</cite>, and <cite>powerGamma</cite>, need to be mapped back to the
non-uniform reactor.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If a parameter is calculated by a physics solver while the reactor is in its
converted (uniform mesh) state, that parameter <em>must</em> be included in the list
of <cite>reactorParamNames</cite> or <cite>blockParamNames</cite> to be mapped back to the non-uniform
reactor; otherwise, it will be lost. These lists are defined through the
<cite>_setParamsToUpdate</cite> method, which uses the <cite>reactorParamMappingCategories</cite> and
<cite>blockParamMappingCategories</cite> attributes and applies custom logic to create a list of
parameters to be mapped in each direction.</p>
</div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.GammaUniformMeshConverter.reactorParamMappingCategories">
<span class="sig-name descname"><span class="pre">reactorParamMappingCategories</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'in':</span> <span class="pre">['neutronics'],</span> <span class="pre">'out':</span> <span class="pre">['neutronics']}</span></em><a class="headerlink" href="#armi.reactor.converters.uniformMesh.GammaUniformMeshConverter.reactorParamMappingCategories" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.GammaUniformMeshConverter.blockParamMappingCategories">
<span class="sig-name descname"><span class="pre">blockParamMappingCategories</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'in':</span> <span class="pre">['multi-group</span> <span class="pre">quantities'],</span> <span class="pre">'out':</span> <span class="pre">['gamma',</span> <span class="pre">'neutronics']}</span></em><a class="headerlink" href="#armi.reactor.converters.uniformMesh.GammaUniformMeshConverter.blockParamMappingCategories" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.ParamMapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.converters.uniformMesh.</span></span><span class="sig-name descname"><span class="pre">ParamMapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reactorParamNames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blockParamNames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#ParamMapper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.ParamMapper" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Utility for parameter setters/getters that can be used when
transferring data from one assembly to another during the mesh
conversion process. Stores some data like parameter defaults and
properties to save effort of accessing paramDefs many times for
the same data.</p>
<p>Initialize the list of parameter defaults.</p>
<p>The ParameterDefinitionCollection lookup is very slow, so this we do it once
and store it as a hashed list.</p>
<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.ParamMapper.paramSetter">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">paramSetter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paramNames</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#ParamMapper.paramSetter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.ParamMapper.paramSetter" title="Permalink to this definition"></a></dt>
<dd><p>Sets block parameter data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.ParamMapper.paramGetter">
<span class="sig-name descname"><span class="pre">paramGetter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paramNames</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#ParamMapper.paramGetter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.ParamMapper.paramGetter" title="Permalink to this definition"></a></dt>
<dd><p>Returns block parameter values as an array in the order of the parameter names given.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.reactor.converters.uniformMesh.setNumberDensitiesFromOverlaps">
<span class="sig-prename descclassname"><span class="pre">armi.reactor.converters.uniformMesh.</span></span><span class="sig-name descname"><span class="pre">setNumberDensitiesFromOverlaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlappingBlockInfo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/converters/uniformMesh.html#setNumberDensitiesFromOverlaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.converters.uniformMesh.setNumberDensitiesFromOverlaps" title="Permalink to this definition"></a></dt>
<dd><p>Set number densities on a block based on overlapping blocks.</p>
<p>A conservation of number of atoms technique is used to map the non-uniform number densities onto the uniform
neutronics mesh. When the number density of a height <span class="math notranslate nohighlight">\(H\)</span> neutronics mesh block <span class="math notranslate nohighlight">\(N^{\prime}\)</span> is
being computed from one or more blocks in the ARMI mesh with number densities <span class="math notranslate nohighlight">\(N_i\)</span> and
heights <span class="math notranslate nohighlight">\(h_i\)</span>, the following formula is used:</p>
<div class="math notranslate nohighlight">
\[N^{\prime} =  \sum_i N_i \frac{h_i}{H}\]</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="armi.reactor.converters.pinTypeBlockConverters.html" class="btn btn-neutral float-left" title="armi.reactor.converters.pinTypeBlockConverters module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="armi.reactor.grids.html" class="btn btn-neutral float-right" title="armi.reactor.grids package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2009-2024, TerraPower, LLC.
      <span class="lastupdated">Last updated on 2024-08-29.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>