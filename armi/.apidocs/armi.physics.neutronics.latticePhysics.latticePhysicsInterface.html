

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="armi.physics.neutronics.latticePhysics.latticePhysicsInterface module" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.physics.neutronics.latticePhysics.latticePhysicsInterface.html" />
<meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
<meta property="og:description" content="Lattice Physics Interface. Parent classes for codes responsible for generating broad-group cross sections." />
<meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
<meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
<meta name="description" content="Lattice Physics Interface. Parent classes for codes responsible for generating broad-group cross sections." />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>armi.physics.neutronics.latticePhysics.latticePhysicsInterface module &mdash; ARMI 0.6.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme_fixes.css?v=2b77b304" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=e5fbc548" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-data-viewer/jsonview.bundle.css?v=f6ef2277" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/libs/html/datatables.min.css?v=4b4fd840" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_style.css?v=678fb11e" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/needstable.css?v=5e1b6797" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_links.css?v=2150a916" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_toggle.css?v=5c6620df" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_core.css?v=f5b60a78" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/modern.css?v=803738c0" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-test-results/common.css?v=9ec2c1d5" />

  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=2bd037f0"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="../_static/sphinx-data-viewer/jsonview.bundle.js?v=18cd53c5"></script>
      <script src="../_static/sphinx-data-viewer/jsonview_loader.js?v=f7ff7e7d"></script>
      <script src="../_static/sphinx-needs/libs/html/datatables.min.js?v=8a4aee21"></script>
      <script src="../_static/sphinx-needs/libs/html/datatables_loader.js?v=a2cae175"></script>
      <script src="../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js?v=dca66431"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.physics.neutronics.latticePhysics.latticePhysicsWriter module" href="armi.physics.neutronics.latticePhysics.latticePhysicsWriter.html" />
    <link rel="prev" title="armi.physics.neutronics.latticePhysics.tests.test_latticeWriter module" href="armi.physics.neutronics.latticePhysics.tests.test_latticeWriter.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >

          
          
          <a href="../index.html" class="icon icon-home">
            ARMI
              <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qa_docs/index.html">QA Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.disableFutureConfigures"><code class="docutils literal notranslate"><span class="pre">disableFutureConfigures()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.isStableReleaseVersion"><code class="docutils literal notranslate"><span class="pre">isStableReleaseVersion()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.init"><code class="docutils literal notranslate"><span class="pre">init()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getDefaultPlugins"><code class="docutils literal notranslate"><span class="pre">getDefaultPlugins()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getDefaultPluginManager"><code class="docutils literal notranslate"><span class="pre">getDefaultPluginManager()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.isConfigured"><code class="docutils literal notranslate"><span class="pre">isConfigured()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getPluginManager"><code class="docutils literal notranslate"><span class="pre">getPluginManager()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getPluginManagerOrFail"><code class="docutils literal notranslate"><span class="pre">getPluginManagerOrFail()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getApp"><code class="docutils literal notranslate"><span class="pre">getApp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.configure"><code class="docutils literal notranslate"><span class="pre">configure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.applyAsyncioWindowsWorkaround"><code class="docutils literal notranslate"><span class="pre">applyAsyncioWindowsWorkaround()</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.migration.html">armi.migration package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.testing.html">armi.testing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.tests.html">armi.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #233C5B" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">armi</a></li>
          <li class="breadcrumb-item"><a href="armi.html">armi package</a></li>
          <li class="breadcrumb-item"><a href="armi.physics.html">armi.physics package</a></li>
          <li class="breadcrumb-item"><a href="armi.physics.neutronics.html">armi.physics.neutronics package</a></li>
          <li class="breadcrumb-item"><a href="armi.physics.neutronics.latticePhysics.html">armi.physics.neutronics.latticePhysics package</a></li>
      <li class="breadcrumb-item active">armi.physics.neutronics.latticePhysics.latticePhysicsInterface module</li>
  <li class="wy-breadcrumbs-aside">
    
      
    
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-armi.physics.neutronics.latticePhysics.latticePhysicsInterface">
<span id="armi-physics-neutronics-latticephysics-latticephysicsinterface-module"></span><h1>armi.physics.neutronics.latticePhysics.latticePhysicsInterface module<a class="headerlink" href="#module-armi.physics.neutronics.latticePhysics.latticePhysicsInterface" title="Link to this heading"></a></h1>
<p>Lattice Physics Interface.</p>
<p>Parent classes for codes responsible for generating broad-group cross sections.</p>
<dl class="py function">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.setBlockNeutronVelocities">
<span class="sig-prename descclassname"><span class="pre">armi.physics.neutronics.latticePhysics.latticePhysicsInterface.</span></span><span class="sig-name descname"><span class="pre">setBlockNeutronVelocities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neutronVelocities</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#setBlockNeutronVelocities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.setBlockNeutronVelocities" title="Link to this definition"></a></dt>
<dd><p>Set the <code class="docutils literal notranslate"><span class="pre">mgNeutronVelocity</span></code> parameter for each block using the <code class="docutils literal notranslate"><span class="pre">neutronVelocities</span></code> dictionary data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<em>Reactor</em>) – A Reactor object, that we want to modify.</p></li>
<li><p><strong>neutronVelocities</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – Dictionary that is keyed with the <code class="docutils literal notranslate"><span class="pre">representativeBlock</span></code> XS IDs with values of multigroup neutron
velocity data computed by MC2.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – Multi-group neutron velocities was not computed during the cross section calculation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.physics.neutronics.latticePhysics.latticePhysicsInterface.</span></span><span class="sig-name descname"><span class="pre">LatticePhysicsInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.interfaces.html#armi.interfaces.Interface" title="armi.interfaces.Interface"><code class="xref py py-class docutils literal notranslate"><span class="pre">Interface</span></code></a></p>
<p>Class for interacting with lattice physics codes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.function">
<span class="sig-name descname"><span class="pre">function</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'latticePhysics'</span></em><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.function" title="Link to this definition"></a></dt>
<dd><p>The function performed by an Interface. This is not required be be defined by implementations of
Interface, but is used to form categories of interfaces.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.interactBOL">
<span class="sig-name descname"><span class="pre">interactBOL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.interactBOL"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.interactBOL" title="Link to this definition"></a></dt>
<dd><p>Run the lattice physics code if <code class="docutils literal notranslate"><span class="pre">genXS</span></code> is set and update burnup groups.</p>
<p>Generate new cross sections based off the case settings and the current state
of the reactor if the lattice physics frequency is BOL.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.interactBOC">
<span class="sig-name descname"><span class="pre">interactBOC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.interactBOC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.interactBOC" title="Link to this definition"></a></dt>
<dd><p>Run the lattice physics code if <code class="docutils literal notranslate"><span class="pre">genXS</span></code> is set and update burnup groups.</p>
<p>Generate new cross sections based off the case settings and the current state
of the reactor if the lattice physics frequency is BOC.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p><a class="reference internal" href="armi.physics.fuelCycle.fuelHandlerInterface.html#armi.physics.fuelCycle.fuelHandlerInterface.FuelHandlerInterface.interactBOC" title="armi.physics.fuelCycle.fuelHandlerInterface.FuelHandlerInterface.interactBOC"><code class="xref py py-meth docutils literal notranslate"><span class="pre">armi.physics.fuelCycle.fuelHandlerInterface.FuelHandlerInterface.interactBOC()</span></code></a>
also calls this if the <code class="docutils literal notranslate"><span class="pre">runLatticePhysicsBeforeShuffling</span></code> setting is True.
This happens because branch searches may need XS.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.updateXSLibrary">
<span class="sig-name descname"><span class="pre">updateXSLibrary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.updateXSLibrary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.updateXSLibrary" title="Link to this definition"></a></dt>
<dd><p>Update the current XS library, either by creating or reloading one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cycle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The cycle that is being processed. Used to name the library.</p></li>
<li><p><strong>node</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – The node that is being processed. Used to name the library.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.computeCrossSections" title="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.computeCrossSections"><code class="xref py py-obj docutils literal notranslate"><span class="pre">computeCrossSections</span></code></a></dt><dd><p>run lattice physics on the current reactor state no matter weather needed or not.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.readExistingXSLibraries">
<span class="sig-name descname"><span class="pre">readExistingXSLibraries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.readExistingXSLibraries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.readExistingXSLibraries" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.makeCycleXSFilesAsBaseFiles">
<span class="sig-name descname"><span class="pre">makeCycleXSFilesAsBaseFiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.makeCycleXSFilesAsBaseFiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.makeCycleXSFilesAsBaseFiles" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.interactEveryNode">
<span class="sig-name descname"><span class="pre">interactEveryNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.interactEveryNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.interactEveryNode" title="Link to this definition"></a></dt>
<dd><p>Run the lattice physics code if <code class="docutils literal notranslate"><span class="pre">genXS</span></code> is set and update burnup groups.</p>
<p>Generate new cross sections based off the case settings and the current state
of the reactor if the lattice physics frequency is at least everyNode.</p>
<p>If this is not a coupled calculation, or if cross sections are only being
generated at everyNode, then we want to regenerate all cross sections here.
If it _is_ a coupled calculation, and we are generating cross sections at
coupled iterations, then keep the existing XS lib for now, adding
any XS groups as necessary to ensure that all XS groups are covered.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.interactCoupled">
<span class="sig-name descname"><span class="pre">interactCoupled</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iteration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.interactCoupled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.interactCoupled" title="Link to this definition"></a></dt>
<dd><p>Runs on coupled iterations to generate cross sections that are updated with the temperature state.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This accounts for changes in cross section data due to temperature changes, which are important
for cross section resonance effects and accurately characterizing Doppler constant and coefficient
evaluations. For Standard and Equilibrium run types, this coupling iteration is limited to when the
time node is equal to zero. The validity of this assumption lies in the expectation that these runs
have consistent power, flow, and temperature conditions at all time nodes. For Snapshot run types,
this assumption, in general, is invalidated as the requested reactor state may sufficiently differ
from what exists on the database and where tight coupling is needed to capture temperature effects.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For Standard and Equilibrium run types, if the reactor power, flow, and/or temperature state
is expected to vary over the lifetime of the simulation, as could be the case with
<a class="reference internal" href="../user/inputs.html#cycle-history"><span class="std std-ref">detailed cycle histories</span></a>, a custom subclass should be considered.</p>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>iteration</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – This is unused since cross sections are generated on a per-cycle basis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.clearXS">
<span class="sig-name descname"><span class="pre">clearXS</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.clearXS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.clearXS" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.interactEOC">
<span class="sig-name descname"><span class="pre">interactEOC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.interactEOC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.interactEOC" title="Link to this definition"></a></dt>
<dd><p>Interact at the end of a cycle.</p>
<p>Force updating cross sections at the start of the next cycle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.computeCrossSections">
<span class="sig-name descname"><span class="pre">computeCrossSections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">baseList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forceSerial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsLibrarySuffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blockList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.computeCrossSections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.computeCrossSections" title="Link to this definition"></a></dt>
<dd><p>Prepare a batch of inputs, execute them, and store results on reactor library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>baseList</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – a user-specified set of bases that will be run instead of calculating all of them</p></li>
<li><p><strong>forceSerial</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Will run on 1 processor in sequence instead of on many in parallel
Useful for optimization/batch runs where every processor is on a different branch</p></li>
<li><p><strong>xsLibrarySuffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – A book-keeping suffix used in Doppler calculations</p></li>
<li><p><strong>blockList</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><em>optional</em>) – List of blocks for which to generate cross sections.
If None, representative blocks will be determined</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.generateLatticePhysicsInputs">
<span class="sig-name descname"><span class="pre">generateLatticePhysicsInputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">baseList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsLibrarySuffix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blockList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsWriters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.generateLatticePhysicsInputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.generateLatticePhysicsInputs" title="Link to this definition"></a></dt>
<dd><p>Write input files for the generation of cross section libraries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>baseList</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – A list of cross-section id strings (e.g. AA, BC) that will be generated. Default: all in reactor</p></li>
<li><p><strong>xsLibrarySuffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – A suffix added to the end of the XS file names such as ‘voided’ for voided XS. Default: Empty</p></li>
<li><p><strong>blockList</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – The blocks to write inputs for.</p></li>
<li><p><strong>xsWriters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><em>optional</em>) – The specified writers to write the input files</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>returnedFromWriters</strong> – A list of what this specific writer instance returns for each representative block.
It is the responsibility of the subclassed interface to implement.
In many cases, it is the executing agent.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.getWriters">
<span class="sig-name descname"><span class="pre">getWriters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">representativeBlock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsLibrarySuffix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.getWriters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.getWriters" title="Link to this definition"></a></dt>
<dd><p>Return valid lattice physics writer subclass(es).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>representativeBlock</strong> (<em>Block</em>) – A representative block object that can be created from a block collection.</p></li>
<li><p><strong>xsLibrarySuffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – A suffix added to the end of the XS file names such as ‘voided’ for voided XS. Default: Empty</p></li>
<li><p><strong>writers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><em>lattice physics writer objects</em><em>, </em><em>optional</em>) – If the writers are known, they can be provided and constructed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>writers</strong> – A list of writers for the provided representative block.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.getReader">
<span class="sig-name descname"><span class="pre">getReader</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.getReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.getReader" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.getRepresentativeBlocks">
<span class="sig-name descname"><span class="pre">getRepresentativeBlocks</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.getRepresentativeBlocks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.getRepresentativeBlocks" title="Link to this definition"></a></dt>
<dd><p>Return a list of all blocks in the problem.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.updatePhysicsCouplingControl">
<span class="sig-name descname"><span class="pre">updatePhysicsCouplingControl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/latticePhysics/latticePhysicsInterface.html#LatticePhysicsInterface.updatePhysicsCouplingControl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.physics.neutronics.latticePhysics.latticePhysicsInterface.LatticePhysicsInterface.updatePhysicsCouplingControl" title="Link to this definition"></a></dt>
<dd><p>Disable XS update in equilibrium cases after a while.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This is only relevant for equilibrium cases. We have to turn
off XS updates after several cyclics or else the number densities
will never converge.</p>
</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="armi.physics.neutronics.latticePhysics.tests.test_latticeWriter.html" class="btn btn-neutral float-left" title="armi.physics.neutronics.latticePhysics.tests.test_latticeWriter module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="armi.physics.neutronics.latticePhysics.latticePhysicsWriter.html" class="btn btn-neutral float-right" title="armi.physics.neutronics.latticePhysics.latticePhysicsWriter module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2009-2025, TerraPower, LLC.
      <span class="lastupdated">Last updated on 2025-10-29.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>