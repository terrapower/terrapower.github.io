

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="armi.bookkeeping.db.database module" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.bookkeeping.db.database.html" />
<meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
<meta property="og:description" content="ARMI Database implementation, version 3.4. A reactor model should be fully recoverable from the database; all the way down to the component level. As a result, the structure of the underlying data ..." />
<meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
<meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
<meta name="description" content="ARMI Database implementation, version 3.4. A reactor model should be fully recoverable from the database; all the way down to the component level. As a result, the structure of the underlying data ..." />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>armi.bookkeeping.db.database module &mdash; ARMI 0.6.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme_fixes.css?v=2b77b304" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=e5fbc548" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-data-viewer/jsonview.bundle.css?v=f6ef2277" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/libs/html/datatables.min.css?v=4b4fd840" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/needstable.css?v=5e1b6797" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_links.css?v=2150a916" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_toggle.css?v=5c6620df" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_style.css?v=678fb11e" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/common_css/need_core.css?v=f5b60a78" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-needs/modern.css?v=803738c0" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-test-results/common.css?v=9ec2c1d5" />

  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8fa8b3e9"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="../_static/sphinx-data-viewer/jsonview.bundle.js?v=18cd53c5"></script>
      <script src="../_static/sphinx-data-viewer/jsonview_loader.js?v=f7ff7e7d"></script>
      <script src="../_static/sphinx-needs/libs/html/datatables.min.js?v=8a4aee21"></script>
      <script src="../_static/sphinx-needs/libs/html/datatables_loader.js?v=a2cae175"></script>
      <script src="../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js?v=dca66431"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.bookkeeping.db.databaseInterface module" href="armi.bookkeeping.db.databaseInterface.html" />
    <link rel="prev" title="armi.bookkeeping.db.compareDB3 module" href="armi.bookkeeping.db.compareDB3.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >

          
          
          <a href="../index.html" class="icon icon-home">
            ARMI
              <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qa_docs/index.html">QA Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.disableFutureConfigures"><code class="docutils literal notranslate"><span class="pre">disableFutureConfigures()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.isStableReleaseVersion"><code class="docutils literal notranslate"><span class="pre">isStableReleaseVersion()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.init"><code class="docutils literal notranslate"><span class="pre">init()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getDefaultPlugins"><code class="docutils literal notranslate"><span class="pre">getDefaultPlugins()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getDefaultPluginManager"><code class="docutils literal notranslate"><span class="pre">getDefaultPluginManager()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.isConfigured"><code class="docutils literal notranslate"><span class="pre">isConfigured()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getPluginManager"><code class="docutils literal notranslate"><span class="pre">getPluginManager()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getPluginManagerOrFail"><code class="docutils literal notranslate"><span class="pre">getPluginManagerOrFail()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.getApp"><code class="docutils literal notranslate"><span class="pre">getApp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.configure"><code class="docutils literal notranslate"><span class="pre">configure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#armi.applyAsyncioWindowsWorkaround"><code class="docutils literal notranslate"><span class="pre">applyAsyncioWindowsWorkaround()</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.migration.html">armi.migration package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.testing.html">armi.testing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.tests.html">armi.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #233C5B" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">armi</a></li>
          <li class="breadcrumb-item"><a href="armi.html">armi package</a></li>
          <li class="breadcrumb-item"><a href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
          <li class="breadcrumb-item"><a href="armi.bookkeeping.db.html">armi.bookkeeping.db package</a></li>
      <li class="breadcrumb-item active">armi.bookkeeping.db.database module</li>
  <li class="wy-breadcrumbs-aside">
    
      
    
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-armi.bookkeeping.db.database">
<span id="armi-bookkeeping-db-database-module"></span><h1>armi.bookkeeping.db.database module<a class="headerlink" href="#module-armi.bookkeeping.db.database" title="Link to this heading"></a></h1>
<p>ARMI Database implementation, version 3.4.</p>
<p>A reactor model should be fully recoverable from the database; all the way down to the component
level. As a result, the structure of the underlying data is bound to the hierarchical Composite
Reactor Model. Furthermore, this database format is intended to be more dynamic, permitting as-yet
undeveloped levels and classes in the Composite Reactor Model to be supported as they are added.
More high-level discussion is contained in <a class="reference internal" href="../user/outputs.html#database-file"><span class="std std-ref">The Database File</span></a>.</p>
<p>The <a class="reference internal" href="#armi.bookkeeping.db.database.Database" title="armi.bookkeeping.db.database.Database"><code class="xref py py-class docutils literal notranslate"><span class="pre">Database</span></code></a> class contains most of the functionality for interacting with the
underlying data. This includes things like dumping a Reactor state to the database and loading it
back again, as well as extracting historical data for a given object or collection of object from
the database file. However, for the nitty-gritty details of how the hierarchical Composite Reactor
Model is translated to the flat file database, please refer to <a class="reference internal" href="armi.bookkeeping.db.layout.html#module-armi.bookkeeping.db.layout" title="armi.bookkeeping.db.layout"><code class="xref py py-mod docutils literal notranslate"><span class="pre">armi.bookkeeping.db.layout</span></code></a>.</p>
<p>Refer to <a class="reference internal" href="armi.bookkeeping.db.html#module-armi.bookkeeping.db" title="armi.bookkeeping.db"><code class="xref py py-mod docutils literal notranslate"><span class="pre">armi.bookkeeping.db</span></code></a> for information about versioning.</p>
<dl class="py function">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.getH5GroupName">
<span class="sig-prename descclassname"><span class="pre">armi.bookkeeping.db.database.</span></span><span class="sig-name descname"><span class="pre">getH5GroupName</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeNode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">statePointName</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#getH5GroupName"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.getH5GroupName" title="Link to this definition"></a></dt>
<dd><p>Naming convention specifier.</p>
<p>ARMI defines the naming convention cXXnYY for groups of simulation data.
That is, data is grouped by cycle and time node information during a
simulated run.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.bookkeeping.db.database.</span></span><span class="sig-name descname"><span class="pre">Database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.13)"><span class="pre">PathLike</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">permission</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>ARMI Database, handling serialization and loading of Reactor states.</p>
<p>This implementation of the database pushes all objects in the Composite Reactor Model into the
database. This process is aided by the <code class="docutils literal notranslate"><span class="pre">Layout</span></code> class, which handles the packing and unpacking
of the structure of the objects, their relationships, and their non-parameter attributes.</p>
<div class="need_container docutils container" id="SNCB-4cbc63fe">
<table class="need needs_grid_simple needs_layout_clean needs_style_none needs_type_impl docutils align-default" id="I_ARMI_DB_H51">
<tbody>
<tr class="need head row-odd"><td class="need head"><div class="needs_head line-block">
<div class="line"><span><span class="needs_type_name"><span class="needs_data">Implementation</span></span>: </span><strong><span><span class="needs_title"><span class="needs_data">The database files are H5, and thus language agnostic.</span></span></span></strong><span> <span class="needs-id"><a class="reference internal" href="#I_ARMI_DB_H51" title="I_ARMI_DB_H51">I_ARMI_DB_H51</a></span>  <span class="needs needs_collapse" id="target__show__meta"><span class="needs collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg></span><span class="needs visible collapse_is_hidden"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg></span></span> </span></div>
</div>
</td>
</tr>
<tr class="need meta row-even"><td class="need meta"><div class="needs_meta line-block">
<div class="line"><span><span><div class="line"><span class="needs_signature"><span class="needs_label">signature: </span><span class="needs_data">Database</span></span></div>
</span></span></div>
<div class="line"><span><div class="line">requirements: <span class="implements"><span><a class="reference internal" href="../qa_docs/srsd.html#R_ARMI_DB_H5" title="I_ARMI_DB_H51">R_ARMI_DB_H5</a></span></span></div>
</span></div>
</div>
</td>
</tr>
<tr class="need content row-odd"><td class="need content" colspan="1"><p>This class implements a light wrapper around H5 files, so they can be used to store ARMI
outputs. H5 files are commonly used in scientific applications in Fortran and C++. As such,
they are entirely language agnostic binary files. The implementation here is that ARMI wraps
the <code class="docutils literal notranslate"><span class="pre">h5py</span></code> library, and uses its extensive tooling, instead of re-inventing the wheel.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><cite>doc/user/outputs/database</cite> for more details.</p>
</div>
<p>Create a new Database object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fileName</strong> – name of the file</p></li>
<li><p><strong>permission</strong> – file permissions, write (“w”) or read (“r”)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.timeNodeGroupPattern">
<span class="sig-name descname"><span class="pre">timeNodeGroupPattern</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('^c(\\d\\d)n(\\d\\d).*$')</span></em><a class="headerlink" href="#armi.bookkeeping.db.database.Database.timeNodeGroupPattern" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#armi.bookkeeping.db.database.Database.version" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.versionMajor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">versionMajor</span></span><a class="headerlink" href="#armi.bookkeeping.db.database.Database.versionMajor" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.versionMinor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">versionMinor</span></span><a class="headerlink" href="#armi.bookkeeping.db.database.Database.versionMinor" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.open">
<span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.open" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.isOpen">
<span class="sig-name descname"><span class="pre">isOpen</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.isOpen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.isOpen" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.writeSystemAttributes">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">writeSystemAttributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.writeSystemAttributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.writeSystemAttributes" title="Link to this definition"></a></dt>
<dd><p>Write system attributes to the database.</p>
<div class="need_container docutils container" id="SNCB-f1679221">
<table class="need needs_grid_simple needs_layout_clean needs_style_none needs_type_impl docutils align-default" id="I_ARMI_DB_QA">
<tbody>
<tr class="need head row-odd"><td class="need head"><div class="needs_head line-block">
<div class="line"><span><span class="needs_type_name"><span class="needs_data">Implementation</span></span>: </span><strong><span><span class="needs_title"><span class="needs_data">Add system attributes to the database.</span></span></span></strong><span> <span class="needs-id"><a class="reference internal" href="#I_ARMI_DB_QA" title="I_ARMI_DB_QA">I_ARMI_DB_QA</a></span>  <span class="needs needs_collapse" id="target__show__meta"><span class="needs collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg></span><span class="needs visible collapse_is_hidden"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg></span></span> </span></div>
</div>
</td>
</tr>
<tr class="need meta row-even"><td class="need meta"><div class="needs_meta line-block">
<div class="line"><span><span><div class="line"><span class="needs_signature"><span class="needs_label">signature: </span><span class="needs_data">writeSystemAttributes</span></span></div>
</span></span></div>
<div class="line"><span><div class="line">requirements: <span class="implements"><span><a class="reference internal" href="../qa_docs/srsd.html#R_ARMI_DB_QA" title="I_ARMI_DB_QA">R_ARMI_DB_QA</a></span></span></div>
</span></div>
</div>
</td>
</tr>
<tr class="need content row-odd"><td class="need content" colspan="1"><p>This method writes some basic system information to the H5 file. This is designed as a
starting point, so users can see information about the system their simulations were run
on. As ARMI is used on Windows and Linux, the tooling here has to be platform
independent. The two major sources of information are the ARMI
<a class="reference internal" href="armi.context.html#module-armi.context" title="armi.context"><code class="xref py py-mod docutils literal notranslate"><span class="pre">context</span></code></a> module and the Python standard library <code class="docutils literal notranslate"><span class="pre">platform</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.grabLocalCommitHash">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grabLocalCommitHash</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.grabLocalCommitHash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.grabLocalCommitHash" title="Link to this definition"></a></dt>
<dd><p>Try to determine the local Git commit.</p>
<p>We have to be sure to handle the errors where the code is run on a system that doesn’t have
Git installed. Or if the code is simply not run from inside a repo.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The commit hash if it exists, otherwise “unknown”.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">completedSuccessfully</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.close" title="Link to this definition"></a></dt>
<dd><p>Close the DB and perform cleanups and auto-conversions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.splitDatabase">
<span class="sig-name descname"><span class="pre">splitDatabase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keepTimeSteps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.splitDatabase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.splitDatabase" title="Link to this definition"></a></dt>
<dd><p>Discard all data except for specific time steps, retaining old data in a separate file.</p>
<p>This is useful when performing more exotic analyses, where each “time step” may not
represent a specific point in time, but something more nuanced. For example, equilibrium
cases store a new “cycle” for each iteration as it attempts to converge the equilibrium
cycle. At the end of the run, the last “cycle” is the converged equilibrium cycle, whereas
the previous cycles constitute the path to convergence, which we typically wish to discard
before further analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keepTimeSteps</strong> – A collection of the time steps to retain</p></li>
<li><p><strong>label</strong> – An informative label for the backed-up database. Usually something like
“-all-iterations”. Will be interposed between the source name and the “.h5” extension.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name of the new, backed-up database file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.fileName">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fileName</span></span><a class="headerlink" href="#armi.bookkeeping.db.database.Database.fileName" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.loadCS">
<span class="sig-name descname"><span class="pre">loadCS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handleInvalids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.loadCS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.loadCS" title="Link to this definition"></a></dt>
<dd><p>Attempt to load settings from the database file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>handleInvalids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to check for invalid settings. Default True.</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>There are no guarantees here. If the database was written from a different version of ARMI
than you are using, these results may not be usable. Or if the database was written using a
custom Application you do not have access to, the DB may not be usable.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.loadBlueprints">
<span class="sig-name descname"><span class="pre">loadBlueprints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.loadBlueprints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.loadBlueprints" title="Link to this definition"></a></dt>
<dd><p>Attempt to load reactor blueprints from the database file.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>There are no guarantees here. If the database was written from a different version of ARMI
than you are using, these results may not be usable. Or if the database was written using a
custom Application you do not have access to, the DB may not be usable.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.writeInputsToDB">
<span class="sig-name descname"><span class="pre">writeInputsToDB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csString</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bpString</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.writeInputsToDB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.writeInputsToDB" title="Link to this definition"></a></dt>
<dd><p>Write inputs into the database based the Settings.</p>
<p>This is not DRY on purpose. The goal is that any particular Database implementation should
be very stable, so we dont want it to be easy to change one Database implementation’s
behavior when trying to change another’s.</p>
<div class="need_container docutils container" id="SNCB-3b95d653">
<table class="need needs_grid_simple needs_layout_clean needs_style_none needs_type_impl docutils align-default" id="I_ARMI_DB_CS">
<tbody>
<tr class="need head row-odd"><td class="need head"><div class="needs_head line-block">
<div class="line"><span><span class="needs_type_name"><span class="needs_data">Implementation</span></span>: </span><strong><span><span class="needs_title"><span class="needs_data">The run settings are saved the settings file.</span></span></span></strong><span> <span class="needs-id"><a class="reference internal" href="#I_ARMI_DB_CS" title="I_ARMI_DB_CS">I_ARMI_DB_CS</a></span>  <span class="needs needs_collapse" id="target__show__meta"><span class="needs collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg></span><span class="needs visible collapse_is_hidden"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg></span></span> </span></div>
</div>
</td>
</tr>
<tr class="need meta row-even"><td class="need meta"><div class="needs_meta line-block">
<div class="line"><span><span><div class="line"><span class="needs_signature"><span class="needs_label">signature: </span><span class="needs_data">writeInputsToDB</span></span></div>
</span></span></div>
<div class="line"><span><div class="line">requirements: <span class="implements"><span><a class="reference internal" href="../qa_docs/srsd.html#R_ARMI_DB_CS" title="I_ARMI_DB_CS">R_ARMI_DB_CS</a></span></span></div>
</span></div>
</div>
</td>
</tr>
<tr class="need content row-odd"><td class="need content" colspan="1"><p>A <code class="docutils literal notranslate"><span class="pre">Settings</span></code> object is passed into this method, and then the settings are converted
into a YAML string stream. That stream is then written to the H5 file. Optionally, this
method can take a pre-build settings string to be written directly to the file.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="need_container docutils container" id="SNCB-4d99abce">
<table class="need needs_grid_simple needs_layout_clean needs_style_none needs_type_impl docutils align-default" id="I_ARMI_DB_BP">
<tbody>
<tr class="need head row-odd"><td class="need head"><div class="needs_head line-block">
<div class="line"><span><span class="needs_type_name"><span class="needs_data">Implementation</span></span>: </span><strong><span><span class="needs_title"><span class="needs_data">The reactor blueprints are saved the settings file.</span></span></span></strong><span> <span class="needs-id"><a class="reference internal" href="#I_ARMI_DB_BP" title="I_ARMI_DB_BP">I_ARMI_DB_BP</a></span>  <span class="needs needs_collapse" id="target__show__meta"><span class="needs collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg></span><span class="needs visible collapse_is_hidden"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg></span></span> </span></div>
</div>
</td>
</tr>
<tr class="need meta row-even"><td class="need meta"><div class="needs_meta line-block">
<div class="line"><span><span><div class="line"><span class="needs_signature"><span class="needs_label">signature: </span><span class="needs_data">writeInputsToDB</span></span></div>
</span></span></div>
<div class="line"><span><div class="line">requirements: <span class="implements"><span><a class="reference internal" href="../qa_docs/srsd.html#R_ARMI_DB_BP" title="I_ARMI_DB_BP">R_ARMI_DB_BP</a></span></span></div>
</span></div>
</div>
</td>
</tr>
<tr class="need content row-odd"><td class="need content" colspan="1"><p>A <code class="docutils literal notranslate"><span class="pre">Blueprints</span></code> string is optionally passed into this method, and then written to the
H5 file. If it is not passed in, this method will attempt to find the blueprints input
file in the settings, and read the contents of that file into a stream to be written to
the H5 file.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This is hard-coded to read the entire file contents into memory and write that directly into
the database. We could have the cs/blueprints/geom write to a string, however the ARMI log
file contains a hash of each files’ contents. In the future, we should be able to reproduce
a calculation with confidence that the inputs are identical.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.readInputsFromDB">
<span class="sig-name descname"><span class="pre">readInputsFromDB</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.readInputsFromDB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.readInputsFromDB" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.mergeHistory">
<span class="sig-name descname"><span class="pre">mergeHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputDB</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startCycle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startNode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.mergeHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.mergeHistory" title="Link to this definition"></a></dt>
<dd><p>Copy time step data up to, but not including the passed cycle and node.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This is used for restart runs with the standard operator for example. The current time step
(being loaded from) should not be copied, as that time steps data will be written at the end
of the time step.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.genTimeStepGroups">
<span class="sig-name descname"><span class="pre">genTimeStepGroups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeSteps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Group</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.genTimeStepGroups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.genTimeStepGroups" title="Link to this definition"></a></dt>
<dd><p>Returns a generator of HDF5 Groups for all time nodes, or for the passed selection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.getLayout">
<span class="sig-name descname"><span class="pre">getLayout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.getLayout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.getLayout" title="Link to this definition"></a></dt>
<dd><p>Return a Layout object representing the requested cycle and time node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.genTimeSteps">
<span class="sig-name descname"><span class="pre">genTimeSteps</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.genTimeSteps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.genTimeSteps" title="Link to this definition"></a></dt>
<dd><p>Returns a generator of (cycle, node) tuples that are present in the DB.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.genAuxiliaryData">
<span class="sig-name descname"><span class="pre">genAuxiliaryData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.genAuxiliaryData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.genAuxiliaryData" title="Link to this definition"></a></dt>
<dd><p>Returns a generator of names of auxiliary data on the requested time point.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.getAuxiliaryDataPath">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getAuxiliaryDataPath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.getAuxiliaryDataPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.getAuxiliaryDataPath" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.keys" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.getH5Group">
<span class="sig-name descname"><span class="pre">getH5Group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statePointName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.getH5Group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.getH5Group" title="Link to this definition"></a></dt>
<dd><p>Get the H5Group for the current ARMI timestep.</p>
<p>This method can be used to allow other interfaces to place data into the database at the
correct timestep.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.hasTimeStep">
<span class="sig-name descname"><span class="pre">hasTimeStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeNode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statePointName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.hasTimeStep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.hasTimeStep" title="Link to this definition"></a></dt>
<dd><p>Returns True if (cycle, timeNode, statePointName) is contained in the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.writeToDB">
<span class="sig-name descname"><span class="pre">writeToDB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reactor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statePointName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.writeToDB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.writeToDB" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.syncToSharedFolder">
<span class="sig-name descname"><span class="pre">syncToSharedFolder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.syncToSharedFolder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.syncToSharedFolder" title="Link to this definition"></a></dt>
<dd><p>Copy DB to run working directory.</p>
<p>Needed when multiple MPI processes need to read the same db, for example when a history is
needed from independent runs (e.g. for fuel performance on a variety of assemblies).</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>At some future point, we may implement a client-server like DB system which would render
this kind of operation unnecessary.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statePointName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowMissing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handleInvalids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callReactorConstructionHook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.load" title="Link to this definition"></a></dt>
<dd><p>Load a new reactor from a DB at (cycle, node).</p>
<p>Case settings and blueprints can be provided, or read from the database. Providing these
can be useful for snapshot runs or when you want to change settings mid-simulation. Geometry
is read from the database.</p>
<div class="need_container docutils container" id="SNCB-05924d1f">
<table class="need needs_grid_simple needs_layout_clean needs_style_none needs_type_impl docutils align-default" id="I_ARMI_DB_TIME1">
<tbody>
<tr class="need head row-odd"><td class="need head"><div class="needs_head line-block">
<div class="line"><span><span class="needs_type_name"><span class="needs_data">Implementation</span></span>: </span><strong><span><span class="needs_title"><span class="needs_data">Users can load a reactor from a DB.</span></span></span></strong><span> <span class="needs-id"><a class="reference internal" href="#I_ARMI_DB_TIME1" title="I_ARMI_DB_TIME1">I_ARMI_DB_TIME1</a></span>  <span class="needs needs_collapse" id="target__show__meta"><span class="needs collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg></span><span class="needs visible collapse_is_hidden"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg></span></span> </span></div>
</div>
</td>
</tr>
<tr class="need meta row-even"><td class="need meta"><div class="needs_meta line-block">
<div class="line"><span><span><div class="line"><span class="needs_signature"><span class="needs_label">signature: </span><span class="needs_data">load</span></span></div>
</span></span></div>
<div class="line"><span><div class="line">requirements: <span class="implements"><span><a class="reference internal" href="../qa_docs/srsd.html#R_ARMI_DB_TIME" title="I_ARMI_DB_TIME1">R_ARMI_DB_TIME</a></span></span></div>
</span></div>
</div>
</td>
</tr>
<tr class="need content row-odd"><td class="need content" colspan="1"><p>This method creates a <code class="docutils literal notranslate"><span class="pre">Reactor</span></code> object by reading the reactor state out of an ARMI
database file. This is done by passing in mandatory arguments that specify the exact
place in time you want to load the reactor from. (That is, the cycle and node numbers.)
Users can either pass the settings and blueprints directly into this method, or it will
attempt to read them from the database file. The primary work done here is to read the
hierarchy of reactor objects from the data file, then reconstruct them in the correct
order.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cycle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Cycle number</p></li>
<li><p><strong>node</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Time node. If value is negative, will be indexed from EOC backwards like a list.</p></li>
<li><p><strong>cs</strong> (<em>armi.settings.Settings</em><em>, </em><em>optional</em>) – If not provided one is read from the database</p></li>
<li><p><strong>bp</strong> (<em>armi.reactor.Blueprints</em><em>, </em><em>optional</em>) – If not provided one is read from the database</p></li>
<li><p><strong>statePointName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Statepoint name (e.g., “special” for “c00n00-special/”)</p></li>
<li><p><strong>allowMissing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to emit a warning, rather than crash if reading a database
with undefined parameters. Default False.</p></li>
<li><p><strong>handleInvalids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to check for invalid settings. Default True.</p></li>
<li><p><strong>callReactorConstructionHook</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Flag for whether the beforeReactorConstruction plugin hook should be executed. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>root</strong> – The top-level object stored in the database; a Reactor.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Reactor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.loadReadOnly">
<span class="sig-name descname"><span class="pre">loadReadOnly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cycle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statePointName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.loadReadOnly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.loadReadOnly" title="Link to this definition"></a></dt>
<dd><p>Load a new reactor, in read-only mode from a DB at (cycle, node).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cycle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Cycle number</p></li>
<li><p><strong>node</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Time node. If value is negative, will be indexed from EOC backwards like a list.</p></li>
<li><p><strong>statePointName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Statepoint name (e.g., “special” for “c00n00-special/”)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The top-level object stored in the database; a Reactor.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Reactor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.getHistoryByLocation">
<span class="sig-name descname"><span class="pre">getHistoryByLocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="armi.reactor.composites.html#armi.reactor.composites.ArmiObject" title="armi.reactor.composites.ArmiObject"><span class="pre">ArmiObject</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeSteps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.getHistoryByLocation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.getHistoryByLocation" title="Link to this definition"></a></dt>
<dd><p>Get the parameter histories at a specific location.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.getHistoriesByLocation">
<span class="sig-name descname"><span class="pre">getHistoriesByLocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="armi.reactor.composites.html#armi.reactor.composites.ArmiObject" title="armi.reactor.composites.ArmiObject"><span class="pre">ArmiObject</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeSteps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="armi.reactor.composites.html#armi.reactor.composites.ArmiObject" title="armi.reactor.composites.ArmiObject"><span class="pre">ArmiObject</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.getHistoriesByLocation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.getHistoriesByLocation" title="Link to this definition"></a></dt>
<dd><p>Get the parameter histories at specific locations.</p>
<dl class="simple">
<dt>This has a number of limitations, which should in practice not be too limiting:</dt><dd><ul class="simple">
<li><p>The passed objects must have IndexLocations. This type of operation doesn’t make much
sense otherwise.</p></li>
<li><p>The passed objects must exist in a hierarchy that leads to a Core object, which serves as
an anchor that can fully define all index locations. This could possibly be made more
general by extending grids, but that gets a little more complicated.</p></li>
<li><p>All requested objects must exist under the <strong>same</strong> anchor object, and at the same depth
below it.</p></li>
<li><p>All requested objects must have the same type.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comps</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>ArmiObject</em>) – The components/composites that currently occupy the location that you want histories at.
ArmiObjects are passed, rather than locations, because this makes it easier to figure
out things related to layout.</p></li>
<li><p><strong>params</strong> (<em>List</em><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The parameter names for the parameters that we want the history of. If None, all
parameter history is given</p></li>
<li><p><strong>timeSteps</strong> (<em>List</em><em> of </em><em>(</em><em>cycle</em><em>, </em><em>node</em><em>) </em><em>tuples</em><em>, </em><em>optional</em>) – The time nodes that you want history for. If None, all available time nodes will be
returned.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.getHistory">
<span class="sig-name descname"><span class="pre">getHistory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="armi.reactor.composites.html#armi.reactor.composites.ArmiObject" title="armi.reactor.composites.ArmiObject"><span class="pre">ArmiObject</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeSteps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.getHistory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.getHistory" title="Link to this definition"></a></dt>
<dd><p>Get parameter history for a single ARMI Object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comps</strong> – An individual ArmiObject</p></li>
<li><p><strong>params</strong> – parameters to gather</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of str/list pairs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.getHistories">
<span class="sig-name descname"><span class="pre">getHistories</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="armi.reactor.composites.html#armi.reactor.composites.ArmiObject" title="armi.reactor.composites.ArmiObject"><span class="pre">ArmiObject</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeSteps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="armi.reactor.composites.html#armi.reactor.composites.ArmiObject" title="armi.reactor.composites.ArmiObject"><span class="pre">ArmiObject</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.getHistories"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.getHistories" title="Link to this definition"></a></dt>
<dd><p>Get the parameter histories for a sequence of ARMI Objects.</p>
<p>This implementation is unaware of the state of the reactor outside of the database itself,
and is therefore not usually what client code should be calling directly during normal ARMI
operation. It only knows about historical data that have actually been written to the
database. Usually one wants to be able to get historical, plus current data, for which the
similar method on the DatabaseInterface may be more useful.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comps</strong> – Something that is iterable multiple times</p></li>
<li><p><strong>params</strong> – parameters to gather.</p></li>
<li><p><strong>timeSteps</strong> – Selection of time nodes to get data for. If omitted, return full history</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary ArmiObject (input): dict of str/list pairs containing ((cycle, node), value).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.Database.getCycleNodeAtTime">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getCycleNodeAtTime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbPath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startTime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endTime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errorIfNotExactlyOne</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#Database.getCycleNodeAtTime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.Database.getCycleNodeAtTime" title="Link to this definition"></a></dt>
<dd><p>Given the path to an ARMI database file and a start and end time (in years), return the full set of all time
nodes that correspond to that time period in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dbPath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – File path to an ARMI database.</p></li>
<li><p><strong>startTime</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – In years, start of the desired interval.</p></li>
<li><p><strong>endTime</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – In years, end of the desired interval.</p></li>
<li><p><strong>errorIfNotExactlyOne</strong> (<em>boolean</em>) – Raise an error if more than one cycle/node combination is returned. Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of strings to the desired time interval, e.g.: [“c01n08”, “c14n18EOL”]</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a> of strings</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.packSpecialData">
<span class="sig-prename descclassname"><span class="pre">armi.bookkeeping.db.database.</span></span><span class="sig-name descname"><span class="pre">packSpecialData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">arrayData:</span> <span class="pre">[&lt;class</span> <span class="pre">'numpy.ndarray'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'armi.bookkeeping.db.jaggedArray.JaggedArray'&gt;],</span> <span class="pre">paramName:</span> <span class="pre">str</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#packSpecialData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.packSpecialData" title="Link to this definition"></a></dt>
<dd><p>Reduce data that wouldn’t otherwise play nicely with HDF5/numpy arrays to a format that will.</p>
<p>This is the main entry point for conforming “strange” data into something that will both fit
into a numpy array/HDF5 dataset, and be recoverable to its original-ish state when reading it
back in. This is accomplished by detecting a handful of known offenders and using various HDF5
attributes to store necessary auxiliary data. It is important to keep in mind that the data that
is passed in has already been converted to a numpy array, so the top dimension is always
representing the collection of composites that are storing the parameters. For instance, if we
are dealing with a Block parameter, the first index in the numpy array of data is the block
index; so if each block has a parameter that is a dictionary, <code class="docutils literal notranslate"><span class="pre">data</span></code> would be a ndarray,
where each element is a dictionary. This routine supports a number of different things:</p>
<ul class="simple">
<li><p>Dict[str, float]: These are stored by finding the set of all keys for all instances, and
storing those keys as a list in an attribute. The data themselves are stored as arrays indexed
by object, then key index. Dictionaries lacking data for a key store a nan in it’s place. This
will work well in instances where most objects have data for most keys.</p></li>
<li><p>Jagged arrays: These are stored by concatenating all of the data into a single, one-
dimensional array, and storing attributes to describe the shapes of each object’s data, and an
offset into the beginning of each object’s data.</p></li>
<li><p>Arrays with <code class="docutils literal notranslate"><span class="pre">None</span></code> in them: These are stored by replacing each instance of <code class="docutils literal notranslate"><span class="pre">None</span></code> with a
magical value that shouldn’t be encountered in realistic scenarios.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arrayData</strong> – An ndarray or JaggedArray object storing the data that we want to stuff into the database.
If the data is jagged, a special JaggedArray instance is passed in, which contains a 1D
array with offsets and shapes.</p></li>
<li><p><strong>paramName</strong> – The parameter name that we are trying to store. This is mostly used for diagnostics.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.bookkeeping.db.database.unpackSpecialData" title="armi.bookkeeping.db.database.unpackSpecialData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unpackSpecialData</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.unpackSpecialData">
<span class="sig-prename descclassname"><span class="pre">armi.bookkeeping.db.database.</span></span><span class="sig-name descname"><span class="pre">unpackSpecialData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paramName</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#unpackSpecialData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.unpackSpecialData" title="Link to this definition"></a></dt>
<dd><p>Extract data from a specially-formatted HDF5 dataset into a numpy array.</p>
<p>This should invert the operations performed by <a class="reference internal" href="#armi.bookkeeping.db.database.packSpecialData" title="armi.bookkeeping.db.database.packSpecialData"><code class="xref py py-func docutils literal notranslate"><span class="pre">packSpecialData()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – Specially-formatted data array straight from the database.</p></li>
<li><p><strong>attrs</strong> – The attributes associated with the dataset that contained the data.</p></li>
<li><p><strong>paramName</strong> – The name of the parameter that is being unpacked. Only used for diagnostics.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An ndarray containing the closest possible representation of the data that was
originally written to the database.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.bookkeeping.db.database.packSpecialData" title="armi.bookkeeping.db.database.packSpecialData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">packSpecialData</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.bookkeeping.db.database.collectBlockNumberDensities">
<span class="sig-prename descclassname"><span class="pre">armi.bookkeeping.db.database.</span></span><span class="sig-name descname"><span class="pre">collectBlockNumberDensities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blocks</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/bookkeeping/db/database.html#collectBlockNumberDensities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.bookkeeping.db.database.collectBlockNumberDensities" title="Link to this definition"></a></dt>
<dd><p>Collect block-by-block homogenized number densities for each nuclide.</p>
<p>Long ago, composition was stored on block params. No longer; they are on the
component numberDensity params. These block-level params, are still useful to see
compositions in some visualization tools. Rather than keep them on the reactor
model, we dynamically compute them here and slap them in the database. These are
ignored upon reading and will not affect the results.</p>
<p>Remove this once a better viz tool can view composition distributions. Also remove
the try/except in <code class="docutils literal notranslate"><span class="pre">_readParams</span></code></p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="armi.bookkeeping.db.compareDB3.html" class="btn btn-neutral float-left" title="armi.bookkeeping.db.compareDB3 module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="armi.bookkeeping.db.databaseInterface.html" class="btn btn-neutral float-right" title="armi.bookkeeping.db.databaseInterface module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2009-2025, TerraPower, LLC.
      <span class="lastupdated">Last updated on 2025-09-17.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>