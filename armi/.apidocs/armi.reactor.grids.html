

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta property="og:title" content="armi.reactor.grids module" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.reactor.grids.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="This contains structured meshes in multiple geometries and spatial locators (i.e. locations). Grids are objects that map indices (i, j, k) to spatial locations (x,y,z) or (t,r,z). They are useful f..." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  <meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>armi.reactor.grids module &mdash; ARMI 0.2.3 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="../_static/assets/jsonview.bundle.js"></script>
        <script src="../_static/assets/jsonview_loader.js"></script>
        <script src="../_static/sphinx-needs/libs/html/datatables.min.js"></script>
        <script src="../_static/sphinx-needs/libs/html/datatables_loader.js"></script>
        <script src="../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.reactor.reactorParameters module" href="armi.reactor.reactorParameters.html" />
    <link rel="prev" title="armi.reactor.geometry module" href="armi.reactor.geometry.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >
          

          
            <a href="../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements/index.html">Requirements</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.tests.html">armi.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.reactor.html">armi.reactor package</a> &raquo;</li>
        
      <li>armi.reactor.grids module</li>
    
    
  <li class="wy-breadcrumbs-aside">
    
      
    
  </li>

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.reactor.grids">
<span id="armi-reactor-grids-module"></span><h1>armi.reactor.grids module<a class="headerlink" href="#module-armi.reactor.grids" title="Permalink to this headline">¶</a></h1>
<p>This contains structured meshes in multiple geometries and spatial locators (i.e. locations).</p>
<p><a class="reference internal" href="#armi.reactor.grids.Grid" title="armi.reactor.grids.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grids</span></code></a> are objects that map indices (i, j, k) to spatial locations
(x,y,z) or (t,r,z).  They are useful for arranging things in reactors, such as:</p>
<ul class="simple">
<li><p>Fuel assemblies in a reactor</p></li>
<li><p>Plates in a heat exchanger</p></li>
<li><p>Pins in a fuel assembly</p></li>
<li><p>Blocks in a fuel assembly (1-D)</p></li>
</ul>
<p>Fast reactors often use a hexagonal grid, while other reactors may be better suited for
Cartesian or RZT grids. This module contains representations of all these.</p>
<p><code class="docutils literal notranslate"><span class="pre">Grid</span></code>s can be defined by any arbitrary combination of absolute grid boundaries and
unit step directions.</p>
<p>Associated with grids are <a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexLocations</span></code></a>. Each of these maps
to a single cell in a grid, or to an arbitrary point in the continuous space represented
by a grid. When a <cite>Grid`</cite> is built, it builds a collection of <code class="docutils literal notranslate"><span class="pre">IndexLocation</span></code>s, one
for each cell.</p>
<p>In the ARMI <a class="reference internal" href="armi.reactor.html#module-armi.reactor" title="armi.reactor"><code class="xref py py-mod docutils literal notranslate"><span class="pre">armi.reactor</span></code></a> module, each object is assigned a locator either from
a grid or in arbitrary, continuous space (using a <a class="reference internal" href="#armi.reactor.grids.CoordinateLocation" title="armi.reactor.grids.CoordinateLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CoordinateLocation</span></code></a>) on the
<code class="docutils literal notranslate"><span class="pre">spatialLocator</span></code> attribute.</p>
<p>Below is a basic example of how to use a 2-D grid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">CartesianGrid</span><span class="o">.</span><span class="n">fromRectangle</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>  <span class="c1"># 1 cm square-pitch Cartesian grid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">location</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">location</span><span class="o">.</span><span class="n">getGlobalCoordinates</span><span class="p">()</span>
<span class="go">array([ 1.,  2.,  0.])</span>
</pre></div>
</div>
<p>Grids can be chained together in a parent-child relationship. This is often used in ARMI
where a 1-D axial grid (e.g. in an assembly) is being positioned in a core or spent-fuel
pool. See example in
<a class="reference internal" href="armi.reactor.tests.test_grids.html#armi.reactor.tests.test_grids.TestSpatialLocator.test_recursion" title="armi.reactor.tests.test_grids.TestSpatialLocator.test_recursion"><code class="xref py py-meth docutils literal notranslate"><span class="pre">armi.reactor.tests.test_grids.TestSpatialLocator.test_recursion()</span></code></a>.</p>
<p>The “radial” (ring, position) indexing used in DIF3D can be converted to and from the
more quasi-Cartesian indexing in a hex mesh easily with the utility methods
<a class="reference internal" href="#armi.reactor.grids.HexGrid.getRingPos" title="armi.reactor.grids.HexGrid.getRingPos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HexGrid.getRingPos()</span></code></a> and <code class="xref py py-func docutils literal notranslate"><span class="pre">indicesToRingPos()</span></code>.</p>
<p>This module is designed to satisfy the spatial arrangement requirements of <a class="reference internal" href="armi.reactor.html#module-armi.reactor" title="armi.reactor"><code class="xref py py-mod docutils literal notranslate"><span class="pre">the</span>
<span class="pre">Reactor</span> <span class="pre">package</span></code></a>.</p>
<p>Throughout the module, the term <strong>global</strong> refers to the top-level coordinate system
while the word <strong>local</strong> refers to within the current coordinate system defined by the
current grid.</p>
<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.grids.GridParameters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">GridParameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unitSteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitStepLimits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geomType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#armi.reactor.grids.GridParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<p>Create new instance of GridParameters(unitSteps, bounds, unitStepLimits, offset, geomType, symmetry)</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.grids.GridParameters.bounds">
<span class="sig-name descname"><span class="pre">bounds</span></span><a class="headerlink" href="#armi.reactor.grids.GridParameters.bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.grids.GridParameters.geomType">
<span class="sig-name descname"><span class="pre">geomType</span></span><a class="headerlink" href="#armi.reactor.grids.GridParameters.geomType" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.grids.GridParameters.offset">
<span class="sig-name descname"><span class="pre">offset</span></span><a class="headerlink" href="#armi.reactor.grids.GridParameters.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.grids.GridParameters.symmetry">
<span class="sig-name descname"><span class="pre">symmetry</span></span><a class="headerlink" href="#armi.reactor.grids.GridParameters.symmetry" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.grids.GridParameters.unitStepLimits">
<span class="sig-name descname"><span class="pre">unitStepLimits</span></span><a class="headerlink" href="#armi.reactor.grids.GridParameters.unitStepLimits" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="armi.reactor.grids.GridParameters.unitSteps">
<span class="sig-name descname"><span class="pre">unitSteps</span></span><a class="headerlink" href="#armi.reactor.grids.GridParameters.unitSteps" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.grids.LocationBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">LocationBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#LocationBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.LocationBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A namedtuple-like object for storing location information.</p>
<p>It’s immutable (you can’t set things after construction) and has names.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This was originally a namedtuple but there was a somewhat unbelievable
bug in Python 2.7.8 where unpickling a reactor full of these ended up
inexplicably replacing one of them with an AssemblyParameterCollection.
The bug did not show up in Python 3.</p>
<p>Converting to this class solved that problem.</p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.LocationBase.i">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">i</span></span><a class="headerlink" href="#armi.reactor.grids.LocationBase.i" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.LocationBase.j">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">j</span></span><a class="headerlink" href="#armi.reactor.grids.LocationBase.j" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.LocationBase.k">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">k</span></span><a class="headerlink" href="#armi.reactor.grids.LocationBase.k" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.LocationBase.grid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grid</span></span><a class="headerlink" href="#armi.reactor.grids.LocationBase.grid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.LocationBase.associate">
<span class="sig-name descname"><span class="pre">associate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#LocationBase.associate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.LocationBase.associate" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-assign locator to another Grid.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">IndexLocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.LocationBase" title="armi.reactor.grids.LocationBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.LocationBase</span></code></a></p>
<p>An immutable location representing one cell in a grid.</p>
<p>The locator is intimately tied to a grid and together, they represent
a grid cell somewhere in the coordinate system of the grid.</p>
<p><code class="docutils literal notranslate"><span class="pre">grid</span></code> is not in the constructor (must be added after construction ) because
the extra argument (grid) gives an inconsistency between __init__ and __new__.
Unfortunately this decision makes whipping up IndexLocations on the fly awkward.
But perhaps that’s ok because they should only be created by their grids.</p>
<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.detachedCopy">
<span class="sig-name descname"><span class="pre">detachedCopy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.detachedCopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.detachedCopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a copy of this locator that is not associated with a grid.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">armi.reactor.reactors.detach</span></code></dt><dd><p>uses this</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.parentLocation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parentLocation</span></span><a class="headerlink" href="#armi.reactor.grids.IndexLocation.parentLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the spatialLocator of the ArmiObject that this locator’s grid is anchored to.</p>
<p>For example, if this is one of many spatialLocators in a 2-D grid representing
a reactor, then the <code class="docutils literal notranslate"><span class="pre">parentLocation</span></code> is the spatialLocator of the reactor, which
will often be a <code class="docutils literal notranslate"><span class="pre">CoordinateLocation</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.indices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">indices</span></span><a class="headerlink" href="#armi.reactor.grids.IndexLocation.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the non-grid indices (i,j,k) of this locator.</p>
<p>This strips off the annoying <code class="docutils literal notranslate"><span class="pre">grid</span></code> tagalong which is there to ensure proper
equality (i.e. (0,0,0) in a storage rack is not equal to (0,0,0) in a core).</p>
<p>It is a numpy array for two reasons:</p>
<ol class="arabic simple">
<li><p>It can be added and subtracted for the recursive computations
through different coordinate systems</p></li>
<li><p>It can be written/read from the database.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.getCompleteIndices">
<span class="sig-name descname"><span class="pre">getCompleteIndices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getCompleteIndices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getCompleteIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the indices of this object up to the top mesh.</p>
<p>The top mesh is either the one where there’s no more parent (true top)
or when an axis gets added twice. Unlike with coordinates,
you can only add each index axis one time. Thus a <em>complete</em>
set of indices is one where an index for each axis has been defined
by a set of 1, 2, or 3 nested grids.</p>
<p>This is useful for getting the reactor-level (i,j,k) indices of an object
in a multi-layered 2-D(assemblies in core)/1-D(blocks in assembly) mesh
like the one mapping blocks up to reactor in Hex reactors.</p>
<p>The benefit of that particular mesh over a 3-D one is that different
assemblies can have different axial meshes, a common situation.</p>
<p>It will just return local indices for pin-meshes inside of blocks.</p>
<p>A tuple is returned so that it is easy to compare pairs of indices.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.getLocalCoordinates">
<span class="sig-name descname"><span class="pre">getLocalCoordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nativeCoords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getLocalCoordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getLocalCoordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates of the center of the mesh cell here in cm.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.getGlobalCoordinates">
<span class="sig-name descname"><span class="pre">getGlobalCoordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nativeCoords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getGlobalCoordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getGlobalCoordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get coordinates in global 3D space of the centroid of this object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.getGlobalCellBase">
<span class="sig-name descname"><span class="pre">getGlobalCellBase</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getGlobalCellBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getGlobalCellBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cell base (i.e. “bottom left”), in global coordinate system.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.getGlobalCellTop">
<span class="sig-name descname"><span class="pre">getGlobalCellTop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getGlobalCellTop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getGlobalCellTop" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cell top (i.e. “top right”), in global coordinate system.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.getRingPos">
<span class="sig-name descname"><span class="pre">getRingPos</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getRingPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getRingPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ring and position of this locator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.getSymmetricEquivalents">
<span class="sig-name descname"><span class="pre">getSymmetricEquivalents</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.getSymmetricEquivalents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.getSymmetricEquivalents" title="Permalink to this definition">¶</a></dt>
<dd><p>Get symmetrically-equivalent locations, based on Grid symmetry.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.reactor.grids.Grid.getSymmetricEquivalents" title="armi.reactor.grids.Grid.getSymmetricEquivalents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Grid.getSymmetricEquivalents</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.IndexLocation.distanceTo">
<span class="sig-name descname"><span class="pre">distanceTo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#IndexLocation.distanceTo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.IndexLocation.distanceTo" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the distance from this locator to another.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.grids.MultiIndexLocation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">MultiIndexLocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.IndexLocation</span></code></a></p>
<p>A collection of index locations that can be used as a spatialLocator.</p>
<p>This allows components with multiplicity&gt;1 to have location information
within a parent grid. The implication is that there are multiple
discrete components, each one residing in one of the actual locators
underlying this collection.</p>
<p>This class contains an implementation that allows a multi-index
location to be used in the ARMI data model similar to a
individual IndexLocation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.MultiIndexLocation.detachedCopy">
<span class="sig-name descname"><span class="pre">detachedCopy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.detachedCopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.detachedCopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a copy of this locator that is not associated with a grid.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">armi.reactor.reactors.detach</span></code></dt><dd><p>uses this</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.MultiIndexLocation.associate">
<span class="sig-name descname"><span class="pre">associate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.associate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.associate" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-assign locator to another Grid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.MultiIndexLocation.getCompleteIndices">
<span class="sig-name descname"><span class="pre">getCompleteIndices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.getCompleteIndices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.getCompleteIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the indices of this object up to the top mesh.</p>
<p>The top mesh is either the one where there’s no more parent (true top)
or when an axis gets added twice. Unlike with coordinates,
you can only add each index axis one time. Thus a <em>complete</em>
set of indices is one where an index for each axis has been defined
by a set of 1, 2, or 3 nested grids.</p>
<p>This is useful for getting the reactor-level (i,j,k) indices of an object
in a multi-layered 2-D(assemblies in core)/1-D(blocks in assembly) mesh
like the one mapping blocks up to reactor in Hex reactors.</p>
<p>The benefit of that particular mesh over a 3-D one is that different
assemblies can have different axial meshes, a common situation.</p>
<p>It will just return local indices for pin-meshes inside of blocks.</p>
<p>A tuple is returned so that it is easy to compare pairs of indices.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.MultiIndexLocation.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation"><span class="pre">armi.reactor.grids.IndexLocation</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.MultiIndexLocation.extend">
<span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation"><span class="pre">armi.reactor.grids.IndexLocation</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.extend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.extend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.MultiIndexLocation.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation"><span class="pre">armi.reactor.grids.IndexLocation</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#MultiIndexLocation.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.pop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.MultiIndexLocation.indices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">indices</span></span><a class="headerlink" href="#armi.reactor.grids.MultiIndexLocation.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return indices for all locations.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Notice that this returns a list of all of the indices, unlike the <code class="docutils literal notranslate"><span class="pre">indices()</span></code>
implementation for <a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexLocation</span></code></a>. This is intended to make the
behavior of getting the indices from the Locator symmetric with passing a list
of indices to the Grid’s <code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code> function, which constructs and
returns a <code class="docutils literal notranslate"><span class="pre">MultiIndexLocation</span></code> containing those indices.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.grids.CoordinateLocation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">CoordinateLocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CoordinateLocation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CoordinateLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.IndexLocation" title="armi.reactor.grids.IndexLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.IndexLocation</span></code></a></p>
<p>A triple representing a point in space.</p>
<p>This is still associated with a grid. The grid defines the continuous coordinate
space and axes that the location is within. This also links to the composite tree.</p>
<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CoordinateLocation.getLocalCoordinates">
<span class="sig-name descname"><span class="pre">getLocalCoordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nativeCoords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CoordinateLocation.getLocalCoordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CoordinateLocation.getLocalCoordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x,y,z coordinates in cm within the grid’s coordinate system.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CoordinateLocation.getCompleteIndices">
<span class="sig-name descname"><span class="pre">getCompleteIndices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CoordinateLocation.getCompleteIndices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CoordinateLocation.getCompleteIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Top of chain. Stop recursion and return basis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CoordinateLocation.getGlobalCellBase">
<span class="sig-name descname"><span class="pre">getGlobalCellBase</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CoordinateLocation.getGlobalCellBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CoordinateLocation.getGlobalCellBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cell base (i.e. “bottom left”), in global coordinate system.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CoordinateLocation.getGlobalCellTop">
<span class="sig-name descname"><span class="pre">getGlobalCellTop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CoordinateLocation.getGlobalCellTop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CoordinateLocation.getGlobalCellTop" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cell top (i.e. “top right”), in global coordinate system.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">Grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unitSteps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitStepLimits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">((0,</span> <span class="pre">1),</span> <span class="pre">(0,</span> <span class="pre">1),</span> <span class="pre">(0,</span> <span class="pre">1))</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geomType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armiObject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A connected set of cells characterized by indices mapping to space and vice versa.</p>
<p>The cells may be characterized by any mixture of regular repeating steps and
user-defined steps in any direction.</p>
<p>For example, a 2-D hex lattice has constant, regular steps whereas a 3-D hex mesh
may have user-defined axial meshes. Similar for Cartesian, RZT, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unitSteps</strong> (<em>tuple of tuples</em><em>, </em><em>optional</em>) – <p>Describes the grid spatially as a function on indices.
Each tuple describes how each <code class="docutils literal notranslate"><span class="pre">(x,y,or</span> <span class="pre">z)</span></code> dimension is influenced by
<code class="docutils literal notranslate"><span class="pre">(i,j,k)</span></code>. In other words, it is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">dxi</span><span class="p">,</span> <span class="n">dxj</span><span class="p">,</span> <span class="n">jxk</span><span class="p">),</span> <span class="p">(</span><span class="n">dyi</span><span class="p">,</span> <span class="n">dyj</span><span class="p">,</span> <span class="n">dyk</span><span class="p">),</span> <span class="p">(</span><span class="n">dzi</span><span class="p">,</span> <span class="n">dzj</span><span class="p">,</span> <span class="n">dzk</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">dmn</span></code> is the distance (in cm) that dimension <code class="docutils literal notranslate"><span class="pre">m</span></code> will change as a
function of index <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
<p>Unit steps are used as a generic method for defining repetitive grids in a
variety of geometries, including hexagonal and Cartesian.  The tuples are not
vectors in the direction of the translation, but rather grouped by direction. If
the bounds argument is described for a direction, the bounds will be used rather
than the unit step information.  The default of (0, 0, 0) makes all dimensions
insensitive to indices since the coordinates are calculated by the dot product
of this and the indices.  With this default, any dimension that is desired to
change with indices should be defined with bounds. RZtheta grids are created
exclusively with bounds.</p>
</p></li>
<li><p><strong>bounds</strong> (<em>3-tuple</em>) – Absolute increasing bounds in cm including endpoints of a non-uniform grid.
Each item represents the boundaries in the associated direction.  Use Nones when
unitSteps should be applied instead. Most useful for thetaRZ grids or other
non-uniform grids.</p></li>
<li><p><strong>unitStepLimits</strong> (<em>3-tuple</em>) – The limit of the steps in all three directions. This constrains step-defined
grids to be finite so we can populate them with SpatialLocator objects.</p></li>
<li><p><strong>offset</strong> (<em>3-tuple</em><em>, </em><em>optional</em>) – Offset in cm for each axis. By default the center of the (0,0,0)-th object is in
the center of the grid.  Offsets can move it so that the (0,0,0)-th object can
be fully within a quadrant (i.e. in a Cartesian grid).</p></li>
<li><p><strong>armiObject</strong> (<em>ArmiObject</em><em>, </em><em>optional</em>) – The ArmiObject that this grid describes. For example if it’s a 1-D assembly
grid, the armiObject is the assembly. Note that <code class="docutils literal notranslate"><span class="pre">self.armiObject.spatialGrid</span></code>
is <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>A 2D a rectangular grid with width (x) 2 and height (y) 3 would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">unitSteps</span><span class="o">=</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
<p>A regular hex grid with pitch 1 is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">unitSteps</span><span class="o">=</span> <span class="p">((</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For this unit hex the magnitude of the vector constructed using the
0th index of each tuple is 1.0.</p>
</div>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Each dimension must either be defined through unitSteps or bounds.
The combination of unitSteps with bounds was settled upon after some struggle to
have one unified definition of a grid (i.e. just bounds). A hexagonal grid is
somewhat challenging to represent with bounds because the axes are not orthogonal,
so a unit-direction vector plus bounds would be required. And then the bounds would
be wasted space because they can be derived simply by unit steps. Memory efficiency
is important in this object so the compact representation of
unitSteps-when-possible, bounds-otherwise was settled upon.</p>
<p>Design considerations include:</p>
<ul class="simple">
<li><p>unitSteps are more intuitive as operations starting from the center of a cell,
particularly with hexagons and rectangles. Otherwise the 0,0 position of a hexagon
in the center of 1/3-symmetric hexagon is at the phantom bottom left of the
hexagon.</p></li>
<li><p>Users generally prefer to input mesh bounds rather than centers (e.g. starting at
0.5 instead of 0.0 in a unit mesh is weird).</p></li>
<li><p>If we store bounds, computing bounds is simple and computing centers takes ~2x the
effort. If we store centers, it’s the opposite.</p></li>
<li><p>Regardless of how we store things, we’ll need a Grid that has the lower-left
assembly fully inside the problem (i.e. for full core Cartesian) as well as
another one that has the lower-left assembly half-way or quarter-way sliced off
(for 1/2, 1/4, and 1/8 symmetries).  The <code class="docutils literal notranslate"><span class="pre">offset</span></code> parameter handles this.</p></li>
<li><p>Looking up mesh boundaries (to define a mesh in another code) is generally more
common than looking up centers (for plotting or measuring distance).</p></li>
<li><p>A grid can be anchored to the object that it is in with a backreference. This
gives it the ability to traverse the composite tree and map local to global
locations without having to duplicate the composite pattern on grids. This remains
optional so grids can be used for non-reactor-package reasons.  It may seem
slightly cleaner to set the armiObject to the parent’s spatialLocator itself
but the major disadvantage of this is that when an object moves, the armiObject
would have to be updated. By anchoring directly to Composite objects, the parent
is always up to date no matter where or how things get moved.</p></li>
<li><p>Unit step calculations use dot products and must not be polluted by the bound
indices. Thus we reduce the size of the unitSteps tuple accordingly.</p></li>
</ul>
<table class="need needs_grid_simple needs_layout_clean rtd-exclude-wy-table no-sphinx-material-strip needs_style_none needs_type_impl docutils align-default" id="IMPL_REACTOR_MESH_0">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="need head row-odd"><td class="need head"><div class="needs_head line-block">
<div class="line"><span><span class="needs_type_name"><span class="needs_data">Implementation</span></span>: </span><strong><span><span class="needs_title"><span class="needs_data">ARMI supports a number of structured mesh options.</span></span></span></strong><span> <span class="needs-id"><a class="reference internal" href="#IMPL_REACTOR_MESH_0" title="IMPL_REACTOR_MESH_0">IMPL_REACTOR_MESH_0</a></span>  <span class="needs collapse" id="target__show__meta"><span class="needs collapsed"><a class="no_link reference external" href="#"><img alt="../_images/arrow-down-circle.svg" class="needs_image" src="../_images/arrow-down-circle.svg" width="17px" /></a></span><span class="needs visible"><a class="no_link reference external" href="#"><img alt="../_images/arrow-right-circle.svg" class="needs_image" src="../_images/arrow-right-circle.svg" width="17px" /></a></span></span> </span></div>
</div>
</td>
</tr>
<tr class="need meta row-even"><td class="need meta"><div class="needs_meta line-block">
<div class="line"><span><span></span></span></div>
<div class="line"><span><div class="line">links outgoing: <span class="links"><span><a class="reference internal" href="../requirements/srsd.html#REQ_REACTOR_MESH" title="IMPL_REACTOR_MESH_0">REQ_REACTOR_MESH</a></span></span></div>
</span></div>
</div>
</td>
</tr>
<tr class="need content row-odd"><td class="need content" colspan="1"></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.reduce">
<span class="sig-name descname"><span class="pre">reduce</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.reduce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the set of arguments used to create this Grid.</p>
<p>This is very much like the argument tuple from <code class="docutils literal notranslate"><span class="pre">__reduce__</span></code>, but we do not
implement <code class="docutils literal notranslate"><span class="pre">__reduce__</span></code> for real, because we are generally happy with
<code class="docutils literal notranslate"><span class="pre">__getstate__</span></code> and <code class="docutils literal notranslate"><span class="pre">__setstate__</span></code> for pickling purposes. However, getting
these arguments to <code class="docutils literal notranslate"><span class="pre">__init__</span></code> is useful for storing Grids to the database, as
they are more stable (less likely to change) than the actual internal state of
the objects.</p>
<p>The return value should be hashable, such that a set of these can be created.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.geomType">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">geomType</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="armi.reactor.geometry.html#armi.reactor.geometry.GeomType" title="armi.reactor.geometry.GeomType"><span class="pre">armi.reactor.geometry.GeomType</span></a></em><a class="headerlink" href="#armi.reactor.grids.Grid.geomType" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.symmetry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">symmetry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="armi.reactor.geometry.html#armi.reactor.geometry.SymmetryType" title="armi.reactor.geometry.SymmetryType"><span class="pre">armi.reactor.geometry.SymmetryType</span></a></em><a class="headerlink" href="#armi.reactor.grids.Grid.symmetry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.offset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">offset</span></span><a class="headerlink" href="#armi.reactor.grids.Grid.offset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of ((i, j, k), IndexLocation) tuples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.backUp">
<span class="sig-name descname"><span class="pre">backUp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.backUp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.backUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather internal info that should be restored within a retainState.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.restoreBackup">
<span class="sig-name descname"><span class="pre">restoreBackup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.restoreBackup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.restoreBackup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getCoordinates">
<span class="sig-name descname"><span class="pre">getCoordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nativeCoords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getCoordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getCoordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates of the center of the mesh cell at the given given indices in cm.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getCellBase">
<span class="sig-name descname"><span class="pre">getCellBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getCellBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getCellBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mesh base (lower left) of this mesh cell in cm</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getCellTop">
<span class="sig-name descname"><span class="pre">getCellTop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getCellTop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getCellTop" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mesh top (upper right) of this mesh cell in cm</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.locatorInDomain">
<span class="sig-name descname"><span class="pre">locatorInDomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#armi.reactor.grids.LocationBase" title="armi.reactor.grids.LocationBase"><span class="pre">armi.reactor.grids.LocationBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetryOverlap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.locatorInDomain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.locatorInDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether the passed locator is in the domain represented by the Grid.</p>
<p>For instance, if we have a 1/3rd core hex grid, this would return False for
locators that are outside of the first third of the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locator</strong> (<a class="reference internal" href="#armi.reactor.grids.LocationBase" title="armi.reactor.grids.LocationBase"><em>LocationBase</em></a>) – The location to test</p></li>
<li><p><strong>symmetryOverlap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether grid locations along the symmetry line should be considered “in the
represented domain”. This can be useful when assemblies are split along the
domain boundary, with fractions of the assembly on either side.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getNeighboringCellIndices">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getNeighboringCellIndices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getNeighboringCellIndices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getNeighboringCellIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices of the immediate neighbors of a mesh point in the plane.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getSymmetricEquivalents">
<span class="sig-name descname"><span class="pre">getSymmetricEquivalents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getSymmetricEquivalents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getSymmetricEquivalents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of grid indices that contain matching contents based on symmetry.</p>
<p>The length of the list will depend on the type of symmetry being used, and
potentially the location of the requested indices. E.g.,
third-core will return the two sets of indices at the matching location in the
other two thirds of the grid, unless it is the central location, in which case
no indices will be returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getAboveAndBelowCellIndices">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getAboveAndBelowCellIndices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getAboveAndBelowCellIndices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getAboveAndBelowCellIndices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.cellIndicesContainingPoint">
<span class="sig-name descname"><span class="pre">cellIndicesContainingPoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.cellIndicesContainingPoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.cellIndicesContainingPoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices of a mesh cell that contains a point.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.overlapsWhichSymmetryLine">
<span class="sig-name descname"><span class="pre">overlapsWhichSymmetryLine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.overlapsWhichSymmetryLine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.overlapsWhichSymmetryLine" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getLabel">
<span class="sig-name descname"><span class="pre">getLabel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getLabel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getLabel" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a string label from a 0-based spatial locator.</p>
<p>Returns a string representing i, j, and k indices of the locator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getIndexBounds">
<span class="sig-name descname"><span class="pre">getIndexBounds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getIndexBounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getIndexBounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Get min index and number of indices in this grid.</p>
<p>Step-defined grids would be infinite but for the step limits defined in the constructor.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This produces output that is intended to be passed to a <code class="docutils literal notranslate"><span class="pre">range</span></code> statement.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getBounds">
<span class="sig-name descname"><span class="pre">getBounds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getBounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getBounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the grid bounds for each dimension, if present.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getLocatorFromRingAndPos">
<span class="sig-name descname"><span class="pre">getLocatorFromRingAndPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getLocatorFromRingAndPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getLocatorFromRingAndPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the location based on ring and position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ring</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Ring number (1-based indexing)</p></li>
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Position number (1-based indexing)</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Axial index (0-based indexing)</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.reactor.grids.Grid.getIndicesFromRingAndPos" title="armi.reactor.grids.Grid.getIndicesFromRingAndPos"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getIndicesFromRingAndPos</span></code></a></dt><dd><p>This implements the transform into i, j indices based on ring and position.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getIndicesFromRingAndPos">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getIndicesFromRingAndPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getIndicesFromRingAndPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getIndicesFromRingAndPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return i, j indices given ring and position.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be implemented as a staticmethod, since no Grids currently in
exsistence actually need any instance data to perform this task, and
staticmethods provide the convenience of calling the method without an instance
of the class in the first place.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getMinimumRings">
<span class="sig-name descname"><span class="pre">getMinimumRings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getMinimumRings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getMinimumRings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum number of rings needed to fit <code class="docutils literal notranslate"><span class="pre">n</span></code> objects.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>While this is useful and safe for answering the question of “how many rings do I
need to hold N things?”, is generally not safe to use it to answer “I have N
things; within how many rings are they distributed?”. This function provides a
lower bound, assuming that objects are densely-packed. If they are not actually
densely packed, this may be unphysical.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getPositionsInRing">
<span class="sig-name descname"><span class="pre">getPositionsInRing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getPositionsInRing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getPositionsInRing" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of positions within a ring.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getRingPos">
<span class="sig-name descname"><span class="pre">getRingPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getRingPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getRingPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ring and position number in this grid.</p>
<p>For non-hex grids this is just i and j.</p>
<p>A tuple is returned so that it is easy to compare pairs of indices.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.getAllIndices">
<span class="sig-name descname"><span class="pre">getAllIndices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.getAllIndices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.getAllIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all possible indices in this grid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.buildLocations">
<span class="sig-name descname"><span class="pre">buildLocations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#Grid.buildLocations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.Grid.buildLocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate all grid cells with a characteristic SpatialLocator.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.Grid.pitch">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pitch</span></span><a class="headerlink" href="#armi.reactor.grids.Grid.pitch" title="Permalink to this definition">¶</a></dt>
<dd><p>The pitch of the grid.</p>
<p>Assumes 2-d unit-step defined (works for cartesian)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.grids.CartesianGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">CartesianGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unitSteps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitStepLimits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">((0,</span> <span class="pre">1),</span> <span class="pre">(0,</span> <span class="pre">1),</span> <span class="pre">(0,</span> <span class="pre">1))</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geomType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armiObject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CartesianGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CartesianGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.Grid" title="armi.reactor.grids.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.Grid</span></code></a></p>
<p>Grid class representing a conformal Cartesian mesh.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>In Cartesian, (i, j, k) indices map to (x, y, z) coordinates.
In an axial plane (i, j) are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">(</span> <span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>The concepts of ring and position are a bit tricker in Cartesian grids than in Hex,
because unlike in the Hex case, there is no guaranteed center location. For example,
when using a CartesianGrid to lay out assemblies in a core, there is only a single
central location if the number of assemblies in the core is odd-by-odd; in an
even-by-even case, there are four center-most assemblies. Therefore, the number of
locations per ring will vary depending on the “through center” nature of
<code class="docutils literal notranslate"><span class="pre">symmetry</span></code>.</p>
<p>Furthermore, notice that in the “through center” (odd-by-odd) case, the central
index location, (0,0) is typically centered at the origin (0.0, 0.0), whereas with
the “not through center” (even-by-even) case, the (0,0) index location is offset,
away from the origin.</p>
<p>These concepts are illustrated in the example drawings below.</p>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/through-center.png"><img alt="../_images/through-center.png" src="../_images/through-center.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Grid example where the axes pass through the “center assembly” (odd-by-odd).
Note that ring 1 only has one location in it.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="../_images/not-through-center.png"><img alt="../_images/not-through-center.png" src="../_images/not-through-center.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Grid example where the axes lie between the “center assemblies” (even-by-even).
Note that ring 1 has four locations, and that the center of the (0, 0)-index
location is offset from the origin.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<table class="need needs_grid_simple needs_layout_clean rtd-exclude-wy-table no-sphinx-material-strip needs_style_none needs_type_impl docutils align-default" id="IMPL_REACTOR_MESH_1">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="need head row-odd"><td class="need head"><div class="needs_head line-block">
<div class="line"><span><span class="needs_type_name"><span class="needs_data">Implementation</span></span>: </span><strong><span><span class="needs_title"><span class="needs_data">ARMI supports a Cartesian mesh.</span></span></span></strong><span> <span class="needs-id"><a class="reference internal" href="#IMPL_REACTOR_MESH_1" title="IMPL_REACTOR_MESH_1">IMPL_REACTOR_MESH_1</a></span>  <span class="needs collapse" id="target__show__meta"><span class="needs collapsed"><a class="no_link reference external" href="#"><img alt="../_images/arrow-down-circle.svg" class="needs_image" src="../_images/arrow-down-circle.svg" width="17px" /></a></span><span class="needs visible"><a class="no_link reference external" href="#"><img alt="../_images/arrow-right-circle.svg" class="needs_image" src="../_images/arrow-right-circle.svg" width="17px" /></a></span></span> </span></div>
</div>
</td>
</tr>
<tr class="need meta row-even"><td class="need meta"><div class="needs_meta line-block">
<div class="line"><span><span></span></span></div>
<div class="line"><span><div class="line">links outgoing: <span class="links"><span><a class="reference internal" href="../requirements/srsd.html#REQ_REACTOR_MESH" title="IMPL_REACTOR_MESH_1">REQ_REACTOR_MESH</a></span></span></div>
</span></div>
</div>
</td>
</tr>
<tr class="need content row-odd"><td class="need content" colspan="1"></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CartesianGrid.fromRectangle">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromRectangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numRings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isOffset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armiObject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CartesianGrid.fromRectangle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CartesianGrid.fromRectangle" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a finite step-based 2-D Cartesian grid based on a width and height in cm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Width of the unit rectangle</p></li>
<li><p><strong>height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Height of the unit rectangle</p></li>
<li><p><strong>numRings</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Number of rings that the grid should span</p></li>
<li><p><strong>symmetry</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The symmetry condition (see <a class="reference internal" href="armi.reactor.geometry.html#module-armi.reactor.geometry" title="armi.reactor.geometry"><code class="xref py py-mod docutils literal notranslate"><span class="pre">armi.reactor.geometry</span></code></a>)</p></li>
<li><p><strong>isOffset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – If True, the origin of the Grid’s coordinate system will be placed at the
bottom-left corner of the center-most cell. Otherwise, the origin will be
placed at the center of the center-most cell.</p></li>
<li><p><strong>armiObject</strong> (<em>ArmiObject</em>) – An object in a Composite model that the Grid should be bound to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CartesianGrid.getRingPos">
<span class="sig-name descname"><span class="pre">getRingPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CartesianGrid.getRingPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CartesianGrid.getRingPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ring and position from indices.</p>
<p>Ring is the Manhattan distance from (0, 0) to the passed indices. Position
counts up around the ring counter-clockwise from the quadrant 1 diagonal, like
this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">7</span>   <span class="mi">6</span>  <span class="mi">5</span>  <span class="mi">4</span>  <span class="mi">3</span>  <span class="mi">2</span>  <span class="mi">1</span>
<span class="mi">8</span>         <span class="o">|</span>       <span class="mi">24</span>
<span class="mi">9</span>         <span class="o">|</span>       <span class="mi">23</span>
<span class="mi">10</span> <span class="o">-------|------</span> <span class="mi">22</span>
<span class="mi">11</span>        <span class="o">|</span>       <span class="mi">21</span>
<span class="mi">12</span>        <span class="o">|</span>       <span class="mi">20</span>
<span class="mi">13</span> <span class="mi">14</span> <span class="mi">15</span> <span class="mi">16</span> <span class="mi">17</span> <span class="mi">18</span> <span class="mi">19</span>
</pre></div>
</div>
<p>Grids that split the central locations have 1 location in in inner-most ring,
whereas grids without split central locations will have 4.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This is needed to support GUI, but should not often be used.
i, j (0-based) indices are much more useful. For example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">locator</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">spatialGrid</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="c1"># 3rd index is 0 for assembly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">childrenByLocator</span><span class="p">[</span><span class="n">locator</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">childrenByLocator</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">spatialGrid</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span> <span class="c1"># one liner</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CartesianGrid.getIndicesFromRingAndPos">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getIndicesFromRingAndPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CartesianGrid.getIndicesFromRingAndPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CartesianGrid.getIndicesFromRingAndPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Not implemented for Cartesian-see getRingPos notes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CartesianGrid.getMinimumRings">
<span class="sig-name descname"><span class="pre">getMinimumRings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CartesianGrid.getMinimumRings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CartesianGrid.getMinimumRings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum number of rings needed to fit <code class="docutils literal notranslate"><span class="pre">n</span></code> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CartesianGrid.getPositionsInRing">
<span class="sig-name descname"><span class="pre">getPositionsInRing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CartesianGrid.getPositionsInRing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CartesianGrid.getPositionsInRing" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of positions within a ring.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>The number of positions within a ring will change
depending on whether the central position in the
grid is at origin, or if origin is the point
where 4 positions meet (i.e., the <code class="docutils literal notranslate"><span class="pre">_isThroughCenter</span></code>
method returns True).</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CartesianGrid.locatorInDomain">
<span class="sig-name descname"><span class="pre">locatorInDomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetryOverlap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CartesianGrid.locatorInDomain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CartesianGrid.locatorInDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether the passed locator is in the domain represented by the Grid.</p>
<p>For instance, if we have a 1/3rd core hex grid, this would return False for
locators that are outside of the first third of the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locator</strong> (<a class="reference internal" href="#armi.reactor.grids.LocationBase" title="armi.reactor.grids.LocationBase"><em>LocationBase</em></a>) – The location to test</p></li>
<li><p><strong>symmetryOverlap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether grid locations along the symmetry line should be considered “in the
represented domain”. This can be useful when assemblies are split along the
domain boundary, with fractions of the assembly on either side.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CartesianGrid.changePitch">
<span class="sig-name descname"><span class="pre">changePitch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CartesianGrid.changePitch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CartesianGrid.changePitch" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the pitch of a Cartesian grid.</p>
<p>This also scales the offset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.CartesianGrid.getSymmetricEquivalents">
<span class="sig-name descname"><span class="pre">getSymmetricEquivalents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#CartesianGrid.getSymmetricEquivalents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.CartesianGrid.getSymmetricEquivalents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of grid indices that contain matching contents based on symmetry.</p>
<p>The length of the list will depend on the type of symmetry being used, and
potentially the location of the requested indices. E.g.,
third-core will return the two sets of indices at the matching location in the
other two thirds of the grid, unless it is the central location, in which case
no indices will be returned.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">HexGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unitSteps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitStepLimits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">((0,</span> <span class="pre">1),</span> <span class="pre">(0,</span> <span class="pre">1),</span> <span class="pre">(0,</span> <span class="pre">1))</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geomType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armiObject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.Grid" title="armi.reactor.grids.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.Grid</span></code></a></p>
<p>Has 6 neighbors in plane.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>In an axial plane (i, j) are as follows (second one is pointedEndUp):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
 <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>       <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
 <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>       <span class="p">(</span> <span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>


    <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span> <span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<table class="need needs_grid_simple needs_layout_clean rtd-exclude-wy-table no-sphinx-material-strip needs_style_none needs_type_impl docutils align-default" id="IMPL_REACTOR_MESH_2">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="need head row-odd"><td class="need head"><div class="needs_head line-block">
<div class="line"><span><span class="needs_type_name"><span class="needs_data">Implementation</span></span>: </span><strong><span><span class="needs_title"><span class="needs_data">ARMI supports a Hexagonal mesh.</span></span></span></strong><span> <span class="needs-id"><a class="reference internal" href="#IMPL_REACTOR_MESH_2" title="IMPL_REACTOR_MESH_2">IMPL_REACTOR_MESH_2</a></span>  <span class="needs collapse" id="target__show__meta"><span class="needs collapsed"><a class="no_link reference external" href="#"><img alt="../_images/arrow-down-circle.svg" class="needs_image" src="../_images/arrow-down-circle.svg" width="17px" /></a></span><span class="needs visible"><a class="no_link reference external" href="#"><img alt="../_images/arrow-right-circle.svg" class="needs_image" src="../_images/arrow-right-circle.svg" width="17px" /></a></span></span> </span></div>
</div>
</td>
</tr>
<tr class="need meta row-even"><td class="need meta"><div class="needs_meta line-block">
<div class="line"><span><span></span></span></div>
<div class="line"><span><div class="line">links outgoing: <span class="links"><span><a class="reference internal" href="../requirements/srsd.html#REQ_REACTOR_MESH" title="IMPL_REACTOR_MESH_2">REQ_REACTOR_MESH</a></span></span></div>
</span></div>
</div>
</td>
</tr>
<tr class="need content row-odd"><td class="need content" colspan="1"></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.fromPitch">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromPitch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pitch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numRings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armiObject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pointedEndUp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.fromPitch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.fromPitch" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a finite step-based 2-D hex grid from a hex pitch in cm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pitch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – Hex pitch (flat-to-flat) in cm</p></li>
<li><p><strong>numRings</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – The number of rings in the grid to pre-populate with locatator objects.
Even if positions are not pre-populated, locators will be generated
there on the fly.</p></li>
<li><p><strong>armiObject</strong> (<em>ArmiObject</em><em>, </em><em>optional</em>) – The object that this grid is anchored to (i.e. the reactor for a grid of
assemblies)</p></li>
<li><p><strong>pointedEndUp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Rotate the hexagons 30 degrees so that the pointed end faces up instead of
the flat.</p></li>
<li><p><strong>symmetry</strong> (<em>string</em><em>, </em><em>optional</em>) – A string representation of the symmetry options for the grid.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A functional hexagonal grid object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#armi.reactor.grids.HexGrid" title="armi.reactor.grids.HexGrid">HexGrid</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.pitch">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pitch</span></span><a class="headerlink" href="#armi.reactor.grids.HexGrid.pitch" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the hex-pitch of a regular hexagonal array.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.reactor.grids.HexGrid.fromPitch" title="armi.reactor.grids.HexGrid.fromPitch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">armi.reactor.grids.HexGrid.fromPitch</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.indicesToRingPos">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">indicesToRingPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.indicesToRingPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.indicesToRingPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert spatialLocator indices to ring/position.</p>
<p>One benefit it has is that it never has negative numbers.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Ring, pos index system goes in counterclockwise hex rings.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.getMinimumRings">
<span class="sig-name descname"><span class="pre">getMinimumRings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getMinimumRings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getMinimumRings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum number of rings needed to fit <code class="docutils literal notranslate"><span class="pre">n</span></code> objects.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p><code class="docutils literal notranslate"><span class="pre">self</span></code> is not used because hex grids always behave the same w.r.t.
rings/positions.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.getPositionsInRing">
<span class="sig-name descname"><span class="pre">getPositionsInRing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getPositionsInRing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getPositionsInRing" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of positions within a ring.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.getNeighboringCellIndices">
<span class="sig-name descname"><span class="pre">getNeighboringCellIndices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getNeighboringCellIndices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getNeighboringCellIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices of the immediate neighbors of a mesh point in the plane.</p>
<p>Note that these neighbors are ordered counter-clockwise beginning from the
30 or 60 degree direction. Exact direction is dependent on pointedEndUp arg.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.getLabel">
<span class="sig-name descname"><span class="pre">getLabel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getLabel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getLabel" title="Permalink to this definition">¶</a></dt>
<dd><p>Hex labels start at 1, and are ring/position based rather than i,j.</p>
<p>This difference is partially because ring/pos is easier to understand in hex
geometry, and partially because it is used in some codes ARMI originally was focused
on.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.getIndicesFromRingAndPos">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getIndicesFromRingAndPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getIndicesFromRingAndPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getIndicesFromRingAndPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return i, j indices given ring and position.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be implemented as a staticmethod, since no Grids currently in
exsistence actually need any instance data to perform this task, and
staticmethods provide the convenience of calling the method without an instance
of the class in the first place.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.getRingPos">
<span class="sig-name descname"><span class="pre">getRingPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getRingPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getRingPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 1-based ring and position from normal indices.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.reactor.grids.HexGrid.getIndicesFromRingAndPos" title="armi.reactor.grids.HexGrid.getIndicesFromRingAndPos"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getIndicesFromRingAndPos</span></code></a></dt><dd><p>does the reverse</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.overlapsWhichSymmetryLine">
<span class="sig-name descname"><span class="pre">overlapsWhichSymmetryLine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.overlapsWhichSymmetryLine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.overlapsWhichSymmetryLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of which lines of symmetry this is on.</p>
<p>If none, returns []
If on a line of symmetry in 1/6 geometry, returns a list containing a 6.
If on a line of symmetry in 1/3 geometry, returns a list containing a 3.
Only the 1/3 core view geometry is actually coded in here right now.</p>
<p>Being “on” a symmetry line means the line goes through the middle of you.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.getSymmetricEquivalents">
<span class="sig-name descname"><span class="pre">getSymmetricEquivalents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.getSymmetricEquivalents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.getSymmetricEquivalents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of grid indices that contain matching contents based on symmetry.</p>
<p>The length of the list will depend on the type of symmetry being used, and
potentially the location of the requested indices. E.g.,
third-core will return the two sets of indices at the matching location in the
other two thirds of the grid, unless it is the central location, in which case
no indices will be returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.triangleCoords">
<span class="sig-name descname"><span class="pre">triangleCoords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.triangleCoords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.triangleCoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 6 coordinate pairs representing the centers of the 6 triangles in a hexagon centered here.</p>
<p>Ignores z-coordinate and only operates in 2D for now.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.changePitch">
<span class="sig-name descname"><span class="pre">changePitch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">newPitchCm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.changePitch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.changePitch" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the hex pitch.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.locatorInDomain">
<span class="sig-name descname"><span class="pre">locatorInDomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetryOverlap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.locatorInDomain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.locatorInDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether the passed locator is in the domain represented by the Grid.</p>
<p>For instance, if we have a 1/3rd core hex grid, this would return False for
locators that are outside of the first third of the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locator</strong> (<a class="reference internal" href="#armi.reactor.grids.LocationBase" title="armi.reactor.grids.LocationBase"><em>LocationBase</em></a>) – The location to test</p></li>
<li><p><strong>symmetryOverlap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether grid locations along the symmetry line should be considered “in the
represented domain”. This can be useful when assemblies are split along the
domain boundary, with fractions of the assembly on either side.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.isInFirstThird">
<span class="sig-name descname"><span class="pre">isInFirstThird</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includeTopEdge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.isInFirstThird"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.isInFirstThird" title="Permalink to this definition">¶</a></dt>
<dd><p>True if locator is in first third of hex grid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.generateSortedHexLocationList">
<span class="sig-name descname"><span class="pre">generateSortedHexLocationList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nLocs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.generateSortedHexLocationList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.generateSortedHexLocationList" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a list IndexLocations, sorted based on their distance from the center.</p>
<p>IndexLocation are taken from a full core.</p>
<p>Ties between locations with the same distance (e.g. A3001 and A3003) are broken
by ring number then position number.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.HexGrid.allPositionsInThird">
<span class="sig-name descname"><span class="pre">allPositionsInThird</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includeEdgeAssems</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#HexGrid.allPositionsInThird"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.HexGrid.allPositionsInThird" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all the positions in a ring (in the first third)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ring</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The ring to check</p></li>
<li><p><strong>includeEdgeAssems</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, include repeated positions in odd ring numbers. Default: False</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Rings start at 1, positions start at 1</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>positions</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="armi.reactor.grids.ThetaRZGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">ThetaRZGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unitSteps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitStepLimits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">((0,</span> <span class="pre">1),</span> <span class="pre">(0,</span> <span class="pre">1),</span> <span class="pre">(0,</span> <span class="pre">1))</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geomType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armiObject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.reactor.grids.Grid" title="armi.reactor.grids.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.grids.Grid</span></code></a></p>
<p>A grid characterized by azimuthal, radial, and zeta indices.</p>
<p>The angular meshes are limited to 0 to 2pi radians. R and Zeta are as in other
meshes.</p>
<p>See Figure 2.2 in Derstine 1984, ANL. <a class="reference internal" href="armi.nuclearDataIO.cccc.compxs.html#dif3d" id="id1"><span>[DIF3D]</span></a>.</p>
<table class="need needs_grid_simple needs_layout_clean rtd-exclude-wy-table no-sphinx-material-strip needs_style_none needs_type_impl docutils align-default" id="IMPL_REACTOR_MESH_3">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="need head row-odd"><td class="need head"><div class="needs_head line-block">
<div class="line"><span><span class="needs_type_name"><span class="needs_data">Implementation</span></span>: </span><strong><span><span class="needs_title"><span class="needs_data">ARMI supports an RZTheta mesh.</span></span></span></strong><span> <span class="needs-id"><a class="reference internal" href="#IMPL_REACTOR_MESH_3" title="IMPL_REACTOR_MESH_3">IMPL_REACTOR_MESH_3</a></span>  <span class="needs collapse" id="target__show__meta"><span class="needs collapsed"><a class="no_link reference external" href="#"><img alt="../_images/arrow-down-circle.svg" class="needs_image" src="../_images/arrow-down-circle.svg" width="17px" /></a></span><span class="needs visible"><a class="no_link reference external" href="#"><img alt="../_images/arrow-right-circle.svg" class="needs_image" src="../_images/arrow-right-circle.svg" width="17px" /></a></span></span> </span></div>
</div>
</td>
</tr>
<tr class="need meta row-even"><td class="need meta"><div class="needs_meta line-block">
<div class="line"><span><span></span></span></div>
<div class="line"><span><div class="line">links outgoing: <span class="links"><span><a class="reference internal" href="../requirements/srsd.html#REQ_REACTOR_MESH" title="IMPL_REACTOR_MESH_3">REQ_REACTOR_MESH</a></span></span></div>
</span></div>
</div>
</td>
</tr>
<tr class="need content row-odd"><td class="need content" colspan="1"></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.ThetaRZGrid.fromGeom">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromGeom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armiObject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid.fromGeom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid.fromGeom" title="Permalink to this definition">¶</a></dt>
<dd><p>Build 2-D R-theta grid based on a Geometry object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>geomInfo</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of ((indices), assemName) tuples for all positions in core with input
in radians</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">armi.reactor.systemLayoutInput.SystemLayoutInput.readGeomXML</span></code></dt><dd><p>produces the geomInfo</p>
</dd>
</dl>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">structure</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">grids</span><span class="o">.</span><span class="n">ThetaRZGrid</span><span class="o">.</span><span class="n">fromGeom</span><span class="p">(</span><span class="n">geomInfo</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.ThetaRZGrid.getRingPos">
<span class="sig-name descname"><span class="pre">getRingPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid.getRingPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid.getRingPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ring and position number in this grid.</p>
<p>For non-hex grids this is just i and j.</p>
<p>A tuple is returned so that it is easy to compare pairs of indices.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.ThetaRZGrid.getIndicesFromRingAndPos">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">getIndicesFromRingAndPos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid.getIndicesFromRingAndPos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid.getIndicesFromRingAndPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return i, j indices given ring and position.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be implemented as a staticmethod, since no Grids currently in
exsistence actually need any instance data to perform this task, and
staticmethods provide the convenience of calling the method without an instance
of the class in the first place.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.ThetaRZGrid.getCoordinates">
<span class="sig-name descname"><span class="pre">getCoordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nativeCoords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid.getCoordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid.getCoordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates of the center of the mesh cell at the given given indices in cm.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.ThetaRZGrid.indicesOfBounds">
<span class="sig-name descname"><span class="pre">indicesOfBounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rad0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rad1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid.indicesOfBounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid.indicesOfBounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return indices corresponding to upper and lower radial and theta bounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rad0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – inner radius of control volume</p></li>
<li><p><strong>rad1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – outer radius of control volume</p></li>
<li><p><strong>theta0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – inner azimuthal location of control volume in radians</p></li>
<li><p><strong>theta1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – inner azimuthal of control volume in radians</p></li>
<li><p><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – acceptable relative error (i.e. if one of the positions in the mesh are within
this error it’ll act the same if it matches a position in the mesh)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tuple</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>i, j, k of given bounds</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.reactor.grids.ThetaRZGrid.locatorInDomain">
<span class="sig-name descname"><span class="pre">locatorInDomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetryOverlap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#ThetaRZGrid.locatorInDomain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.ThetaRZGrid.locatorInDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>ThetaRZGrids do not check for bounds, though they could if that becomes a
problem.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.reactor.grids.axialUnitGrid">
<span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">axialUnitGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numCells</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">armiObject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#axialUnitGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.axialUnitGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a 1-D unit grid in the k-direction based on a number of times. Each mesh is 1cm wide.</p>
<p>numCells + 1 mesh boundaries are added, since one block would require a bottom and a
top.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.reactor.grids.locatorLabelToIndices">
<span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">locatorLabelToIndices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/reactor/grids.html#locatorLabelToIndices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.locatorLabelToIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a locator label to numerical i,j,k indices.</p>
<p>If there are only i,j  indices, make the last item None</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.reactor.grids.addingIsValid">
<span class="sig-prename descclassname"><span class="pre">armi.reactor.grids.</span></span><span class="sig-name descname"><span class="pre">addingIsValid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myGrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parentGrid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/reactor/grids.html#addingIsValid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.reactor.grids.addingIsValid" title="Permalink to this definition">¶</a></dt>
<dd><p>True if adding a indices from one grid to another is considered valid.</p>
<p>In ARMI we allow the addition of a 1-D axial grid with a 2-D grid.
We do not allow any other kind of adding. This enables the 2D/1D
grid layout in Assemblies/Blocks but does not allow 2D indexing
in pins to become inconsistent.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="armi.reactor.reactorParameters.html" class="btn btn-neutral float-right" title="armi.reactor.reactorParameters module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="armi.reactor.geometry.html" class="btn btn-neutral float-left" title="armi.reactor.geometry module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2009-2022, TerraPower, LLC.
      <span class="lastupdated">
        Last updated on 2022-03-12.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>