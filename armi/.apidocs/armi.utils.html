

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta property="og:title" content="armi.utils package" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.utils.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="Generic ARMI utilities Submodules: armi.utils.asciimaps module, armi.utils.codeTiming module, armi.utils.customExceptions module, armi.utils.densityTools module, armi.utils.directoryChangers module..." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  <meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>armi.utils package &mdash; ARMI 0.1.7 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.utils.asciimaps module" href="armi.utils.asciimaps.html" />
    <link rel="prev" title="armi.settings.settingsRules module" href="armi.settings.settingsRules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >
          

          
            <a href="../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/index.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
      <li>armi.utils package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/terrapower/armi/blob/master/doc/.apidocs/armi.utils.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.utils">
<span id="armi-utils-package"></span><h1>armi.utils package<a class="headerlink" href="#module-armi.utils" title="Permalink to this headline">¶</a></h1>
<p>Generic ARMI utilities</p>
<dl class="function">
<dt id="armi.utils.coverageReportHelper">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">coverageReportHelper</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">dataPaths</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#coverageReportHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.coverageReportHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Small utility function to generate coverage reports.</p>
<p>This was created to side-step the difficulties in submitting multi-line python
commands on-the-fly.</p>
<p>This combines data paths and then makes html and xml reports for the
fully-combined result.</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.getFileSHA1Hash">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">getFileSHA1Hash</code><span class="sig-paren">(</span><em class="sig-param">filePath</em>, <em class="sig-param">digits=40</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#getFileSHA1Hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.getFileSHA1Hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a SHA-1 hash of the input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filePath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to file to obtain the SHA-1 hash</p></li>
<li><p><strong>digits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – Number of digits to include in the hash (40 digit maximum for SHA-1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.efmt">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">efmt</code><span class="sig-paren">(</span><em class="sig-param">a</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#efmt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.efmt" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts string exponential number to another string with just 2 digits in the exponent.</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.fixThreeDigitExp">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">fixThreeDigitExp</code><span class="sig-paren">(</span><em class="sig-param">strToFloat</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#fixThreeDigitExp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.fixThreeDigitExp" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert FORTRAN numbers that cannot be converted into floats.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Converts a number line  “9.03231714805651-101” (no e or E) to “9.03231714805651e-101”.
Some external depletion kernels currently need this fix. From contact with developer:
The notation like 1.0-101 is a FORTRAN thing, with history going back to the 60’s.
They will only put E before an exponent 99 and below.  Fortran will also read these guys
just fine, and they are valid floating point numbers.  It would not be a useful effort,
in terms of time, trying to get FORTRAN to behave differently.
The approach has been to write a routine in the reading code which will interpret these.</p>
<p>This helps when the scientific number exponent does not fit.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="armi.utils.findClosest">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">findClosest</code><span class="sig-paren">(</span><em class="sig-param">listToSearch</em>, <em class="sig-param">val</em>, <em class="sig-param">indx=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#findClosest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.findClosest" title="Permalink to this definition">¶</a></dt>
<dd><p>find closest item in a list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>listToSearch</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – The list to search through</p></li>
<li><p><strong>val</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The target value that is being searched for in the list</p></li>
<li><p><strong>indx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – If true, returns minVal and minIndex, otherwise, just the value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>minVal</strong> (<em>float</em>) – The item in the listToSearch that is closest to val</p></li>
<li><p><strong>minI</strong> (<em>int</em>) – The index of the item in listToSearch that is closest to val. Returned if indx=True.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.copyWithoutBlocking">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">copyWithoutBlocking</code><span class="sig-paren">(</span><em class="sig-param">src</em>, <em class="sig-param">dest</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#copyWithoutBlocking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.copyWithoutBlocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy a file in a separate thread to avoid blocking while IO completes.</p>
<p>Useful for copying large files while ARMI moves along.</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.linearInterpolation">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">linearInterpolation</code><span class="sig-paren">(</span><em class="sig-param">x0</em>, <em class="sig-param">y0</em>, <em class="sig-param">x1</em>, <em class="sig-param">y1</em>, <em class="sig-param">targetX=None</em>, <em class="sig-param">targetY=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#linearInterpolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.linearInterpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>does a linear interpolation (or extrapolation) for y=f(x)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x0</strong><strong>,</strong><strong>y0</strong><strong>,</strong><strong>x1</strong><strong>,</strong><strong>y1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Coordinates of two points to interpolate between</p></li>
<li><p><strong>targetX</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – X value to evaluate the line at</p></li>
<li><p><strong>targetY</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – Y value we want to find the x value for (inverse interpolation)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>interpY</strong> (<em>float</em>) – The value of y(targetX), if targetX is not None</p></li>
<li><p><strong>interpX</strong> (<em>float</em>) – The value of x where y(x) = targetY (if targetY is not None)</p></li>
<li><p><em>y = m(x-x0) + b</em></p></li>
<li><p><em>x = (y-b)/m</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.parabolaFromPoints">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">parabolaFromPoints</code><span class="sig-paren">(</span><em class="sig-param">p1</em>, <em class="sig-param">p2</em>, <em class="sig-param">p3</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#parabolaFromPoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.parabolaFromPoints" title="Permalink to this definition">¶</a></dt>
<dd><p>find the parabola that passes through three points</p>
<p>We solve a simultaneous equation with three points.</p>
<dl class="simple">
<dt>A = x1**2 x1 1</dt><dd><p>x2**2 x2 1
x3**2 x3 1</p>
</dd>
<dt>b = y1</dt><dd><p>y2
y3</p>
</dd>
</dl>
<p>find coefficients Ax=b</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – first point (x,y) coordinates</p></li>
<li><p><strong>p2</strong><strong>,</strong><strong>p3</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a><em>, </em><em>second and third points.</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>a,b,c coefficients of y=ax^2+bx+c</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.parabolicInterpolation">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">parabolicInterpolation</code><span class="sig-paren">(</span><em class="sig-param">ap</em>, <em class="sig-param">bp</em>, <em class="sig-param">cp</em>, <em class="sig-param">targetY</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#parabolicInterpolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.parabolicInterpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Given parabola coefficients, this interpolates the time
that would give k=targetK.</p>
<p>keff = at^2+bt+c
We want to solve a*t^2+bt+c-targetK = 0.0 for time.
if there are real roots, we should probably take the smallest one
because the larger one might be at very high burnup.
If there are no real roots, just take the point where the deriv ==0, or
2at+b=0, so t = -b/2a
The slope of the curve is the solution to 2at+b at whatever t has been determined</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bp</strong><strong>,</strong><strong>cp</strong> (<em>ap</em><em>,</em>) – coefficients of a parabola y = ap*x^2 + bp*x + cp</p></li>
<li><p><strong>targetK</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The keff to find the cycle length of</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>realRoots</strong> – (root, slope)
The best guess of the cycle length that will give k=targetK
If no positive root was found, this is the maximum of the curve. In that case,
it will be a negative number. If there are two positive roots, there will be two entries.</p>
<dl class="simple">
<dt>slope<span class="classifier">float</span></dt><dd><p>The slope of the keff vs. time curve at t=newTime</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.getFloat">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">getFloat</code><span class="sig-paren">(</span><em class="sig-param">val</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#getFloat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.getFloat" title="Permalink to this definition">¶</a></dt>
<dd><p>returns float version of val, or None if it’s impossible. Useful for converting
user-input into floats when ‘’ might be possible.</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.relErr">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">relErr</code><span class="sig-paren">(</span><em class="sig-param">v1</em>, <em class="sig-param">v2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#relErr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.relErr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="armi.utils.getTimeStepNum">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">getTimeStepNum</code><span class="sig-paren">(</span><em class="sig-param">cycleNumber</em>, <em class="sig-param">subcycleNumber</em>, <em class="sig-param">cs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#getTimeStepNum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.getTimeStepNum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the timestep associated with cycle and tn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cycleNumber</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>The cycle number</em>) – </p></li>
<li><p><strong>subcycleNumber</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>The intra-cycle time node</em><em> (</em><em>0 for BOC</em><em>, </em><em>etc.</em><em>)</em>) – </p></li>
<li><p><strong>cs</strong> (<em>Settings object</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.getCycleNode">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">getCycleNode</code><span class="sig-paren">(</span><em class="sig-param">timeStepNum</em>, <em class="sig-param">cs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#getCycleNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.getCycleNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (cycle, node) corresponding to a cumulative time step number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeStepNum</strong> – The cumulative number of time steps since the beginning</p></li>
<li><p><strong>cs</strong> – A case Settings object to get the nodes-per-cycle from</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.getNodesPerCycle">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">getNodesPerCycle</code><span class="sig-paren">(</span><em class="sig-param">cs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#getNodesPerCycle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.getNodesPerCycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of nodes per cycles for this case settings.</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.getPreviousTimeStep">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">getPreviousTimeStep</code><span class="sig-paren">(</span><em class="sig-param">cycle</em>, <em class="sig-param">node</em>, <em class="sig-param">burnSteps</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#getPreviousTimeStep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.getPreviousTimeStep" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the time step before the specified time step</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.tryPickleOnAllContents">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">tryPickleOnAllContents</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">ignore=None</em>, <em class="sig-param">path=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#tryPickleOnAllContents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.tryPickleOnAllContents" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to pickle all members of this object and identifies those who cannot be pickled.</p>
<p>Useful for debugging MPI-bcast errors</p>
<p>Not recursive yet. Would be nice to have it loop through nested objects (blocks in assems in reactors)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – Any object to be tested.</p></li>
<li><p><strong>ignore</strong> (<em>iterable</em>) – list of string variable names to ignore.</p></li>
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the path in which to test pickle.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Print all objects whether they fail or not</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.tryPickleOnAllContents2">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">tryPickleOnAllContents2</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#tryPickleOnAllContents2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.tryPickleOnAllContents2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="armi.utils.doTestPickleOnAllContents2">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">doTestPickleOnAllContents2</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">ignore=None</em>, <em class="sig-param">path=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#doTestPickleOnAllContents2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.doTestPickleOnAllContents2" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to find one unpickleable object in a nested object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>pickleChain</strong> – list of names in a chain that are unpickleable. Just one example per object
e.g. [‘r’,’assemblies’,’A101’,’lib] means the lib is unpicklable.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="armi.utils.MyPickler">
<em class="property">class </em><code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">MyPickler</code><a class="reference internal" href="../_modules/armi/utils.html#MyPickler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.MyPickler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_pickle.Pickler</span></code></p>
<p>The big guns. This will find your pickle errors if all else fails.</p>
<p>Use with tryPickleOnAllContents3.</p>
<dl class="method">
<dt id="armi.utils.MyPickler.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#MyPickler.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.MyPickler.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="armi.utils.tryPickleOnAllContents3">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">tryPickleOnAllContents3</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">ignore=None</em>, <em class="sig-param">path=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#tryPickleOnAllContents3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.tryPickleOnAllContents3" title="Permalink to this definition">¶</a></dt>
<dd><p>Definitely find pickle errors</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>In this form, this just finds one pickle error and then crashes. If you want
to make it work like the other testPickle functions and handle errors, you could.
But usually you just have to find one unpickleable SOB.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="armi.utils.classesInHierarchy">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">classesInHierarchy</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">classCounts</em>, <em class="sig-param">visited=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#classesInHierarchy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.classesInHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of instances of each class contained in an objects heirarchy.</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.slantSplit">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">slantSplit</code><span class="sig-paren">(</span><em class="sig-param">val</em>, <em class="sig-param">ratio</em>, <em class="sig-param">nodes</em>, <em class="sig-param">order='low first'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#slantSplit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.slantSplit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of values whose sum is equal to the value specified.
The ratio between the highest and lowest value is equal to the specified ratio,
and the middle values trend linearly between them.</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.newtonsMethod">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">newtonsMethod</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">goal</em>, <em class="sig-param">guess</em>, <em class="sig-param">maxIterations=None</em>, <em class="sig-param">cs=None</em>, <em class="sig-param">positiveGuesses=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#newtonsMethod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.newtonsMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Solves a Newton’s method with the given function, goal value, and first guess.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – The function that guess will be changed to try to make it return the goal value.</p></li>
<li><p><strong>goal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The function will be changed until it’s return equals this value.</p></li>
<li><p><strong>guess</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The first guess value to do Newton’s method on the func.</p></li>
<li><p><strong>maxIterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The maximum number of iterations that the Newton’s method will be allowed to perform.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ans</strong> – The guess that when input to the func returns the goal.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.minimizeScalarFunc">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">minimizeScalarFunc</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">goal</em>, <em class="sig-param">guess</em>, <em class="sig-param">maxIterations=None</em>, <em class="sig-param">cs=None</em>, <em class="sig-param">positiveGuesses=False</em>, <em class="sig-param">method=None</em>, <em class="sig-param">tol=0.001</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#minimizeScalarFunc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.minimizeScalarFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Use scipy minimize with the given function, goal value, and first guess.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – The function that guess will be changed to try to make it return the goal value.</p></li>
<li><p><strong>goal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The function will be changed until it’s return equals this value.</p></li>
<li><p><strong>guess</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The first guess value to do Newton’s method on the func.</p></li>
<li><p><strong>maxIterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The maximum number of iterations that the Newton’s method will be allowed to perform.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ans</strong> – The guess that when input to the func returns the goal.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.runFunctionFromAllModules">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">runFunctionFromAllModules</code><span class="sig-paren">(</span><em class="sig-param">funcName</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#runFunctionFromAllModules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.runFunctionFromAllModules" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs funcName on all modules of ARMI, if it exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>funcName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The function to run if it is found in a module.</p></li>
<li><p><strong>**kwargs</strong> (<em>*args</em><em>,</em>) – </p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This imports all modules in ARMI, and if you have a script that isn’t inside a
<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">__name__=='__main__'</span></code>, you will be in trouble.</p>
<p>This could also be useful for finding input consistency checkers for the GUI.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">armi.settings.addAllDefaultSettings()</span></code></dt><dd><p>gets all the settings from all modules</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="function">
<dt id="armi.utils.mkdir">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">mkdir</code><span class="sig-paren">(</span><em class="sig-param">dirname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#mkdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps trying to make a directory, outputting whatever errors it encounters,
until it is successful.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dirname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to the directory to create.
What you would normally pass to os.mkdir.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.prependToList">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">prependToList</code><span class="sig-paren">(</span><em class="sig-param">originalList</em>, <em class="sig-param">listToPrepend</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#prependToList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.prependToList" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new list to the beginnning of an original list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>originalList</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – The list to prepend to.</p></li>
<li><p><strong>listToPrepend</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – The list to add to the beginning of (prepend) the originalList.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>originalList</strong> – The original list with the listToPrepend at it’s beginning.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.capStrLen">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">capStrLen</code><span class="sig-paren">(</span><em class="sig-param">string</em>, <em class="sig-param">length</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#capStrLen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.capStrLen" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncates a string to a certain length.</p>
<p>Adds ‘…’ if it’s too long.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The string to cap at length l.</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The maximum length of the string s.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.list2str">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">list2str</code><span class="sig-paren">(</span><em class="sig-param">strings</em>, <em class="sig-param">width=None</em>, <em class="sig-param">preStrings=None</em>, <em class="sig-param">fmt=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#list2str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.list2str" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a list of strings into one string, applying the specified format to each.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>strings</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – The items to create centered strings in the line for.
Can be str, float, int, etc.</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The maximum width that the strings are allowed to take up.
Only strings are affected by this parameter, because it does
not make sense to truncate ints or floats.</p></li>
<li><p><strong>preStrings</strong> (<em>list of str</em><em>, </em><em>optional</em>) – Any strings that come before the centered strings.</p></li>
<li><p><strong>fmt</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) – The format to apply to each string, such as
‘ &gt;4d’, ‘^12.4E’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.createFormattedStrWithDelimiter">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">createFormattedStrWithDelimiter</code><span class="sig-paren">(</span><em class="sig-param">dataList</em>, <em class="sig-param">maxNumberOfValuesBeforeDelimiter=9</em>, <em class="sig-param">delimiter='\n'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#createFormattedStrWithDelimiter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.createFormattedStrWithDelimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a formatted string with delimiters from a list of data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataList</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of data that will be formatted into a string</p></li>
<li><p><strong>maxNumberOfValuesBeforeDelimiter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – maximum number of values to have before the delimiter is added</p></li>
<li><p><strong>delimiter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A delimiter on the formatted string (default: “n”)</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>As an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">createFormattedStrWithDelimiter</span><span class="p">([</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">maxNumberOfValuesBeforeDelimiter</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">&quot;hello, world, 1, \n2, 3, \n4, 5\n&quot;</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="function">
<dt id="armi.utils.rotateXY">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">rotateXY</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">degreesCounterclockwise=None</em>, <em class="sig-param">radiansCounterclockwise=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#rotateXY"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.rotateXY" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotates x, y coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y</strong> (<em>x</em><em>,</em>) – coordinates</p></li>
<li><p><strong>degreesCounterclockwise</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Degrees to rotate in the CCW direction</p></li>
<li><p><strong>radiansCounterclockwise</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Radians to rotate in the CCW direction</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>xr, yr</strong> – the rotated coordinates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.convertToSlice">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">convertToSlice</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">increment=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#convertToSlice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.convertToSlice" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a int, float, list of ints or floats, None, or slice
to a slice. Also optionally increments that slice to make it easy to line
up lists that don’t start with 0.</p>
<p>Use this with numpy.array (numpy.ndarray) types to easily get selections of it’s elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>multiple types allowed.</em>) – int: select one index.
list of int: select these index numbers.
None: select all indices.
slice: select this slice</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>slice</strong> – Returns a slice object that can be used in an array
like a[x] to select from its members.
Also, the slice has its index numbers decremented by 1.
It can also return a numpy array, which can be used
to slice other numpy arrays in the same way as a slice.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.9)">slice</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>a = numpy.array([10, 11, 12, 13])</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convertToSlice</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">slice(2, 3, None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">convertToSlice</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
<span class="go">array([12])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convertToSlice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">increment</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">slice(1, 2, None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">convertToSlice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">increment</span><span class="o">=-</span><span class="mi">1</span><span class="p">)]</span>
<span class="go">array([11])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">convertToSlice</span><span class="p">(</span><span class="kc">None</span><span class="p">)]</span>
<span class="go">array([10, 11, 12, 13])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">convertToSlice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">])]</span>
<span class="go">array([11, 13])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">convertToSlice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">increment</span><span class="o">=-</span><span class="mi">1</span><span class="p">)]</span>
<span class="go">array([10, 12])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">convertToSlice</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="n">increment</span><span class="o">=-</span><span class="mi">1</span><span class="p">)]</span>
<span class="go">array([11])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="armi.utils.plotMatrix">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">plotMatrix</code><span class="sig-paren">(</span><em class="sig-param">matrix</em>, <em class="sig-param">fName</em>, <em class="sig-param">minV=None</em>, <em class="sig-param">maxV=None</em>, <em class="sig-param">show=False</em>, <em class="sig-param">title=None</em>, <em class="sig-param">xlabel=None</em>, <em class="sig-param">ylabel=None</em>, <em class="sig-param">xticks=None</em>, <em class="sig-param">yticks=None</em>, <em class="sig-param">cmap=None</em>, <em class="sig-param">figsize=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#plotMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.plotMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a matrix</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.userName">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">userName</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#userName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.userName" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a database-friendly username.</p>
<p>This will return the current user’s username, removing any prefix like <code class="docutils literal notranslate"><span class="pre">pre-</span></code>, if
present.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>ARMI uses the user name in a number of places, namely in the database names, which
cannot contain hyphens.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="armi.utils.expandRepeatedFloats">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">expandRepeatedFloats</code><span class="sig-paren">(</span><em class="sig-param">repeatedList</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#expandRepeatedFloats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.expandRepeatedFloats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an expanded repeat list.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>R char is valid for showing the number of repeats in MCNP. For examples the list:
[150,  200, ‘9R’]
indicates a 150 day cycle followed by 10 200 day cycles.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="armi.utils.getStepsFromValues">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">getStepsFromValues</code><span class="sig-paren">(</span><em class="sig-param">values</em>, <em class="sig-param">prevValue=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#getStepsFromValues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.getStepsFromValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert list of floats to list of steps between each float.</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.average1DWithinTolerance">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">average1DWithinTolerance</code><span class="sig-paren">(</span><em class="sig-param">vals</em>, <em class="sig-param">tolerance=0.2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#average1DWithinTolerance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.average1DWithinTolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the average of a series of arrays with a tolerance.</p>
<p>Tuned for averaging assembly meshes or block heights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>vals</strong> (<em>2D numpy.array</em>) – could be assembly x axial mesh tops or heights</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="armi.utils.findNearestValue">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">findNearestValue</code><span class="sig-paren">(</span><em class="sig-param">searchList</em>, <em class="sig-param">searchValue</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#findNearestValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.findNearestValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Search a given list for the value that is closest to the given search value.</p>
</dd></dl>

<dl class="function">
<dt id="armi.utils.findNearestValueAndIndex">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">findNearestValueAndIndex</code><span class="sig-paren">(</span><em class="sig-param">searchList</em>, <em class="sig-param">searchValue</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#findNearestValueAndIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.findNearestValueAndIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Search a given list for the value that is closest to the given search value. Return a tuple
containing the value and its index in the list.</p>
</dd></dl>

<dl class="class">
<dt id="armi.utils.MergeableDict">
<em class="property">class </em><code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">MergeableDict</code><a class="reference internal" href="../_modules/armi/utils.html#MergeableDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.MergeableDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
<p>Overrides python dictionary and implements a merge method.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Allows multiple dictionaries to be combined in a single line</p>
</div>
<dl class="method">
<dt id="armi.utils.MergeableDict.merge">
<code class="sig-name descname">merge</code><span class="sig-paren">(</span><em class="sig-param">*otherDictionaries</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#MergeableDict.merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.MergeableDict.merge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="armi.utils.safeCopy">
<code class="sig-prename descclassname">armi.utils.</code><code class="sig-name descname">safeCopy</code><span class="sig-paren">(</span><em class="sig-param">src</em>, <em class="sig-param">dst</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/utils.html#safeCopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.utils.safeCopy" title="Permalink to this definition">¶</a></dt>
<dd><p>This copy overwrites <code class="docutils literal notranslate"><span class="pre">shutil.copy</span></code> and checks that copy operation is truly completed before continuing.</p>
</dd></dl>

<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.asciimaps.html">armi.utils.asciimaps module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.codeTiming.html">armi.utils.codeTiming module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.customExceptions.html">armi.utils.customExceptions module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.densityTools.html">armi.utils.densityTools module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.directoryChangers.html">armi.utils.directoryChangers module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.directoryChangersMpi.html">armi.utils.directoryChangersMpi module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.dochelpers.html">armi.utils.dochelpers module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.dynamicImporter.html">armi.utils.dynamicImporter module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.flags.html">armi.utils.flags module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.gridEditor.html">armi.utils.gridEditor module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.hexagon.html">armi.utils.hexagon module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.iterables.html">armi.utils.iterables module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.outputCache.html">armi.utils.outputCache module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="armi.utils.outputCache.html#api-usage">API usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.parsing.html">armi.utils.parsing module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.pathTools.html">armi.utils.pathTools module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.plotting.html">armi.utils.plotting module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.properties.html">armi.utils.properties module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.textProcessors.html">armi.utils.textProcessors module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.triangle.html">armi.utils.triangle module</a></li>
<li class="toctree-l1"><a class="reference internal" href="armi.utils.units.html">armi.utils.units module</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="armi.utils.asciimaps.html" class="btn btn-neutral float-right" title="armi.utils.asciimaps module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="armi.settings.settingsRules.html" class="btn btn-neutral float-left" title="armi.settings.settingsRules module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2009-2021, TerraPower, LLC.
      <span class="lastupdated">
        Last updated on 2021-09-09.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>