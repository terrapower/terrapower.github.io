

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta property="og:title" content="armi.scripts.migration.crossSectionBlueprintsToSettings module" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.scripts.migration.crossSectionBlueprintsToSettings.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="Migrate compound cross section settings from blueprints file to settings file. This setting was originally stored in blueprints just because yaml was more conducive than XML for a compound setting...." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  <meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>armi.scripts.migration.crossSectionBlueprintsToSettings module &mdash; ARMI 0.1.7 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.scripts.migration.m0_1_0_newDbFormat module" href="armi.scripts.migration.m0_1_0_newDbFormat.html" />
    <link rel="prev" title="armi.scripts.migration.base module" href="armi.scripts.migration.base.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >
          

          
            <a href="../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/index.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.scripts.html">armi.scripts package</a> &raquo;</li>
        
          <li><a href="armi.scripts.migration.html">armi.scripts.migration package</a> &raquo;</li>
        
      <li>armi.scripts.migration.crossSectionBlueprintsToSettings module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/terrapower/armi/blob/master/doc/.apidocs/armi.scripts.migration.crossSectionBlueprintsToSettings.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.scripts.migration.crossSectionBlueprintsToSettings">
<span id="armi-scripts-migration-crosssectionblueprintstosettings-module"></span><h1>armi.scripts.migration.crossSectionBlueprintsToSettings module<a class="headerlink" href="#module-armi.scripts.migration.crossSectionBlueprintsToSettings" title="Permalink to this headline">¶</a></h1>
<p>Migrate compound cross section settings from blueprints file to settings file.</p>
<p>This setting was originally stored in blueprints just because yaml was more
conducive than XML for a compound setting. After we migrated the settings
system to YAML, it was much more natural to put this setting in the settings
file. Along the way, we renamed some of the input fields as well.</p>
<p>This deletes the <code class="docutils literal notranslate"><span class="pre">cross</span> <span class="pre">sections</span></code> section from the blueprints file
and adds a valid one into the settings file.</p>
<p>It manually reads the blueprints file rather than parsing it to ensure
round-trippiness even with yaml-native links.</p>
<dl class="class">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints">
<em class="property">class </em><code class="sig-prename descclassname">armi.scripts.migration.crossSectionBlueprintsToSettings.</code><code class="sig-name descname">MoveCrossSectionsFromBlueprints</code><span class="sig-paren">(</span><em class="sig-param">stream=None</em>, <em class="sig-param">path=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/scripts/migration/crossSectionBlueprintsToSettings.html#MoveCrossSectionsFromBlueprints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.scripts.migration.base.html#armi.scripts.migration.base.SettingsMigration" title="armi.scripts.migration.base.SettingsMigration"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.scripts.migration.base.SettingsMigration</span></code></a></p>
<p>Move cross sections settings from blueprints to settings.</p>
<p>This modifies both settings and blueprints.</p>
<dl class="attribute">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints.fromVersion">
<code class="sig-name descname">fromVersion</code><em class="property"> = '0.0.0'</em><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints.fromVersion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints.toVersion">
<code class="sig-name descname">toVersion</code><em class="property"> = '0.1.0'</em><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints.toVersion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints._applyToStream">
<code class="sig-name descname">_applyToStream</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/scripts/migration/crossSectionBlueprintsToSettings.html#MoveCrossSectionsFromBlueprints._applyToStream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints._applyToStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Add actual migration code here in a subclass.</p>
</dd></dl>

<dl class="method">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints._backupOriginal">
<code class="sig-name descname">_backupOriginal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/scripts/migration/crossSectionBlueprintsToSettings.html#MoveCrossSectionsFromBlueprints._backupOriginal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints._backupOriginal" title="Permalink to this definition">¶</a></dt>
<dd><p>Don’t actually back up because it’s done below.</p>
</dd></dl>

<dl class="method">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints._writeNewFile">
<code class="sig-name descname">_writeNewFile</code><span class="sig-paren">(</span><em class="sig-param">newStream</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/scripts/migration/crossSectionBlueprintsToSettings.html#MoveCrossSectionsFromBlueprints._writeNewFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings.MoveCrossSectionsFromBlueprints._writeNewFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Skip writing new file since it’s handled below.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings.migrateCrossSectionsFromBlueprints">
<code class="sig-prename descclassname">armi.scripts.migration.crossSectionBlueprintsToSettings.</code><code class="sig-name descname">migrateCrossSectionsFromBlueprints</code><span class="sig-paren">(</span><em class="sig-param">settingsObj</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/scripts/migration/crossSectionBlueprintsToSettings.html#migrateCrossSectionsFromBlueprints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings.migrateCrossSectionsFromBlueprints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings._convertBlueprints">
<code class="sig-prename descclassname">armi.scripts.migration.crossSectionBlueprintsToSettings.</code><code class="sig-name descname">_convertBlueprints</code><span class="sig-paren">(</span><em class="sig-param">bpPath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/scripts/migration/crossSectionBlueprintsToSettings.html#_convertBlueprints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings._convertBlueprints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings._migrateInputData">
<code class="sig-prename descclassname">armi.scripts.migration.crossSectionBlueprintsToSettings.</code><code class="sig-name descname">_migrateInputData</code><span class="sig-paren">(</span><em class="sig-param">origXsInputLines</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/scripts/migration/crossSectionBlueprintsToSettings.html#_migrateInputData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings._migrateInputData" title="Permalink to this definition">¶</a></dt>
<dd><p>Take spaces in labels out and return dict.</p>
</dd></dl>

<dl class="function">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings._writeNewSettingsFile">
<code class="sig-prename descclassname">armi.scripts.migration.crossSectionBlueprintsToSettings.</code><code class="sig-name descname">_writeNewSettingsFile</code><span class="sig-paren">(</span><em class="sig-param">cs</em>, <em class="sig-param">newXsInput</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/scripts/migration/crossSectionBlueprintsToSettings.html#_writeNewSettingsFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings._writeNewSettingsFile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="armi.scripts.migration.crossSectionBlueprintsToSettings._finalize">
<code class="sig-prename descclassname">armi.scripts.migration.crossSectionBlueprintsToSettings.</code><code class="sig-name descname">_finalize</code><span class="sig-paren">(</span><em class="sig-param">bpPath</em>, <em class="sig-param">csPath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/scripts/migration/crossSectionBlueprintsToSettings.html#_finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.scripts.migration.crossSectionBlueprintsToSettings._finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually overwrite the original files if previous steps completed.</p>
<p>This ensures we don’t get partially migrated and then crash.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="armi.scripts.migration.m0_1_0_newDbFormat.html" class="btn btn-neutral float-right" title="armi.scripts.migration.m0_1_0_newDbFormat module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="armi.scripts.migration.base.html" class="btn btn-neutral float-left" title="armi.scripts.migration.base module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2009-2021, TerraPower, LLC.
      <span class="lastupdated">
        Last updated on 2021-10-25.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>