

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta property="og:title" content="armi.cases.case module" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.cases.case.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="The Case object is responsible for running, and executing a set of user inputs. Many entry points redirect into Case methods, such as clone, compare, and run The Case object provides an abstraction..." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  <meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>armi.cases.case module &mdash; ARMI 0.2.6 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="../_static/assets/jsonview.bundle.js"></script>
        <script src="../_static/assets/jsonview_loader.js"></script>
        <script src="../_static/sphinx-needs/libs/html/datatables.min.js"></script>
        <script src="../_static/sphinx-needs/libs/html/datatables_loader.js"></script>
        <script src="../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.cases.suite module" href="armi.cases.suite.html" />
    <link rel="prev" title="armi.cases.tests.test_suiteBuilder module" href="armi.cases.tests.test_suiteBuilder.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >
          

          
            <a href="../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.2.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements/index.html">Requirements</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.tests.html">armi.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.cases.html">armi.cases package</a> &raquo;</li>
        
      <li>armi.cases.case module</li>
    
    
  <li class="wy-breadcrumbs-aside">
    
      
    
  </li>

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.cases.case">
<span id="armi-cases-case-module"></span><h1>armi.cases.case module<a class="headerlink" href="#module-armi.cases.case" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">Case</span></code> object is responsible for running, and executing a set of user inputs.  Many
entry points redirect into <code class="docutils literal notranslate"><span class="pre">Case</span></code> methods, such as <code class="docutils literal notranslate"><span class="pre">clone</span></code>, <code class="docutils literal notranslate"><span class="pre">compare</span></code>, and <code class="docutils literal notranslate"><span class="pre">run</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">Case</span></code> object provides an abstraction around ARMI inputs to allow for manipulation and
collection of cases.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="armi.cases.suite.html#module-armi.cases.suite" title="armi.cases.suite"><code class="xref py py-obj docutils literal notranslate"><span class="pre">armi.cases.suite</span></code></a></dt><dd><p>A collection of Cases</p>
</dd>
</dl>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="armi.cases.case.Case">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">armi.cases.case.</span></span><span class="sig-name descname"><span class="pre">Case</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caseSuite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>An ARMI Case that can be used for suite set up and post-analysis.</p>
<p>A Case is capable of loading inputs, checking that they are valid, and
initializing a reactor model. Cases can also compare against other
cases and be collected into multiple <a class="reference internal" href="armi.cases.suite.html#armi.cases.suite.CaseSuite" title="armi.cases.suite.CaseSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.cases.suite.CaseSuite</span></code></a></p>
<p>Initialize a Case from user input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cs</strong> (<em>CaseSettings</em>) – CaseSettings for this Case</p></li>
<li><p><strong>caseSuite</strong> (<em>CaseSuite</em><em>, </em><em>optional</em>) – CaseSuite this particular case belongs. Passing this in allows dependency
tracking across the other cases (e.g. if one case uses the output of
another as input, as happens in in-use testing for reactivity coefficient
snapshot testing or more complex analysis sequences).</p></li>
<li><p><strong>bp</strong> (<em>Blueprints</em><em>, </em><em>optional</em>) – <a class="reference internal" href="armi.reactor.blueprints.html#armi.reactor.blueprints.Blueprints" title="armi.reactor.blueprints.Blueprints"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.reactor.blueprints.Blueprints</span></code></a> object containing the assembly
definitions and other information. If not supplied, it will be loaded from the
<code class="docutils literal notranslate"><span class="pre">cs</span></code> as needed.</p></li>
<li><p><strong>geom</strong> (<em>SystemLayoutInput</em><em>, </em><em>optional</em>) – SystemLayoutInput for this case. If not supplied, it will be loaded from the <code class="docutils literal notranslate"><span class="pre">cs</span></code> as
needed.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="armi.cases.case.Case.independentVariables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">independentVariables</span></span><a class="headerlink" href="#armi.cases.case.Case.independentVariables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get dictionary of independent variables and their values.</p>
<p>This unpacks independent variables from the cs object’s independentVariables
setting the first time it is run. This is used in parameter sweeps.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.cases.case.Case.writeInputs" title="armi.cases.case.Case.writeInputs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">writeInputs</span></code></a></dt><dd><p>writes the <code class="docutils literal notranslate"><span class="pre">independentVariabls</span></code> setting</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.cases.case.Case.bp">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bp</span></span><a class="headerlink" href="#armi.cases.case.Case.bp" title="Permalink to this definition">¶</a></dt>
<dd><p>Blueprint object for this case.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This property allows lazy loading.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.cases.case.Case.geom">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">geom</span></span><a class="headerlink" href="#armi.cases.case.Case.geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Geometry object for this Case.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This property allows lazy loading.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.cases.case.Case.dependencies">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dependencies</span></span><a class="headerlink" href="#armi.cases.case.Case.dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of parent Case objects.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This is performed on demand so that if someone changes the underlying Settings, the case
will reflect the correct dependencies. As a result, if this is being done iteratively,
you may want to cache it somehow (in a dict?).</p>
<p>Ideally, this should not be the responsibility of the Case, but rather the suite!</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.addExplicitDependency">
<span class="sig-name descname"><span class="pre">addExplicitDependency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.addExplicitDependency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.addExplicitDependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Register an explicit dependency</p>
<p>When evaluating the <code class="docutils literal notranslate"><span class="pre">dependency</span></code> property, dynamic dependencies are probed
using the current case settings and plugin hooks. Sometimes, it is necessary to
impose dependencies that are not expressed through settings and hooks. This
method stores another case as an explicit dependency, which will be included
with the other, implicitly discovered, dependencies.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.getPotentialParentFromSettingValue">
<span class="sig-name descname"><span class="pre">getPotentialParentFromSettingValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settingValue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filePattern</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.getPotentialParentFromSettingValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.getPotentialParentFromSettingValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a parent case based on a setting value and a pattern.</p>
<p>This is a convenient way for a plugin to express a dependency. It uses the
<code class="docutils literal notranslate"><span class="pre">match.groupdict</span></code> functionality to pull the directory and case name out of a
specific setting value an regular expression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>settingValue</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – A particular setting value that might contain a reference to an input that
is produced by a dependency.</p></li>
<li><p><strong>filePattern</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – A regular expression for extracting the location and name of the dependency.
If the <code class="docutils literal notranslate"><span class="pre">settingValue</span></code> matches the passed pattern, this function will
attempt to extract the <code class="docutils literal notranslate"><span class="pre">dirName</span></code> and <code class="docutils literal notranslate"><span class="pre">title</span></code> groups to find the
dependency.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.cases.case.Case.title">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">title</span></span><a class="headerlink" href="#armi.cases.case.Case.title" title="Permalink to this definition">¶</a></dt>
<dd><p>The case title.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.cases.case.Case.dbName">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dbName</span></span><a class="headerlink" href="#armi.cases.case.Case.dbName" title="Permalink to this definition">¶</a></dt>
<dd><p>The case output database name.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="armi.cases.case.Case.directory">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">directory</span></span><a class="headerlink" href="#armi.cases.case.Case.directory" title="Permalink to this definition">¶</a></dt>
<dd><p>The working directory of the case.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.setUpTaskDependence">
<span class="sig-name descname"><span class="pre">setUpTaskDependence</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.setUpTaskDependence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.setUpTaskDependence" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the task dependence based on the <code class="code docutils literal notranslate"><span class="pre">dependencies</span></code>.</p>
<p>This accounts for whether or not the dependency is enabled.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a leftover from before the release of the ARMI framework. The API of the
proprietary cluster communication library is being used here. This should either
be moved out into the cluster plugin, or the library should be made available.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run an ARMI case.</p>
<p>This initializes an <code class="docutils literal notranslate"><span class="pre">Operator</span></code>, a <code class="docutils literal notranslate"><span class="pre">Reactor</span></code> and invokes
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Operator.operate()</span></code>!</p>
<p>It also activates supervisory things like code coverage checking, profiling,
or tracing, if requested by users during debugging.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Room for improvement: The coverage, profiling, etc. stuff can probably be moved
out of here to a more elegant place (like a context manager?).</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.initializeOperator">
<span class="sig-name descname"><span class="pre">initializeOperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.initializeOperator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.initializeOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns an Operator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.checkInputs">
<span class="sig-name descname"><span class="pre">checkInputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.checkInputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.checkInputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks ARMI inputs for consistency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the inputs are all good, False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.summarizeDesign">
<span class="sig-name descname"><span class="pre">summarizeDesign</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.summarizeDesign"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.summarizeDesign" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the ReportInterface to create a fancy HTML page describing the design inputs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.buildCommand">
<span class="sig-name descname"><span class="pre">buildCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">python</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'python'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.buildCommand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.buildCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an execution command for running or submitting a job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>python</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em>, </em><em>optional</em>) – The path to the python executable to use for executing the case. By default
this will be whatever “python” resolves to in the target environment.
However when running in more exotic environments (e.g. HPC cluster), it is
usually desireable to provide a specific python executable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">additionalFiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modifiedSettings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writeStyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'short'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.clone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Clone existing ARMI inputs to current directory with optional settings modifications.</p>
<p>Since each case depends on multiple inputs, this is a safer way to move cases
around without having to wonder if you copied all the files appropriately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>additionalFiles</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em> (</em><em>optional</em><em>)</em>) – additional file paths to copy to cloned case</p></li>
<li><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em> (</em><em>optional</em><em>)</em>) – title of new case</p></li>
<li><p><strong>modifiedSettings</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><em>dict</em></a><em> (</em><em>optional</em><em>)</em>) – settings to set/modify before creating the cloned case</p></li>
<li><p><strong>writeStyle</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em> (</em><em>optional</em><em>)</em>) – Writing style for which settings get written back to the settings files
(short, medium, or full).</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.11)"><strong>RuntimeError</strong></a> – If the source and destination are the same</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.compare">
<span class="sig-name descname"><span class="pre">compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">that</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusion</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.11)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestepCompare</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.compare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare the output databases from two run cases. Return number of differences.</p>
<p>This is useful both for in-use testing and engineering analysis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="armi.cases.case.Case.writeInputs">
<span class="sig-name descname"><span class="pre">writeInputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourceDir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writeStyle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'short'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/cases/case.html#Case.writeInputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.Case.writeInputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the inputs to disk.</p>
<p>This allows input objects that have been modified in memory (e.g.
for a parameter sweep or migration) to be written out as input
for a forthcoming case.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sourceDir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em> (</em><em>optional</em><em>)</em>) – The path to copy inputs from (if different from the cs.path). Needed
in SuiteBuilder cases to find the baseline inputs from plugins (e.g. shuffleLogic)</p></li>
<li><p><strong>writeStyle</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em> (</em><em>optional</em><em>)</em>) – Writing style for which settings get written back to the settings files
(short, medium, or full).</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This will rename the <code class="docutils literal notranslate"><span class="pre">loadingFile</span></code> and <code class="docutils literal notranslate"><span class="pre">geomFile</span></code> to be <code class="docutils literal notranslate"><span class="pre">title-blueprints</span> <span class="pre">+</span> <span class="pre">'.yaml'</span></code> and
<code class="docutils literal notranslate"><span class="pre">title</span> <span class="pre">+</span> <span class="pre">'-geom.yaml'</span></code> respectively.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.cases.case.Case.independentVariables" title="armi.cases.case.Case.independentVariables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">independentVariables</span></code></a></dt><dd><p>parses/reads the independentVariables setting</p>
</dd>
<dt><a class="reference internal" href="#armi.cases.case.Case.clone" title="armi.cases.case.Case.clone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clone</span></code></a></dt><dd><p>Similar to this but doesn’t let you write out new/modified geometry or blueprints objects</p>
</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="armi.cases.case.copyInterfaceInputs">
<span class="sig-prename descclassname"><span class="pre">armi.cases.case.</span></span><span class="sig-name descname"><span class="pre">copyInterfaceInputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sourceDir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/armi/cases/case.html#copyInterfaceInputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#armi.cases.case.copyInterfaceInputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Ping active interfaces to determine which files are considered “input”. This
enables developers to add new inputs in a plugin-dependent/ modular way.</p>
<dl class="simple">
<dt>This function should now be able to handle the updating of:</dt><dd><ul class="simple">
<li><p>a single file (relative or absolute)</p></li>
<li><p>a list of files (relative or absolute), and</p></li>
<li><p>a file entry that has a wildcard processing into multiple files.
Glob is used to offer support for wildcards.</p></li>
</ul>
</dd>
</dl>
<p>If the file paths are absolute, do nothing. The case will be able to find the file.</p>
<p>In case suites or parameter sweeps, these files often have a sourceDir associated
with them that is different from the cs.inputDirectory. So, if relative or wildcard,
update the file paths to be absolute in the case settings and copy the file to the
destination directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cs</strong> (<em>CaseSettings</em>) – The source case settings to find input files</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – The target directory to copy input files to</p></li>
<li><p><strong>sourceDir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em> (</em><em>optional</em><em>)</em>) – The directory from which to copy files. Defaults to cs.inputDirectory</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>newSettings</strong> – A new settings object that contains settings for the keys and values that are
either an absolute file path, a list of absolute file paths, or the original
file path if absolute paths could not be resolved</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Regarding the handling of relative file paths: In the future this could be
simplified by adding a concept for a suite root directory, below which it is safe
to copy files without needing to update settings that point with a relative path
to files that are below it.</p>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="armi.cases.suite.html" class="btn btn-neutral float-right" title="armi.cases.suite module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="armi.cases.tests.test_suiteBuilder.html" class="btn btn-neutral float-left" title="armi.cases.tests.test_suiteBuilder module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2009-2023, TerraPower, LLC.
      <span class="lastupdated">
        Last updated on 2023-03-08.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>