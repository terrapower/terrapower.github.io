

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta property="og:title" content="armi.physics.fuelCycle.fuelHandlers module" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.physics.fuelCycle.fuelHandlers.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="This module handles fuel management operations such as shuffling, rotation, and fuel processing (in fluid systems). The FuelHandlerInterface instantiates a FuelHandler, which is typically a user-de..." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  <meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>armi.physics.fuelCycle.fuelHandlers module &mdash; ARMI 0.1.7 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.physics.fuelCycle.settings module" href="armi.physics.fuelCycle.settings.html" />
    <link rel="prev" title="armi.physics.fuelCycle package" href="armi.physics.fuelCycle.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >
          

          
            <a href="../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/index.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.physics.html">armi.physics package</a> &raquo;</li>
        
          <li><a href="armi.physics.fuelCycle.html">armi.physics.fuelCycle package</a> &raquo;</li>
        
      <li>armi.physics.fuelCycle.fuelHandlers module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/terrapower/armi/blob/master/doc/.apidocs/armi.physics.fuelCycle.fuelHandlers.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.physics.fuelCycle.fuelHandlers">
<span id="armi-physics-fuelcycle-fuelhandlers-module"></span><h1>armi.physics.fuelCycle.fuelHandlers module<a class="headerlink" href="#module-armi.physics.fuelCycle.fuelHandlers" title="Permalink to this headline">¶</a></h1>
<p>This module handles fuel management operations such as shuffling, rotation, and
fuel processing (in fluid systems).</p>
<p>The <a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface" title="armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuelHandlerInterface</span></code></a> instantiates a <code class="docutils literal notranslate"><span class="pre">FuelHandler</span></code>, which is typically a user-defined
subclass the <a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuelHandler</span></code></a> object in custom shuffle-logic input files.
Users point to the code modules with their custom fuel handlers using the
<code class="docutils literal notranslate"><span class="pre">shuffleLogic</span></code> and <code class="docutils literal notranslate"><span class="pre">fuelHandlerName</span></code> settings, as described in <a class="reference internal" href="../user/inputs/fuel_management.html"><span class="doc">Fuel Management Input</span></a>.
These subclasses override <code class="docutils literal notranslate"><span class="pre">chooseSwaps</span></code> that determine
the particular shuffling of a case.</p>
<p>This module also handles repeat shuffles when doing a restart.</p>
<dl class="class">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.fuelCycle.fuelHandlers.</code><code class="sig-name descname">FuelHandlerInterface</code><span class="sig-paren">(</span><em class="sig-param">r</em>, <em class="sig-param">cs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandlerInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.interfaces.html#armi.interfaces.Interface" title="armi.interfaces.Interface"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.interfaces.Interface</span></code></a></p>
<p>Moves and/or processes fuel in a Standard Operator.</p>
<p>Fuel management traditionally runs at the beginning of a cycle, before
power or temperatures have been updated. This allows pre-run fuel management
steps for highly customized fuel loadings. In typical runs, no fuel management
occurs at the beginning of the first cycle and the as-input state is left as is.</p>
<p>Construct an interface.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">r</span></code> and <code class="docutils literal notranslate"><span class="pre">cs</span></code> arguments are required, but may be <code class="docutils literal notranslate"><span class="pre">None</span></code>, where
appropriate for the specific <code class="docutils literal notranslate"><span class="pre">Interface</span></code> implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<a class="reference internal" href="armi.reactor.reactors.html#armi.reactor.reactors.Reactor" title="armi.reactor.reactors.Reactor"><em>Reactor</em></a>) – A reactor to attach to</p></li>
<li><p><strong>cs</strong> (<a class="reference internal" href="armi.settings.caseSettings.html#armi.settings.caseSettings.Settings" title="armi.settings.caseSettings.Settings"><em>Settings</em></a>) – Settings object to use</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – Interfaces derived from Interface must define their name</p>
</dd>
</dl>
<dl class="attribute">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.name">
<code class="sig-name descname">name</code><em class="property"> = 'fuelHandler'</em><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.specifyInputs">
<em class="property">static </em><code class="sig-name descname">specifyInputs</code><span class="sig-paren">(</span><em class="sig-param">cs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandlerInterface.specifyInputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.specifyInputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a collection of file names that are considered input files.</p>
<p>This is a static method (i.e. is not called on a particular instance of the
class), since it should not require an Interface to actually be constructed.
This would require constructing a reactor object, which is expensive.</p>
<p>The files returned by an implementation should be those that one would want
copied to a target location when cloning a Case or CaseSuite. These can be
absolute paths, relative paths, or glob patterns that will be interpolated
relative to the input directory. Aboslute paths will not be copied anywhere.</p>
<p>The returned dictionary should be keyed off of a descriptive string, or an
actual Setting object. If a Setting is used, then the source CaseSettings object
will be updated to the new file location.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This existed before the advent of ARMI plugins. Perhaps it can be better served
as a plugin hook. Potential future work.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">armi.cases.Case.clone()</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cs</strong> (<em>CaseSettings</em>) – The case settings for a particular Case</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.interactBOC">
<code class="sig-name descname">interactBOC</code><span class="sig-paren">(</span><em class="sig-param">cycle=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandlerInterface.interactBOC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.interactBOC" title="Permalink to this definition">¶</a></dt>
<dd><p>Move and/or process fuel.</p>
<p>Also, if requested, first have the lattice physics system update XS.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.interactEOC">
<code class="sig-name descname">interactEOC</code><span class="sig-paren">(</span><em class="sig-param">cycle=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandlerInterface.interactEOC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.interactEOC" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at the end of each cycle.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.interactEOL">
<code class="sig-name descname">interactEOL</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandlerInterface.interactEOL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.interactEOL" title="Permalink to this definition">¶</a></dt>
<dd><p>Make reports at EOL</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.manageFuel">
<code class="sig-name descname">manageFuel</code><span class="sig-paren">(</span><em class="sig-param">cycle</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandlerInterface.manageFuel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.manageFuel" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the fuel management for this cycle.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.makeShuffleReport">
<code class="sig-name descname">makeShuffleReport</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandlerInterface.makeShuffleReport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.makeShuffleReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a data file listing all the shuffles that occurred in a case.</p>
<p>This can be used to export shuffling to an external code or to
perform explicit repeat shuffling in a restart.
It creates a <a href="#id1"><span class="problematic" id="id2">*</span></a>SHUFFLES.txt file based on the Reactor.moveList structure</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">readMoves()</span></code></dt><dd><p>reads this file and parses it.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.workerOperate">
<code class="sig-name descname">workerOperate</code><span class="sig-paren">(</span><em class="sig-param">cmd</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandlerInterface.workerOperate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandlerInterface.workerOperate" title="Permalink to this definition">¶</a></dt>
<dd><p>Delegate mpi command to the fuel handler object.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="armi.physics.fuelCycle.fuelHandlers.fuelHandlerFactory">
<code class="sig-prename descclassname">armi.physics.fuelCycle.fuelHandlers.</code><code class="sig-name descname">fuelHandlerFactory</code><span class="sig-paren">(</span><em class="sig-param">operator</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#fuelHandlerFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.fuelHandlerFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an instantiated FuelHandler object based on user settings.</p>
<p>The FuelHandler is expected to be a short-lived object that only lives for
the cycle upon which it acts. At the next cycle, this factory will be
called again to instantiate a new FuelHandler.</p>
</dd></dl>

<dl class="class">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.fuelCycle.fuelHandlers.</code><code class="sig-name descname">FuelHandler</code><span class="sig-paren">(</span><em class="sig-param">operator</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A fuel handling machine can move fuel around the core and reactor.</p>
<p>It makes decisions on how to shuffle fuel based on user specifications.
It provides some supervisory data tracking, such as having the ability
to print out information about all moves that happened in a cycle (without
the user needing to explicitly track this information).</p>
<p>To use this, simply create an input Python file and point to it by path
with the <code class="docutils literal notranslate"><span class="pre">fuelHandler</span></code> setting. In that file, subclass this object.</p>
<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler._handleBackwardsCompatibility">
<code class="sig-name descname">_handleBackwardsCompatibility</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler._handleBackwardsCompatibility"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler._handleBackwardsCompatibility" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.cycle">
<em class="property">property </em><code class="sig-name descname">cycle</code><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to the current cycle number.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This retains backwards compatibility with previous fuel handler inputs.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.cs">
<em class="property">property </em><code class="sig-name descname">cs</code><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.cs" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to the Case Settings object.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.r">
<em class="property">property </em><code class="sig-name descname">r</code><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.r" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to the Reactor object.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.outage">
<code class="sig-name descname">outage</code><span class="sig-paren">(</span><em class="sig-param">factor=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.outage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.outage" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates a reactor reload outage. Moves and tracks fuel.</p>
<p>This sets the moveList structure.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.chooseSwaps">
<code class="sig-name descname">chooseSwaps</code><span class="sig-paren">(</span><em class="sig-param">shuffleFactors=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.chooseSwaps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.chooseSwaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves the fuel around or otherwise processes it between cycles.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.getFactorList">
<em class="property">static </em><code class="sig-name descname">getFactorList</code><span class="sig-paren">(</span><em class="sig-param">cycle</em>, <em class="sig-param">cs=None</em>, <em class="sig-param">fallBack=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.getFactorList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.getFactorList" title="Permalink to this definition">¶</a></dt>
<dd><p>Return factors between 0 and 1 that control fuel management.</p>
<p>This is the default shuffle control function. Usually you would override this
with your own in a custom shuffleLogic.py file. For more details about how this
works, refer to <a class="reference internal" href="../user/inputs/fuel_management.html"><span class="doc">Fuel Management Input</span></a>.</p>
<p>This will get bound to the default FuelHandler as a static method below. This is
done to allow a user to mix and match FuelHandler class implementations and
getFactorList implementations at run time.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Ultimately, this approach will likely get replaced using the plugin framework, but
we aren’t there yet.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.simpleAssemblyRotation">
<code class="sig-name descname">simpleAssemblyRotation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.simpleAssemblyRotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.simpleAssemblyRotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate all pin-detail assemblies that were just shuffled by 60 degrees</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Also, optionally rotate stationary (non-shuffled) assemblies if the setting is set.
Obviously, only pin-detail assemblies can be rotated, because homogenized assemblies are isotropic.</p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fh</span><span class="o">.</span><span class="n">simpleAssemblyRotation</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.buReducingAssemblyRotation" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.buReducingAssemblyRotation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">buReducingAssemblyRotation()</span></code></a></dt><dd><p>an alternative rotation algorithm</p>
</dd>
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.outage" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.outage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">outage()</span></code></a></dt><dd><p>calls this method based on a user setting</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.buReducingAssemblyRotation">
<code class="sig-name descname">buReducingAssemblyRotation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.buReducingAssemblyRotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.buReducingAssemblyRotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotates all detail assemblies to put the highest bu pin in the lowest power orientation</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.simpleAssemblyRotation" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.simpleAssemblyRotation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">simpleAssemblyRotation()</span></code></a></dt><dd><p>an alternative rotation algorithm</p>
</dd>
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.outage" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.outage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">outage()</span></code></a></dt><dd><p>calls this method based on a user setting</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.getOptimalAssemblyOrientation">
<em class="property">static </em><code class="sig-name descname">getOptimalAssemblyOrientation</code><span class="sig-paren">(</span><em class="sig-param">a</em>, <em class="sig-param">aPrev</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.getOptimalAssemblyOrientation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.getOptimalAssemblyOrientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get optimal assembly orientation/rotation to minimize peak burnup.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Works by placing the highest-BU pin in the location (of 6 possible locations) with lowest
expected pin power. We evaluated “expected pin power” based on the power distribution in
aPrev, which is the previous assembly located here. If aPrev has no pin detail, then we must use its
corner fast fluxes to make an estimate.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>Assembly object</em>) – The assembly that is being rotated.</p></li>
<li><p><strong>aPrev</strong> (<em>Assembly object</em>) – <p>The assembly that previously occupied this location (before the last shuffle).</p>
<p>If the assembly “a” was not shuffled, then “aPrev” = “a”.</p>
<p>If “aPrev” has pin detail, then we will determine the orientation of “a” based on
the pin powers of “aPrev” when it was located here.</p>
<p>If “aPrev” does NOT have pin detail, then we will determine the orientation of “a” based on
the corner fast fluxes in “aPrev” when it was located here.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>rot</strong> – An integer from 0 to 5 representing the “orientation” of the assembly.
This orientation is relative to the current assembly orientation.
rot = 0 corresponds to no rotation.
rot represents the number of pi/3 counterclockwise rotations for the default orientation.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fh</span><span class="o">.</span><span class="n">getOptimalAssemblyOrientation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">aPrev</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">rotateAssemblies()</span></code></dt><dd><p>calls this to figure out how to rotate</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.prepCore">
<code class="sig-name descname">prepCore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.prepCore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.prepCore" title="Permalink to this definition">¶</a></dt>
<dd><p>Aux. function to run before XS generation (do moderation, etc. here)</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.prepSearch">
<code class="sig-name descname">prepSearch</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.prepSearch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.prepSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional method that can be implemented in preparation of shuffling.</p>
<p>Often used to prepare the scope of a shuffling branch search.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This was used historically to keep a long-lived fuel handler in sync
with the reactor and can now technically be removed from the API, but
many historical fuel management inputs still expect it to be called
by the framework, so here it remains. New developments should
avoid using it. Most code using it has been refactored to just use
a <code class="docutils literal notranslate"><span class="pre">_prepSearch</span></code> private method.</p>
<p>It now should not be used and will trigger a DeprecationWarning
in the constructor. It’s still here because old user-input code
calls the parent’s prepSearch, which is this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.findAssembly">
<code class="sig-name descname">findAssembly</code><span class="sig-paren">(</span><em class="sig-param">targetRing=None</em>, <em class="sig-param">width=(0</em>, <em class="sig-param">0)</em>, <em class="sig-param">param=None</em>, <em class="sig-param">compareTo=None</em>, <em class="sig-param">forceSide=None</em>, <em class="sig-param">exclusions=None</em>, <em class="sig-param">typeSpec=None</em>, <em class="sig-param">mandatoryLocations=None</em>, <em class="sig-param">zoneList=None</em>, <em class="sig-param">excludedLocations=None</em>, <em class="sig-param">minParam=None</em>, <em class="sig-param">minVal=None</em>, <em class="sig-param">maxParam=None</em>, <em class="sig-param">maxVal=None</em>, <em class="sig-param">findMany=False</em>, <em class="sig-param">coords=None</em>, <em class="sig-param">exactType=False</em>, <em class="sig-param">acceptFirstCandidateRing=False</em>, <em class="sig-param">blockLevelMax=False</em>, <em class="sig-param">findFromSfp=False</em>, <em class="sig-param">maxNumAssems=None</em>, <em class="sig-param">circularRingFlag=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.findAssembly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.findAssembly" title="Permalink to this definition">¶</a></dt>
<dd><p>Search reactor for assemblies with various criterion. Primarily for shuffling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>targetRing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The ring in which to search</p></li>
<li><p><strong>width</strong> (<em>tuple of integers</em>) – A (size, side) tuple where size is the number of rings on either side to also check.
side=1: only look in higher, -1: only look lower, 0: both sides</p></li>
<li><p><strong>param</strong> (<em>string</em><em>, </em><em>optional</em>) – A block (if blockLevelMax) or assem level param name such as ‘power’ or ‘percentBu’
(requires compareTo).</p></li>
<li><p><strong>compareTo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em> or </em><em>Assembly instance</em>) – an assembly to be compared to. Alternatively, a floating point number to compare to.
Even more alternatively,  an (assembly,mult) or (float,mult) tuple where mult is a
multiplier. For example, if you wanted an assembly that had a bu close to half of
assembly bob, you’d give param=’percentBu’, compareTo=(bob,0.5) If you want one with a
bu close to 0.3, you’d do param=’percentBu’,compareTo=0.3. Yes, if you give a (float,
multiplier) tuple, the code will make fun of you for not doing your own math, but will
still operate as expected.</p></li>
<li><p><strong>forceSide</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – <dl class="simple">
<dt>requires the found assembly to have either 1: higher, -1: lower, None: any param than</dt><dd><p>compareTo</p>
</dd>
</dl>
</p></li>
<li><p><strong>exclusions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>, </em><em>optional</em>) – List of assemblies that will be excluded from the search</p></li>
<li><p><strong>minParam</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>, </em><em>optional</em>) – a parameter to compare to minVal for setting lower bounds. If list, must correspond to
parameters in minVal in order.</p></li>
<li><p><strong>maxParam</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>, </em><em>optional</em>) – a parameter to compare to maxVal for setting upper bounds of acceptable assemblies.
If list,
must correspond to parameters in maxVal in order.</p></li>
<li><p><strong>minVal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>, </em><em>optional</em>) – <p>a value or a (parameter, multiplier) tuple for setting lower bounds</p>
<p>For instance, if minParam = ‘timeToLimit’ and minVal=10, only assemblies with
timeToLimit higher than 10 will be returned.  (Of course, there is also maxParam and
maxVal)</p>
</p></li>
<li><p><strong>maxVal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>, </em><em>optional</em>) – a value or a (parameter, multiplier) tuple for setting upper bounds</p></li>
<li><p><strong>mandatoryLocations</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>, </em><em>optional</em>) – a list of string-representations of locations in the core for limiting the search to
several places</p></li>
<li><p><strong>excludedLocations</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>, </em><em>optional</em>) – a list of string-representations of locations in the core that will be excluded from
the search</p></li>
<li><p><strong>zoneList</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>, </em><em>optional</em>) – name of a zone defined in settings.py that will be picked from. Under development</p></li>
<li><p><strong>findMany</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will return a list of assembies that match. Don’t give a param.</p></li>
<li><p><strong>typeSpec</strong> (<a class="reference internal" href="armi.reactor.flags.html#armi.reactor.flags.Flags" title="armi.reactor.flags.Flags"><em>Flags</em></a><em> or </em><em>list of Flags</em><em>, </em><em>optional</em>) – only assemblies with this type list will be returned. If none, only fuel will be found.</p></li>
<li><p><strong>coords</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a><em>, </em><em>optional</em>) – x,y tuple in cm. the fuel handler will try to find an assembly with a center closest to
that point</p></li>
<li><p><strong>exactType</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – require type to be exactly equal to what’s in the type list. So
Flags.IGNITER | Flags.FUEL is not Flags.INNER | Flags.IGNITER | Flags.FUEL</p></li>
<li><p><strong>acceptFirstCandidateRing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – takes the first assembly found in the earliest ring (without searching all rings for a
maxBu, for example) So if the candidate rings are 1-10 and we’re looking for igniter
fuel with a maxBurnup, we don’t get the max burnup in all those rings, but rather the
igniter with the max burnup in the ring closest to 1. If there are no igniters until
ring 4, you will get an igniter in ring 4.</p></li>
<li><p><strong>blockLevelMax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – If true, the param to search for will be built as the maximum block-level param of this
name instead of the assembly param. This avoids the need to assign assembly level params
sometimes.
default: false.</p></li>
<li><p><strong>findFromSfp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – if true, will look in the spent-fuel pool instead of in the core.</p></li>
<li><p><strong>maxNumAssems</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The maximum number of assemblies to return. Only relevant if findMany==True</p></li>
<li><p><strong>circularRingFlag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – A flag to toggle on using rings that are based on distance from the center of the
reactor</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>The call signature on this method may have gotten slightly out of hand as
valuable capabilities were added in fuel management studies. For additional expansion,
it may be worth reconsidering the design of these query operations ;).</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>Assembly instance or assemList of assembly instances that match criteria, or None if none</em></p></li>
<li><p><em>match</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl class="simple">
<dt>feed = self.findAssembly(targetRing=4,</dt><dd><p>width=(0,0),
param=’maxPercentBu’,
compareTo=100,
typeSpec=Flags.FEED | Flags.FUEL)</p>
</dd>
</dl>
<p>returns the feed fuel assembly in ring 4 that has a burnup closest to 100% (the highest
burnup assembly)</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler._getAssembliesInRings">
<code class="sig-name descname">_getAssembliesInRings</code><span class="sig-paren">(</span><em class="sig-param">ringList</em>, <em class="sig-param">typeSpec=&lt;Flags.FUEL: 32768&gt;</em>, <em class="sig-param">exactType=False</em>, <em class="sig-param">exclusions=None</em>, <em class="sig-param">circularRingFlag=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler._getAssembliesInRings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler._getAssembliesInRings" title="Permalink to this definition">¶</a></dt>
<dd><p>find assemblies in particular rings</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ringList</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of integer ring numbers to find assemblies in. Optionally, a string specifiying a
special location like the SFP (spent fuel pool)</p></li>
<li><p><strong>typeSpec</strong> (<a class="reference internal" href="armi.reactor.flags.html#armi.reactor.flags.Flags" title="armi.reactor.flags.Flags"><em>Flags</em></a><em> or </em><em>iterable of Flags</em><em>, </em><em>optional</em>) – Flag types to restrict assemblies to</p></li>
<li><p><strong>exactType</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Match the type in typelist exactly</p></li>
<li><p><strong>exclusions</strong> (<em>list of Assemblies</em><em>, </em><em>optional</em>) – exclude these assemblies from the results</p></li>
<li><p><strong>circularRingFlag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – A flag to toggle on using rings that are based on distance from the center of the reactor</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>assemblyList</strong> – List of assemblies in each ring of the ringList. [[a1,a2,a3],[a4,a5,a6,a7],…]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.buildRingSchedule">
<code class="sig-name descname">buildRingSchedule</code><span class="sig-paren">(</span><em class="sig-param">chargeRing=None</em>, <em class="sig-param">dischargeRing=None</em>, <em class="sig-param">jumpRingFrom=None</em>, <em class="sig-param">jumpRingTo=None</em>, <em class="sig-param">coarseFactor=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.buildRingSchedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.buildRingSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a ring schedule for shuffling.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>General enough to do convergent, divergent, or any combo, plus jumprings.</p>
<p>The center of the core is ring 1, based on the DIF3D numbering scheme.</p>
<p>Jump ring behavior can be generalized by first building a base ring list
where assemblies get charged to H and discharge from A:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">E</span><span class="p">,</span><span class="n">F</span><span class="p">,</span><span class="n">G</span><span class="p">,</span><span class="n">H</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>If a jump should be placed where it jumps from ring G to C, reversed back to F, and then discharges from A,
we simply reverse the sublist [C,D,E,F], leaving us with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">F</span><span class="p">,</span><span class="n">E</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">G</span><span class="p">,</span><span class="n">H</span><span class="p">]</span>
</pre></div>
</div>
<p>A less-complex, more standard convergent-divergent scheme is a subcase of this, where the
sublist [A,B,C,D,E] or so is reversed, leaving:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">E</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">F</span><span class="p">,</span><span class="n">G</span><span class="p">,</span><span class="n">H</span><span class="p">]</span>
</pre></div>
</div>
<p>So the task of this function is simply to determine what subsection, if any, to reverse of
the baselist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chargeRing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The peripheral ring into which an assembly enters the core. Default is outermost ring.</p></li>
<li><p><strong>dischargeRing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The last ring an assembly sits in before discharging. Default is jumpRing-1</p></li>
<li><p><strong>jumpRingFrom</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The last ring an assembly sits in before jumping to the center</p></li>
<li><p><strong>jumpRingTo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The inner ring into which a jumping assembly jumps. Default is 1.</p></li>
<li><p><strong>coarseFactor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – A number between 0 and 1 where 0 hits all rings and 1 only hits the outer, rJ, center, and rD rings.
This allows coarse shuffling, with large jumps. Default: 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>ringSchedule</strong> (<em>list</em>) – A list of rings in order from discharge to charge.</p></li>
<li><p><strong>ringWidths</strong> (<em>list</em>) – A list of integers corresponding to the ringSchedule determining the widths of each ring area</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">buildRingSchedule</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">jumpRingFrom</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="go">([13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 14, 15, 16, 17],</span>
<span class="go">[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.findAssembly" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.findAssembly"><code class="xref py py-meth docutils literal notranslate"><span class="pre">findAssembly()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.buildConvergentRingSchedule">
<code class="sig-name descname">buildConvergentRingSchedule</code><span class="sig-paren">(</span><em class="sig-param">dischargeRing=1</em>, <em class="sig-param">chargeRing=None</em>, <em class="sig-param">coarseFactor=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.buildConvergentRingSchedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.buildConvergentRingSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a ring schedule for convergent shuffling from chargeRing to dischargeRing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dischargeRing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The last ring an assembly sits in before discharging. If no discharge, this is the one that
gets placed where the charge happens. Default: Innermost ring</p></li>
<li><p><strong>chargeRing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The peripheral ring into which an assembly enters the core. Default is outermost ring.</p></li>
<li><p><strong>coarseFactor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – A number between 0 and 1 where 0 hits all rings and 1 only hits the outer, rJ, center, and rD rings.
This allows coarse shuffling, with large jumps. Default: 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>convergent</strong> (<em>list</em>) – A list of rings in order from discharge to charge.</p></li>
<li><p><strong>conWidths</strong> (<em>list</em>) – A list of integers corresponding to the ringSchedule determining the widths of each ring area</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.findAssembly" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.findAssembly"><code class="xref py py-meth docutils literal notranslate"><span class="pre">findAssembly()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.swapAssemblies">
<code class="sig-name descname">swapAssemblies</code><span class="sig-paren">(</span><em class="sig-param">a1</em>, <em class="sig-param">a2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.swapAssemblies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.swapAssemblies" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves a whole assembly from one place to another</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a1</strong> (<a class="reference internal" href="armi.reactor.assemblies.html#armi.reactor.assemblies.Assembly" title="armi.reactor.assemblies.Assembly"><em>Assembly</em></a>) – The first assembly</p></li>
<li><p><strong>a2</strong> (<a class="reference internal" href="armi.reactor.assemblies.html#armi.reactor.assemblies.Assembly" title="armi.reactor.assemblies.Assembly"><em>Assembly</em></a>) – The second assembly</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.dischargeSwap" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.dischargeSwap"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dischargeSwap()</span></code></a></dt><dd><p>swap assemblies where one is outside the core and the other is inside</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler._transferStationaryBlocks">
<code class="sig-name descname">_transferStationaryBlocks</code><span class="sig-paren">(</span><em class="sig-param">assembly1</em>, <em class="sig-param">assembly2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler._transferStationaryBlocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler._transferStationaryBlocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Exchange the stationary blocks (e.g. grid plate) between the moving assemblies</p>
<p>These blocks in effect are not moved at all.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.dischargeSwap">
<code class="sig-name descname">dischargeSwap</code><span class="sig-paren">(</span><em class="sig-param">incoming</em>, <em class="sig-param">outgoing</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.dischargeSwap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.dischargeSwap" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes one assembly from the core and replace it with another assembly.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.swapAssemblies" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.swapAssemblies"><code class="xref py py-meth docutils literal notranslate"><span class="pre">swapAssemblies()</span></code></a></dt><dd><p>swaps assemblies that are already in the core</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler._swapFluxParam">
<code class="sig-name descname">_swapFluxParam</code><span class="sig-paren">(</span><em class="sig-param">incoming</em>, <em class="sig-param">outgoing</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler._swapFluxParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler._swapFluxParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the flux and power params of the new blocks to that of the old and vice versa.</p>
<p>This is essential for getting loosely-coupled flux-averaged cross sections from things like
<code class="xref py py-class docutils literal notranslate"><span class="pre">armi.physics.neutronics.crossSectionGroupManager.BlockCollectionAverageFluxWeighted</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>outgoing</strong> (<em>incoming</em><em>,</em>) – Assembly objects to be swapped</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Assumes assemblies have the same block structure. If not, blocks will be swapped one-for-one until
the shortest one has been used up and then the process will truncate.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.swapCascade">
<code class="sig-name descname">swapCascade</code><span class="sig-paren">(</span><em class="sig-param">assemList</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.swapCascade"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.swapCascade" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform swaps on a list of assemblies.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>[goingOut,inter1,inter2,goingIn]  will go to
[inter1, inter2, goingIn, goingOut] in terms of positions
or, in ASCII art:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&gt;---------------</span><span class="n">v</span>
 <span class="o">|</span>               <span class="o">|</span>
<span class="p">[</span><span class="n">A</span>  <span class="o">&lt;-</span> <span class="n">B</span> <span class="o">&lt;-</span> <span class="n">C</span> <span class="o">&lt;-</span> <span class="n">D</span><span class="p">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.repeatShufflePattern">
<code class="sig-name descname">repeatShufflePattern</code><span class="sig-paren">(</span><em class="sig-param">explicitRepeatShuffles</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.repeatShufflePattern"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.repeatShufflePattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Repeats the fuel management from a previous ARMI run</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>explicitRepeatShuffles</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The file name that contains the shuffling history from a previous run</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>moved</strong> – list of assemblies that moved this cycle</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>typically the explicitRepeatShuffles will be “caseName”+”-SHUFFLES.txt”</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.doRepeatShuffle" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.doRepeatShuffle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">doRepeatShuffle()</span></code></a></dt><dd><p>Performs moves as processed by this method</p>
</dd>
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.processMoveList" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.processMoveList"><code class="xref py py-meth docutils literal notranslate"><span class="pre">processMoveList()</span></code></a></dt><dd><p>Converts a stored list of moves into a functional list of assemblies to swap</p>
</dd>
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">makeShuffleReport()</span></code></dt><dd><p>Creates the file that is processed here</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.readMoves">
<em class="property">static </em><code class="sig-name descname">readMoves</code><span class="sig-paren">(</span><em class="sig-param">fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.readMoves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.readMoves" title="Permalink to this definition">¶</a></dt>
<dd><p>reads a shuffle output file and sets up the moves dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The shuffles file to read</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>moves</strong> – A dictionary of all the moves. Keys are the cycle number. Values are a list
of tuples, one tuple for each individual move that happened in the cycle.
The items in the tuple are (oldLoc, newLoc, enrichList, assemType).
Where oldLoc and newLoc are str representations of the locations and
enrichList is a list of mass enrichments from bottom to top.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.repeatShufflePattern" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.repeatShufflePattern"><code class="xref py py-meth docutils literal notranslate"><span class="pre">repeatShufflePattern()</span></code></a></dt><dd><p>reads this file and repeats the shuffling</p>
</dd>
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.outage" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.outage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">outage()</span></code></a></dt><dd><p>creates the moveList in the first place.</p>
</dd>
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">makeShuffleReport()</span></code></dt><dd><p>writes the file that is read here.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.trackChain">
<code class="sig-name descname">trackChain</code><span class="sig-paren">(</span><em class="sig-param">moveList</em>, <em class="sig-param">startingAt</em>, <em class="sig-param">alreadyDone=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.trackChain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.trackChain" title="Permalink to this definition">¶</a></dt>
<dd><p>builds a chain of locations based on starting location</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Takes a moveList and extracts chains. Remembers all it touches.
If A moved to B, C moved to D, and B moved to C, this returns
A, B, C ,D.</p>
<p>Used in some monte carlo physics writers and in repeatShufflePattern</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>moveList</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – a list of (fromLoc,toLoc,enrichList,assemType,assemName) tuples that occurred at a single outage.</p></li>
<li><p><strong>startingAt</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A location label where the chain would start. This is important because the discharge
moves are built when the SFP is found in a move. This method must find all
assemblies in the chain leading up to this particular discharge.</p></li>
<li><p><strong>alreadyDone</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – A list of locations that have already been tracked.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>chain</strong> (<em>list</em>) – The chain as a location list in order</p></li>
<li><p><strong>enrich</strong> (<em>list</em>) – The axial enrichment distribution of the load assembly.</p></li>
<li><p><strong>loadName</strong> (<em>str</em>) – The assembly name of the load assembly</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.repeatShufflePattern" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.repeatShufflePattern"><code class="xref py py-meth docutils literal notranslate"><span class="pre">repeatShufflePattern()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">mcnpInterface.getMoveCards()</span></code>, <a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.processMoveList" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.processMoveList"><code class="xref py py-meth docutils literal notranslate"><span class="pre">processMoveList()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.processMoveList">
<code class="sig-name descname">processMoveList</code><span class="sig-paren">(</span><em class="sig-param">moveList</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.processMoveList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.processMoveList" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a move list and extracts fuel management loops and charges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>moveList</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – <p>A list of information about fuel management from a previous case. Each entry represents a
move and includes the following items as a tuple:</p>
<dl class="simple">
<dt>fromLoc</dt><dd><p>the label of where the assembly was before the move</p>
</dd>
<dt>toLoc</dt><dd><p>the label of where the assembly was after the move</p>
</dd>
<dt>enrichList</dt><dd><p>a list of block enrichments for the assembly</p>
</dd>
<dt>assemType</dt><dd><p>the type of assembly that this is</p>
</dd>
<dt>movingAssemName</dt><dd><p>the name of the assembly that is moving from to</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>loadChains</strong> (<em>list</em>) – list of lists of location labels for each load chain (with charge/discharge). These DO NOT include
special location labels like LoadQueue or SFP</p></li>
<li><p><strong>loopChains</strong> (<em>list</em>) – list of lists of location labels for each loop chain (no charge/discharge)</p></li>
<li><p><strong>enriches</strong> (<em>list</em>) – The block enrichment distribution of each load assembly</p></li>
<li><p><strong>loadChargeTypes</strong> (<em>list</em>) – The types of assemblies that get charged.</p></li>
<li><p><strong>loadNames</strong> (<em>list</em>) – The assembly names of assemblies that get brought into the core from the SFP (useful for pulling out
of SFP for round 2, etc.). Will be None for anything else.</p></li>
<li><p><strong>alreadyDone</strong> (<em>list</em>) – All the locations that were read.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Used in the some Monte Carlo interfaces to convert ARMI moves to their format moves. Also used in
repeat shuffling.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">makeShuffleReport()</span></code></dt><dd><p>writes the file that is being processed</p>
</dd>
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.repeatShufflePattern" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.repeatShufflePattern"><code class="xref py py-meth docutils literal notranslate"><span class="pre">repeatShufflePattern()</span></code></a></dt><dd><p>uses this to repeat shuffles</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.doRepeatShuffle">
<code class="sig-name descname">doRepeatShuffle</code><span class="sig-paren">(</span><em class="sig-param">loadChains</em>, <em class="sig-param">loopChains</em>, <em class="sig-param">enriches</em>, <em class="sig-param">loadChargeTypes</em>, <em class="sig-param">loadNames</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.doRepeatShuffle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.doRepeatShuffle" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually does the fuel movements required to repeat a shuffle order</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loadChains</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – list of lists of location labels for each load chain (with charge/discharge)</p></li>
<li><p><strong>loopChains</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – list of lists of location labels for each loop chain (no charge/discharge)</p></li>
<li><p><strong>enriches</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – The block enrichment distribution of each load assembly</p></li>
<li><p><strong>loadChargeTypes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – The types of assemblies that get charged.</p></li>
<li><p><strong>loadNames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – The assembly names of assemblies that get brought into the core (useful for pulling out
of SFP for round 2, etc.)</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.repeatShufflePattern" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.repeatShufflePattern"><code class="xref py py-meth docutils literal notranslate"><span class="pre">repeatShufflePattern()</span></code></a></dt><dd><p>coordinates the moves for this cycle</p>
</dd>
<dt><a class="reference internal" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.processMoveList" title="armi.physics.fuelCycle.fuelHandlers.FuelHandler.processMoveList"><code class="xref py py-meth docutils literal notranslate"><span class="pre">processMoveList()</span></code></a></dt><dd><p>builds the input lists</p>
</dd>
</dl>
</div>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This is a helper function for repeatShufflePattern</p>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.buildEqRingSchedule">
<code class="sig-name descname">buildEqRingSchedule</code><span class="sig-paren">(</span><em class="sig-param">ringSchedule</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.buildEqRingSchedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.buildEqRingSchedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands simple ringSchedule input into full-on location schedule</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>r</strong><strong>, </strong><strong>cs</strong> (<em>ringSchedule</em><em>,</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>locationSchedule</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.buildEqRingScheduleHelper">
<code class="sig-name descname">buildEqRingScheduleHelper</code><span class="sig-paren">(</span><em class="sig-param">ringSchedule</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.buildEqRingScheduleHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.buildEqRingScheduleHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>turns ringScheduler into explicit list of rings</p>
<p>Pulled out of buildEqRingSchedule for testing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ringSchedule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of ring bounds that is required to be an even number of entries.  These
entries then are used in a from - to approach to add the rings.  The from ring will
always be included.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ringList</strong> – List of all rings in the order they should be shuffled.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">buildEqRingScheduleHelper</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="go">[1,2,3,4,5]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">buildEqRingScheduleHelper</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="go">[1,2,3,4,5,9,8,7,6]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">buildEqRingScheduleHelper</span><span class="p">([</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">[9,8,7,6,5,3,4,1,2]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">buildEqRingScheduleHelper</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[2,3,4,5,1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.workerOperate">
<code class="sig-name descname">workerOperate</code><span class="sig-paren">(</span><em class="sig-param">cmd</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.workerOperate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.workerOperate" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle a mpi command on the worker nodes.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.prepShuffleMap">
<code class="sig-name descname">prepShuffleMap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.prepShuffleMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.prepShuffleMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare a table of current locations for plotting shuffle maneuvers.</p>
</dd></dl>

<dl class="method">
<dt id="armi.physics.fuelCycle.fuelHandlers.FuelHandler.makeShuffleArrows">
<code class="sig-name descname">makeShuffleArrows</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/fuelCycle/fuelHandlers.html#FuelHandler.makeShuffleArrows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.fuelCycle.fuelHandlers.FuelHandler.makeShuffleArrows" title="Permalink to this definition">¶</a></dt>
<dd><p>Build data for plotting all the previous shuffles as arrows.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>arrows</strong> – Values are (currentCoords, oldCoords) tuples</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="armi.physics.fuelCycle.settings.html" class="btn btn-neutral float-right" title="armi.physics.fuelCycle.settings module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="armi.physics.fuelCycle.html" class="btn btn-neutral float-left" title="armi.physics.fuelCycle package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2009-2021, TerraPower, LLC.
      <span class="lastupdated">
        Last updated on 2021-10-04.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>