

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta property="og:title" content="armi.physics.neutronics.globalFlux.globalFluxInterface module" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/.apidocs/armi.physics.neutronics.globalFlux.globalFluxInterface.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="The Global flux interface provide a base class for all neutronics tools that compute the neutron and/or photon flux." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>armi.physics.neutronics.globalFlux.globalFluxInterface module &mdash; ARMI 0.1.4 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/armiicon_16x16.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="armi.physics.neutronics.isotopicDepletion package" href="armi.physics.neutronics.isotopicDepletion.html" />
    <link rel="prev" title="armi.physics.neutronics.globalFlux package" href="armi.physics.neutronics.globalFlux.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ARMI
          

          
            
            <img src="../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/index.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="armi.html">armi package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="armi.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="armi.bookkeeping.html">armi.bookkeeping package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cases.html">armi.cases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.cli.html">armi.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.localization.html">armi.localization package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.materials.html">armi.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nucDirectory.html">armi.nucDirectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.nuclearDataIO.html">armi.nuclearDataIO package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.operators.html">armi.operators package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="armi.physics.html">armi.physics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.reactor.html">armi.reactor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.scripts.html">armi.scripts package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.settings.html">armi.settings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="armi.utils.html">armi.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armi.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">armi</a> &raquo;</li>
        
          <li><a href="armi.html">armi package</a> &raquo;</li>
        
          <li><a href="armi.physics.html">armi.physics package</a> &raquo;</li>
        
          <li><a href="armi.physics.neutronics.html">armi.physics.neutronics package</a> &raquo;</li>
        
          <li><a href="armi.physics.neutronics.globalFlux.html">armi.physics.neutronics.globalFlux package</a> &raquo;</li>
        
      <li>armi.physics.neutronics.globalFlux.globalFluxInterface module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/terrapower/armi/blob/master/doc/.apidocs/armi.physics.neutronics.globalFlux.globalFluxInterface.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-armi.physics.neutronics.globalFlux.globalFluxInterface">
<span id="armi-physics-neutronics-globalflux-globalfluxinterface-module"></span><h1>armi.physics.neutronics.globalFlux.globalFluxInterface module<a class="headerlink" href="#module-armi.physics.neutronics.globalFlux.globalFluxInterface" title="Permalink to this headline">¶</a></h1>
<p>The Global flux interface provide a base class for all neutronics tools that compute the neutron and/or photon flux.</p>
<dl class="py class">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">GlobalFluxInterface</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">cs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.interfaces.html#armi.interfaces.Interface" title="armi.interfaces.Interface"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.interfaces.Interface</span></code></a></p>
<p>A general abstract interface for global flux-calculating modules.</p>
<p>Should be subclassed by more specific implementations.</p>
<p>Construct an interface.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">r</span></code> and <code class="docutils literal notranslate"><span class="pre">cs</span></code> arguments are required, but may be <code class="docutils literal notranslate"><span class="pre">None</span></code>, where
appropriate for the specific <code class="docutils literal notranslate"><span class="pre">Interface</span></code> implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<a class="reference internal" href="armi.reactor.reactors.html#armi.reactor.reactors.Reactor" title="armi.reactor.reactors.Reactor"><em>Reactor</em></a>) – A reactor to attach to</p></li>
<li><p><strong>cs</strong> (<a class="reference internal" href="armi.settings.caseSettings.html#armi.settings.caseSettings.Settings" title="armi.settings.caseSettings.Settings"><em>Settings</em></a>) – Settings object to use</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – Interfaces derived from Interface must define their name</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.name">
<code class="sig-name descname">name</code><em class="property">: Optional<span class="p">[</span>str<span class="p">]</span></em><em class="property"> = 'GlobalFlux'</em><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.function">
<code class="sig-name descname">function</code><em class="property"> = 'globalFlux'</em><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface._ENERGY_BALANCE_REL_TOL">
<code class="sig-name descname">_ENERGY_BALANCE_REL_TOL</code><em class="property"> = 1e-05</em><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface._ENERGY_BALANCE_REL_TOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.getHistoryParams">
<code class="sig-name descname">getHistoryParams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.getHistoryParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.getHistoryParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Return parameters that will be added to assembly versus time history printouts.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactBOC">
<code class="sig-name descname">interactBOC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cycle</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.interactBOC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactBOC" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at the beginning of each cycle.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactEveryNode">
<code class="sig-name descname">interactEveryNode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cycle</span></em>, <em class="sig-param"><span class="n">node</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.interactEveryNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactEveryNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate flux, power, and keff for this cycle and node.</p>
<p>Flux, power, and keff are generally calculated at every timestep to ensure flux
is up to date with the reactor state.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactCoupled">
<code class="sig-name descname">interactCoupled</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iteration</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.interactCoupled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactCoupled" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs during a tightly-coupled physics iteration to updated the flux and power.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactEOC">
<code class="sig-name descname">interactEOC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cycle</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.interactEOC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.interactEOC" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at the end of each cycle.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface._checkEnergyBalance">
<code class="sig-name descname">_checkEnergyBalance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface._checkEnergyBalance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface._checkEnergyBalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that there is energy balance between the power generated and the specified power is the system.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.getIOFileNames">
<code class="sig-name descname">getIOFileNames</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cycle</span></em>, <em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">coupledIter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">additionalLabel</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.getIOFileNames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.getIOFileNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the input and output file names for this run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cycle</strong> (<em>int</em>) – The cycle number</p></li>
<li><p><strong>node</strong> (<em>int</em>) – The burn node number (e.g. 0 for BOC, 1 for MOC, etc.)</p></li>
<li><p><strong>coupledIter</strong> (<em>int</em><em>, </em><em>optional</em>) – Coupled iteration number (for tightly-coupled cases)</p></li>
<li><p><strong>additionalLabel</strong> (<em>str</em><em>, </em><em>optional</em>) – An optional tag to the file names to differentiate them
from another case.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>inName</strong> (<em>str</em>) – Input file name</p></li>
<li><p><strong>outName</strong> (<em>str</em>) – Output file name</p></li>
<li><p><strong>stdName</strong> (<em>str</em>) – Standard output file name</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.calculateKeff">
<code class="sig-name descname">calculateKeff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">'keff'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterface.calculateKeff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface.calculateKeff" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs neutronics tool and returns keff without applying it to the reactor</p>
<p>Used for things like direct-eigenvalue reactivity coefficients and CR worth iterations.
For anything more complicated than getting keff, clients should
call <code class="docutils literal notranslate"><span class="pre">getExecuter</span></code> to build their case.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">GlobalFluxInterfaceUsingExecuters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">cs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterfaceUsingExecuters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface" title="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterface</span></code></a></p>
<p>A global flux interface that makes use of the ARMI Executer system to run.</p>
<p>Using Executers is optional but seems to allow easy interoperability between
the myriad global flux solvers in the world.</p>
<p>If a new global flux solver does not fit easily into the Executer pattern, then
it will be best to just start from the base GlobalFluxInterface rather than
trying to adjust the Executer pattern to fit.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>This points library users to the Executer object, which is intended to
provide commonly-used structure useful for many global flux plugins.</p>
</div>
<p>Construct an interface.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">r</span></code> and <code class="docutils literal notranslate"><span class="pre">cs</span></code> arguments are required, but may be <code class="docutils literal notranslate"><span class="pre">None</span></code>, where
appropriate for the specific <code class="docutils literal notranslate"><span class="pre">Interface</span></code> implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<a class="reference internal" href="armi.reactor.reactors.html#armi.reactor.reactors.Reactor" title="armi.reactor.reactors.Reactor"><em>Reactor</em></a>) – A reactor to attach to</p></li>
<li><p><strong>cs</strong> (<a class="reference internal" href="armi.settings.caseSettings.html#armi.settings.caseSettings.Settings" title="armi.settings.caseSettings.Settings"><em>Settings</em></a>) – Settings object to use</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – Interfaces derived from Interface must define their name</p>
</dd>
</dl>
<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.interactEveryNode">
<code class="sig-name descname">interactEveryNode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cycle</span></em>, <em class="sig-param"><span class="n">node</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterfaceUsingExecuters.interactEveryNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.interactEveryNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate flux, power, and keff for this cycle and node.</p>
<p>Flux, power, and keff are generally calculated at every timestep to ensure flux
is up to date with the reactor state.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.interactCoupled">
<code class="sig-name descname">interactCoupled</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iteration</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterfaceUsingExecuters.interactCoupled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.interactCoupled" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs during a tightly-coupled physics iteration to updated the flux and power.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.getOptionsCls">
<code class="sig-name descname">getOptionsCls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterfaceUsingExecuters.getOptionsCls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.getOptionsCls" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a blank options object.</p>
<p>Subclass this to allow generic updating of options.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.getExecuterCls">
<code class="sig-name descname">getExecuterCls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterfaceUsingExecuters.getExecuterCls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.getExecuterCls" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.getExecuterOptions">
<code class="sig-name descname">getExecuterOptions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterfaceUsingExecuters.getExecuterOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.getExecuterOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an executer options object populated from current user settings and reactor.</p>
<p>If you want to set settings more deliberately (e.g. to specify a cross section
library rather than use an auto-derived name), use <code class="docutils literal notranslate"><span class="pre">getOptionsCls</span></code> and build
your own.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.getExecuter">
<code class="sig-name descname">getExecuter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">options</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterfaceUsingExecuters.getExecuter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.getExecuter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get executer object for performing custom client calcs</p>
<p>This allows plugins to update options in a somewhat generic
way. For example, reactivity coefficients plugin may want to
request adjoint flux.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.calculateKeff">
<code class="sig-name descname">calculateKeff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">'keff'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxInterfaceUsingExecuters.calculateKeff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxInterfaceUsingExecuters.calculateKeff" title="Permalink to this definition">¶</a></dt>
<dd><p>Run global flux with current user options and just return keff without applying it.</p>
<p>Used for things like direct-eigenvalue reactivity coefficients and CR worth iterations.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxOptions">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">GlobalFluxOptions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.physics.executers.html#armi.physics.executers.ExecutionOptions" title="armi.physics.executers.ExecutionOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.physics.executers.ExecutionOptions</span></code></a></p>
<p>Data structure representing common options in Global Flux Solvers</p>
<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxOptions.fromUserSettings">
<code class="sig-name descname">fromUserSettings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxOptions.fromUserSettings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxOptions.fromUserSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Map user input settings from cs to a set of specific global flux options.</p>
<p>This is not required; these options can alternatively be set programmatically.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxOptions.fromReactor">
<code class="sig-name descname">fromReactor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reactor</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxOptions.fromReactor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxOptions.fromReactor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set options from a particular reactor object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxExecuter">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">GlobalFluxExecuter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">options</span></em>, <em class="sig-param"><span class="n">reactor</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxExecuter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxExecuter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.physics.executers.html#armi.physics.executers.DefaultExecuter" title="armi.physics.executers.DefaultExecuter"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.physics.executers.DefaultExecuter</span></code></a></p>
<p>A short-lived object that coordinates the prep, execution, and processing of a flux solve.</p>
<p>There are many forms of global flux solves:</p>
<ul class="simple">
<li><p>Eigenvalue/Fixed source</p></li>
<li><p>Adjoint/real</p></li>
<li><p>Diffusion/PN/SN/MC</p></li>
<li><p>Finite difference/nodal</p></li>
</ul>
<p>There are also many reasons someone might need a flux solve:</p>
<ul class="simple">
<li><p>Update multigroup flux and power on reactor and compute keff</p></li>
<li><p>Just compute keff in a temporary perturbed state</p></li>
<li><p>Just compute flux and adjoint flux on a state to</p></li>
</ul>
<p>There may also be some required transformations when a flux solve is done:</p>
<ul class="simple">
<li><p>Add/remove edge assemblies</p></li>
<li><p>Apply a uniform axial mesh</p></li>
</ul>
<p>There are also I/O performance complexities, including running on fast local paths
and copying certain user-defined files back to the working directory on error
or completion. Given all these options and possible needs for information from
global flux, this class provides a unified interface to everything.</p>
<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxExecuter._performGeometryTransformations">
<code class="sig-name descname">_performGeometryTransformations</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxExecuter._performGeometryTransformations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxExecuter._undoGeometryTransformations">
<code class="sig-name descname">_undoGeometryTransformations</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxExecuter._undoGeometryTransformations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxExecuter.edgeAssembliesAreNeeded">
<code class="sig-name descname">edgeAssembliesAreNeeded</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxExecuter.edgeAssembliesAreNeeded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxExecuter.edgeAssembliesAreNeeded" title="Permalink to this definition">¶</a></dt>
<dd><p>True if edge assemblies are needed in this calculation</p>
<p>We only need them in finite difference cases that are not full core.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">GlobalFluxResultMapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">externalCodeInterface</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fName</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxResultMapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="armi.interfaces.html#armi.interfaces.OutputReader" title="armi.interfaces.OutputReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.interfaces.OutputReader</span></code></a></p>
<p>A short-lived class that maps neutronics output data to a reactor mode.</p>
<p>Neutronics results can come from a file or a pipe or in memory.
This is always subclassed for specific neutronics runs but contains
some generic methods that are universally useful for
any global flux calculation. These are mostly along the lines of
information that can be derived from other information, like
dpa rate coming from dpa deltas and cycle length.</p>
<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper.getKeff">
<code class="sig-name descname">getKeff</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxResultMapper.getKeff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper.getKeff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper.clearFlux">
<code class="sig-name descname">clearFlux</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxResultMapper.clearFlux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper.clearFlux" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete flux on all blocks. Needed to prevent stale flux when partially reloading.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper._renormalizeNeutronFluxByBlock">
<code class="sig-name descname">_renormalizeNeutronFluxByBlock</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">renormalizationCorePower</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxResultMapper._renormalizeNeutronFluxByBlock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper._renormalizeNeutronFluxByBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize the neutron flux within each block to meet the renormalization power.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>renormalizationCorePower</strong> (<em>float</em>) – Specified power to renormalize the neutron flux for using the isotopic energy
generation rates on the cross section libraries (in Watts)</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTotalEnergyGenerationConstants()</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper._updateDerivedParams">
<code class="sig-name descname">_updateDerivedParams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxResultMapper._updateDerivedParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper._updateDerivedParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes some params that are derived directly from flux and power parameters.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper.updateDpaRate">
<code class="sig-name descname">updateDpaRate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">blockList</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxResultMapper.updateDpaRate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper.updateDpaRate" title="Permalink to this definition">¶</a></dt>
<dd><p>Update state parameters that can be known right after the flux is computed</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">updateFluenceAndDpa()</span></code></dt><dd><p>uses values computed here to update cumulative dpa</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper.updateMaxDpaParams">
<code class="sig-name descname">updateMaxDpaParams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxResultMapper.updateMaxDpaParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper.updateMaxDpaParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Update params that track the peak dpa.</p>
<p>Only consider fuel because CRs, etc. aren’t always reset.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper._updateAssemblyLevelParams">
<code class="sig-name descname">_updateAssemblyLevelParams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#GlobalFluxResultMapper._updateAssemblyLevelParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper._updateAssemblyLevelParams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper">
<em class="property">class </em><code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">DoseResultsMapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depletionSeconds</span></em>, <em class="sig-param"><span class="n">options</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#DoseResultsMapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper" title="armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">armi.physics.neutronics.globalFlux.globalFluxInterface.GlobalFluxResultMapper</span></code></a></p>
<p>Updates fluence and dpa when time shifts.</p>
<p>Often called after a depletion step.</p>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>We attempted to make this a set of stateless functions but the requirement of various
options made it more of a data passing task than we liked. So it’s just a lightweight
and ephemeral results mapper.</p>
</div>
<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reactor</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#DoseResultsMapper.apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the output back to a reactor state.</p>
<p>This provides a generic interface for the output data of anything
to be applied to a reactor state. The application could involve
reading text or binary output or simply parameters to appropriate
values in some other data structure.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper.updateFluenceAndDpa">
<code class="sig-name descname">updateFluenceAndDpa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stepTimeInSeconds</span></em>, <em class="sig-param"><span class="n">blockList</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#DoseResultsMapper.updateFluenceAndDpa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper.updateFluenceAndDpa" title="Permalink to this definition">¶</a></dt>
<dd><p>updates the fast fluence and the DPA of the blocklist</p>
<p>The dpa rate from the previous timestep is used to compute the dpa here.</p>
<dl class="simple">
<dt>There are several items of interest computed here, including:</dt><dd><ul class="simple">
<li><p>detailedDpa: The average DPA of a block</p></li>
<li><dl class="simple">
<dt>detailedDpaPeak: The peak dpa of a block, considering axial and radial peaking</dt><dd><p>The peaking is based either on a user-provided peaking factor (computed in a
pin reconstructed rotation study) or the nodal flux peaking factors</p>
</dd>
</dl>
</li>
<li><p>dpaPeakFromFluence: fast fluence * fluence conversion factor (old and inaccurate). Used to be dpaPeak</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stepTimeInSeconds</strong> (<em>float</em>) – Time in seconds that the cycle ran at the current mgFlux</p></li>
<li><p><strong>blockList</strong> (<em>list</em><em>, </em><em>optional</em>) – blocks to be updated. Defaults to all blocks in core</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">updateDpaRate()</span></code></dt><dd><p>updates the DPA rate used here to compute actual dpa</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper.updateCycleDoseParams">
<code class="sig-name descname">updateCycleDoseParams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#DoseResultsMapper.updateCycleDoseParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper.updateCycleDoseParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates reactor params based on the amount of dose (detailedDpa) accrued this cycle
Params updated include:</p>
<p>maxDetailedDpaThisCycle
dpaFullWidthHalfMax
elevationOfACLP3Cycles
elevationOfACLP7Cycles</p>
<p>These parameters are left as zeroes at BOC because no dose has been accumulated yet.</p>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper.updateLoadpadDose">
<code class="sig-name descname">updateLoadpadDose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#DoseResultsMapper.updateLoadpadDose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper.updateLoadpadDose" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize the dose in DPA of the above-core load pad.</p>
<p>This sets the following reactor params:</p>
<ul class="simple">
<li><p>loadPadDpaPeak : the peak dpa in any load pad</p></li>
<li><p>loadPadDpaAvg : the highest average dpa in any load pad</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This only makes sense for cores with load
pads on their assemblies.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper._calcLoadPadDose" title="armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper._calcLoadPadDose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_calcLoadPadDose()</span></code></a></dt><dd><p>computes the load pad dose</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper._calcLoadPadDose">
<code class="sig-name descname">_calcLoadPadDose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#DoseResultsMapper._calcLoadPadDose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.DoseResultsMapper._calcLoadPadDose" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines some dose information on the load pads if they exist.</p>
<dl class="simple">
<dt>Expects a few settings to be present in cs</dt><dd><dl class="simple">
<dt>loadPadElevation<span class="classifier">float</span></dt><dd><p>The bottom of the load pad’s elevation in cm above the bottom of
the (upper) grid plate.</p>
</dd>
<dt>loadPadLength<span class="classifier">float</span></dt><dd><p>The axial length of the load pad to average over</p>
</dd>
</dl>
</dd>
</dl>
<p>This builds axial splines over the assemblies and then integrates them
over the load pad.</p>
<p>The assumptions are that detailedDpa is the average, defined in the center
and detailedDpaPeak is the peak, also defined in the center of blocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>core</strong> (<a class="reference internal" href="armi.reactor.reactors.html#armi.reactor.reactors.Core" title="armi.reactor.reactors.Core"><em>armi.reactor.reactors.Core</em></a>) – </p></li>
<li><p><strong>cs</strong> (<a class="reference internal" href="armi.settings.caseSettings.html#armi.settings.caseSettings.Settings" title="armi.settings.caseSettings.Settings"><em>armi.settings.caseSettings.Settings</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>peakPeak</strong> (<em>tuple</em>) – A (peakValue, peakAssem) tuple</p></li>
<li><p><strong>peakAvg</strong> (<em>tuple</em>) – a (avgValue, avgAssem) tuple</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">writeLoadPadDoseSummary()</span></code></dt><dd><p>prints out the dose</p>
</dd>
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">Assembly.getParamValuesAtZ()</span></code></dt><dd><p>gets the parameters at any arbitrary z point</p>
</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.computeDpaRate">
<code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">computeDpaRate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mgFlux</span></em>, <em class="sig-param"><span class="n">dpaXs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#computeDpaRate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.computeDpaRate" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the DPA rate incurred by exposure of a certain flux spectrum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mgFlux</strong> (<em>list</em>) – multigroup neutron flux in #/cm^2/s</p></li>
<li><p><strong>dpaXs</strong> (<em>list</em>) – DPA cross section in barns to convolute with flux to determine DPA rate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dpaPerSecond</strong> – The dpa/s in this material due to this flux</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Displacements calculated by displacement XS
Displacement rate = flux * nHT9 * barn  [in #/cm^3/s]</p>
<blockquote>
<div><p>= [#/cm^2/s] * [1/cm^3] * [barn]
= [#/cm^5/s] * [barn] * 1e-24 [cm^2/barn]
= [#/cm^3/s]</p>
</div></blockquote>
<dl>
<dt>DPA rate = displacement density rate / (number of atoms/cc)</dt><dd><p>= dr [#/cm^3/s] / (nHT9)  [1/cm^3]
= flux * barn * 1e-24</p>
<p>flux * N * xs</p>
</dd>
</dl>
</div>
<dl class="simple">
<dt>DPA / s=  —————–  = flux * xs</dt><dd><p>N</p>
</dd>
</dl>
<p>nHT9 cancels out. It’s in the macroscopic XS and in the original number of atoms.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – Negative dpa rate.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="armi.physics.neutronics.globalFlux.globalFluxInterface.calcReactionRates">
<code class="sig-prename descclassname">armi.physics.neutronics.globalFlux.globalFluxInterface.</code><code class="sig-name descname">calcReactionRates</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">keff</span></em>, <em class="sig-param"><span class="n">lib</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/armi/physics/neutronics/globalFlux/globalFluxInterface.html#calcReactionRates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#armi.physics.neutronics.globalFlux.globalFluxInterface.calcReactionRates" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute 1-group reaction rates for this object (usually a block.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference internal" href="armi.reactor.blocks.html#armi.reactor.blocks.Block" title="armi.reactor.blocks.Block"><em>Block</em></a>) – The object to compute reaction rates on. Notionally this could be upgraded to be
any kind of ArmiObject but with params defined as they are it currently is only
implemented for a block.</p></li>
<li><p><strong>keff</strong> (<em>float</em>) – The keff of the core. This is required to get the neutron production rate correct
via the neutron balance statement (since nuSigF has a 1/keff term).</p></li>
<li><p><strong>lib</strong> (<em>XSLibrary</em>) – Microscopic cross sections to use in computing the reaction rates.</p></li>
</ul>
</dd>
</dl>
<div class="admonition-notes admonition">
<p class="admonition-title">Notes</p>
<p>Values include:</p>
<ul class="simple">
<li><p>Fission</p></li>
<li><p>nufission</p></li>
<li><p>n2n</p></li>
<li><p>absorption</p></li>
</ul>
<p>Scatter could be added as well. This function is quite slow so it is
skipped for now as it is uncommonly needed.</p>
<p>Rxn rates are Sigma*Flux = Sum_Nuclides(Sum_E(Sigma*Flux*dE))
S*phi
n*s*phiV/V [#/bn-cm] * [bn] * [#/cm^2/s] = [#/cm^3/s]</p>
<blockquote>
<div><blockquote>
<div><p>(Integral_E in g(phi(E)*sigma(e) dE)</p>
</div></blockquote>
<dl class="simple">
<dt>sigma_g =   ———————————</dt><dd><p>Int_E in g (phi(E) dE)</p>
</dd>
</dl>
</div></blockquote>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="armi.physics.neutronics.isotopicDepletion.html" class="btn btn-neutral float-right" title="armi.physics.neutronics.isotopicDepletion package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="armi.physics.neutronics.globalFlux.html" class="btn btn-neutral float-left" title="armi.physics.neutronics.globalFlux package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2009-2020, TerraPower, LLC
      <span class="lastupdated">
        Last updated on 2020-09-17.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>