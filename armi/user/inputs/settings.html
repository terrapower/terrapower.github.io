

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta property="og:title" content="2.1. The Settings Input File" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://terrapower.github.io/armi/user/inputs/settings.html" />
  <meta property="og:site_name" content="Advanced Reactor Modeling Interface" />
  <meta property="og:description" content="The Settings Input File: The settings input file defines a series of key/value pairs the define various information about the system you are modeling as well as which modules to run and various mod..." />
  <meta property="og:image" content="https://terrapower.github.io/armi/_static/armiSchematicView.png" />
  <meta property="og:image:alt" content="Advanced Reactor Modeling Interface" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2.1. The Settings Input File &mdash; ARMI 0.1.7 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_fixes.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/armiicon_16x16.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.2. The Blueprints Input File" href="blueprints.html" />
    <link rel="prev" title="2. Inputs" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #233C5B" >
          

          
            <a href="../../index.html" class="icon icon-home"> ARMI
          

          
            
            <img src="../../_static/armiicon_24x24.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../user_install.html">1. Installation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">2. Inputs</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">2.1. The Settings Input File</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-armi-gui">2.1.1. The ARMI GUI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#some-special-settings">2.1.2. Some special settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="blueprints.html">2.2. The Blueprints Input File</a></li>
<li class="toctree-l3"><a class="reference internal" href="facemap_file.html">2.3. The Facemap Input File</a></li>
<li class="toctree-l3"><a class="reference internal" href="fuel_management.html">2.4. Fuel Management Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings_report.html">2.5. Settings Report</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../outputs/index.html">3. Outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manual_data_access.html">4. Accessing Data in ARMI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reactor_parameters_report.html">5. Reactor Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core_parameters_report.html">6. Core Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assembly_parameters_report.html">7. Assembly Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../block_parameters_report.html">8. Block Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assorted_guide.html">9. Branch Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assorted_guide.html#physics-coupling">10. Physics Coupling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accessingEntryPoints.html">11. Accessing Entry Points</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../blog/index.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../.apidocs/modules.html">API Docs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ARMI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">User Docs</a> &raquo;</li>
        
          <li><a href="index.html">2. Inputs</a> &raquo;</li>
        
      <li>2.1. The Settings Input File</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/terrapower/armi/blob/master/doc/user/inputs/settings.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="the-settings-input-file">
<h1>2.1. The Settings Input File<a class="headerlink" href="#the-settings-input-file" title="Permalink to this headline">Â¶</a></h1>
<p>The <strong>settings</strong> input file defines a series of key/value pairs the define various information about the system you are
modeling as well as which modules to run and various modeling/approximation settings. For example, it includes:</p>
<ul class="simple">
<li><p>The case title</p></li>
<li><p>The reactor power</p></li>
<li><p>The number of cycles to run</p></li>
<li><p>Which physics solvers to activate</p></li>
<li><p>Whether or not to perform a critical control search</p></li>
<li><p>Whether or not to do tight coupling iterations</p></li>
<li><p>What neutronics approximations specific to the chosen physics solver to apply</p></li>
<li><p>Environment settings (paths to external codes)</p></li>
<li><p>How many CPUs to use on a computer cluster</p></li>
</ul>
<p>This file is a YAML file that you can edit manually with a text editor or with the ARMI GUI.</p>
<p>Here is an excerpt from a settings file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">settings</span><span class="p">:</span>
  <span class="nt">beta</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.003454</span>
  <span class="nt">BOL</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">branchVerbosity</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">debug</span>
  <span class="nt">buGroups</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
  <span class="nt">burnSteps</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
  <span class="nt">clusterExclusive</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
  <span class="nt">comment</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Simple test input.</span>
  <span class="nt">crossSectionControl</span><span class="p">:</span>
    <span class="nt">DA</span><span class="p">:</span>
      <span class="nt">geometry</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0D</span>
      <span class="nt">blockRepresentation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Median</span>
</pre></div>
</div>
<p>A full listing of settings may be found in the <a class="reference internal" href="settings_report.html"><span class="doc">Table of all global settings</span></a>.</p>
<p>Many settings are provided by the ARMI Framework, and others are defined by various plugins.</p>
<div class="section" id="the-armi-gui">
<span id="armi-gui"></span><h2>2.1.1. The ARMI GUI<a class="headerlink" href="#the-armi-gui" title="Permalink to this headline">Â¶</a></h2>
<p>The ARMI GUI may be used to manipulate many common settings (though the GUI canât change all of the settings).  The GUI
also enables the graphical manipulation of a reactor core map, and convenient automation of commands required to submit to a
cluster.  The GUI is a front-end to
these files. You can choose to use the GUI or not, ARMI doesnât know or care â it just reads these files and runs them.</p>
<p>Note that one settings input file is required for each ARMI case, though many ARMI cases can refer to the same
Blueprints, Core Map, and Fuel Management inputs.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The ARMI GUI is not yet included in the open-source ARMI framework</p>
</div>
<div class="section" id="the-assembly-dragger">
<h3>2.1.1.1. The assembly dragger<a class="headerlink" href="#the-assembly-dragger" title="Permalink to this headline">Â¶</a></h3>
<p>The assembly dragger (in the <code class="docutils literal notranslate"><span class="pre">Geometry</span></code> tab) allows users to define the 2-D layout of the assemblies defined in the
<a class="reference internal" href="blueprints.html"><span class="doc">The Blueprints Input File</span></a>. It is currently limited to hexagons. The results of this arrangement get written to
<a class="reference internal" href="facemap_file.html"><span class="doc">The Facemap Input File</span></a>. Drag hexagons from the options on the right and place them into the core positions you
want them to be in. By default, the input assumes a 1/3 core model, but you can create a full core model through the
menu.</p>
<p>If you want one assembly type to fill all positions in a ring, right click it once it is placed and choose <code class="docutils literal notranslate"><span class="pre">Make</span> <span class="pre">ring</span>
<span class="pre">like</span> <span class="pre">this</span> <span class="pre">hex</span></code>. Once you submit the job or save the settings file (File -&gt; Save), you will be prompted for a new name
of the geometry file before the settings file is saved. The geometry setting in the main tab will also be updated.</p>
</div>
<div class="section" id="the-armi-environment-tab">
<h3>2.1.1.2. The ARMI Environment Tab<a class="headerlink" href="#the-armi-environment-tab" title="Permalink to this headline">Â¶</a></h3>
<p>The environment tab contains important settings about which version of ARMI you will run
and with which version of Python, etc. Most important is the <code class="docutils literal notranslate"><span class="pre">ARMI</span> <span class="pre">location</span></code> setting. This
points to the codebase that will run. If you want to run the released version of ARMI,
ensure that it is set in this setting. If you want to run a developer version, then be sure
to update this setting.</p>
<p>Other settings on this tab may need to be updated depending on your computational environment.
Talk to your system admins to determine which settings are best.</p>
</div>
</div>
<div class="section" id="some-special-settings">
<h2>2.1.2. Some special settings<a class="headerlink" href="#some-special-settings" title="Permalink to this headline">Â¶</a></h2>
<p>A few settings warrant additional discussion.</p>
<div class="section" id="detail-assemblies">
<span id="detail-assems"></span><h3>2.1.2.1. Detail assemblies<a class="headerlink" href="#detail-assemblies" title="Permalink to this headline">Â¶</a></h3>
<p>Many plugins perform more detailed analysis on certain regions of the reactor. Since the analyses
often take longer, ARMI has a feature, called <em>detail assemblies</em> to help. Different plugins
may treat detail assemblies differently, so itâs important to read the plugin documentation
as well. For example, a depletion plugin may perform pin-level depletion and rotation analysis
only on the detail assemblies. Or perhaps CFD thermal/hydraulics will be run on detail assemblies,
while subchannel T/H is run on the others.</p>
<p>Detail assemblies are specified by the user in a variety of ways,
through the GUI or the settings system.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Detail Assemblies mechanism has begun to be too broad of a brush
for serious multiphysics calculations with each plugin treating them differently.
It is likely that this feature will be extended to be more flexible and less
surprising in the future.</p>
</div>
<dl class="simple">
<dt>Detail Assembly Locations BOL</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">detailAssemLocationsBOL</span></code> setting is a list of assembly location strings
(e.g. <code class="docutils literal notranslate"><span class="pre">004-003</span></code> for ring 4, position 3). Assemblies that are in these locations at the
beginning-of-life will be activated as detail assemblies.</p>
</dd>
<dt>Detail assembly numbers</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">detailAssemNums</span></code> setting is a list of <code class="docutils literal notranslate"><span class="pre">assemNum</span></code>s that can be inferred from a previous
case and specified, regardless of when the assemblies enter the core. This is useful for
activating detailed treatment of assemblies that enter the core at a later cycle.</p>
</dd>
<dt>Detail all assemblies</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">detailAllAssems</span></code> setting makes all assemblies in the problem detail assemblies</p>
</dd>
</dl>
</div>
<div class="section" id="kinetics-settings">
<span id="id1"></span><h3>2.1.2.2. Kinetics settings<a class="headerlink" href="#kinetics-settings" title="Permalink to this headline">Â¶</a></h3>
<p>In reactor physics analyses it is standard practice to represent reactivity
in either absolute units (i.e., dk/kkâ or pcm) or in dollars or cents. To
support this functionality, the framework supplies the <code class="docutils literal notranslate"><span class="pre">beta</span></code> and
<code class="docutils literal notranslate"><span class="pre">decayConstants</span></code> settings to apply the delayed neutron fraction and
precursor decay constants to the Core parameters during initialization.</p>
<p>These settings come with a few caveats:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">beta</span></code> setting supports two different meanings depending on
the type that is provided. If a single value is given, then this setting
is interpreted as the effective delayed neutron fraction for the
system. If a list of values is provided, then this setting is interpreted
as the group-wise (precursor family) delayed neutron fractions (useful for
reactor kinetics simulations).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">decayConstants</span></code> setting is used to define the precursor
decay constants for each group. When set, it must be
provided with a corresponding <code class="docutils literal notranslate"><span class="pre">beta</span></code> setting that has the
same number of groups. For example, if six-group delayed neutron
fractions are provided, the decay constants must also be provided
in the same six-group structure.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">beta</span></code> is interpreted as the effective delayed neutron fraction for
the system, then the <code class="docutils literal notranslate"><span class="pre">decayConstants</span></code> setting will not be utilized.</p></li>
<li><p>If both the group-wise <code class="docutils literal notranslate"><span class="pre">beta</span></code> and <code class="docutils literal notranslate"><span class="pre">decayConstants</span></code> are provided
and their number of groups are consistent, then the effective delayed
neutron fraction for the system is calculated as the summation of the
group-wise delayed neutron fractions.</p></li>
</ol>
</div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="blueprints.html" class="btn btn-neutral float-right" title="2.2. The Blueprints Input File" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="2. Inputs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2009-2021, TerraPower, LLC.
      <span class="lastupdated">
        Last updated on 2021-10-12.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>